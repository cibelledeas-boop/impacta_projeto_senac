<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Perfil | Impacta Social</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/perfil.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

    <header class="sidebar sidebar-minimal">
        <div class="logo-area">
            <img src="{{ url_for('static', filename='img/img_feed/impactaimg.jpg') }}" class="logo-min">
        </div>

        <nav class="menu">
            <a href="{{ url_for('feed') }}" class="menu-item"><i class="fa-solid fa-globe"></i> <span>Feed</span></a>
            <a href="{{ url_for('perfil') }}" class="menu-item active"><i class="fa-solid fa-user"></i> <span>Perfil</span></a>
            <a href="{{ url_for('direct') }}" class="menu-item"><i class="fa-solid fa-paper-plane"></i> <span>Direct</span></a>
            <a href="{{ url_for('landing') }}" class="menu-item"><i class="fa-solid fa-bullhorn"></i> <span>Landing</span></a>
            <a href="{{ url_for('notificacoes') }}" class="menu-item"><i class="fa-solid fa-bell"></i> <span>Notificações</span></a>
        </nav>
    </header>

    <main class="perfil-container">

        <!-- INFORMAÇÕES DO PERFIL -->
        <section class="perfil-info">

            <img class="perfil-avatar"
                 src="{{ url_for('static', filename=usuario_foto_perfil) }}"
                 alt="Foto do perfil">

            <div class="infos">
                <h2 id="nome-perfil">@{{ usuario_nome }}</h2>

                <ul class="stats">
                    <li><strong>12</strong> publicações</li>
                    <li><strong>340</strong> seguidores</li>
                    <li><strong>280</strong> seguindo</li>
                </ul>

                <p id="bio-perfil">{{ usuario_bio }}</p>

                <button class="edit-btn" id="open-edit">Editar Perfil</button>
            </div>
        </section>

        <!-- PUBLICAÇÕES -->
        <section class="perfil-posts">
            <div class="posts-header">
                <i class="fa-solid fa-border-all"></i>
                <h3><strong>Publicações</strong></h3>
            </div>

            <div class="posts-grid">
                <div class="post-item">
                    <img src="{{ url_for('static', filename='img/img_feed/7101122.jpg') }}">
                </div>
            </div>
        </section>

    </main>

    <!-- MODAL EDITAR PERFIL -->
    <div id="edit-modal" class="popup-ig">
        <div class="popup-card">
            <h3 class="titulo-ig">Editar Perfil</h3>
            <span class="close-ig" id="close-edit">&times;</span>

            <div class="edit-header">
                <img src="{{ url_for('static', filename=usuario_foto_perfil) }}" class="edit-avatar">
                <div>
                    <span class="change-photo" onclick="document.getElementById('edit-file').click()">Mudar Foto do Perfil</span>
                    <input type="file" id="edit-file" name="foto_perfil" style="display: none;" accept="image/*">
                </div>
            </div>

            <form id="edit-form" class="edit-form" action="/editar_perfil" method="POST" enctype="multipart/form-data">
                <div class="form-row">
                    <label for="edit-nome">Nome de Usuário (@)</label>
                    <input type="text" id="edit-nome" name="nome" required>
                </div>

                <div class="form-row">
                    <label for="edit-bio">Biografia</label>
                    <textarea id="edit-bio" name="bio"></textarea>
                </div>

                <button type="submit" class="btn-salvar">Salvar</button>
            </form>

        </div>
    </div>
        <script src="{{ url_for('static', filename='js/perfil.js') }}"></script>

    <!-- MODAL VIEW POST -->
    <div id="view-post-modal" class="popup-ig post-viewer">
        <div class="popup-card post-card-viewer">
            <span class="close-ig" id="close-view-post">&times;</span>

            <div class="viewer-content">

                <div class="viewer-media">
                    <img id="viewer-img" src="" alt="Post">
                </div>

                <div class="viewer-details">
                    <div class="viewer-header">
                        <img class="viewer-avatar" src="{{ url_for('static', filename=usuario_foto_perfil) }}">
                        <strong>@{{ usuario_nome }}</strong>
