"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ee944f37-99d8-57b2-bf71-ca9f9458af8a")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["390"],{302366:function(e,t,n){let a;n.d(t,{L:()=>o});let r=new(n(57044)).Z({name:"billing_remodel_terms",description:"Code related to informing customers about the billing remodel and new terms that they may need to accept",dependencies:[],exports:{"./components":"./components.ts","./hooks":"./hooks.ts","./modals":"./modals.ts","./overlays":"./overlays.ts"},sideEffects:!1,routeHints:["file_browser"]});var i=n(712824);function o(){return a??=(0,i.Y3)(r.createLazyComponent(()=>Promise.resolve().then(n.bind(n,97364)).then(e=>e.SeatBillingTermsModal),(0,i.NQ)("SeatBillingTermsModal")))}},287211:function(e,t,n){n.d(t,{y:()=>s});var a=n(577851),r=n(122610),i=n(694340),o=n(498498),l=n(733265);function s({newFileFrom:e,folderId:t,contextClicked:n,forceOpenNewTab:s}){let d=(0,a.I0)(),{data:c,status:_}=(0,r.RY)(t),m=(0,i.N)(c),u=(0,l.V)({isDraftsFolder:!0,newFileFrom:e,forceOpenNewTab:s}),p="loading"===_;return{newFiles:m.map(({editorType:e,canCreate:t})=>(0,o.r)({editorType:e,isDisabled:!t,isLoading:p,onClick:u({editorType:e,triggerElement:"omnicreate",contextClicked:n})})),import:(0,o.C)({isLoading:p,dispatch:d,targetFolderId:t})}}},608600:function(e,t,n){n.r(t),n.d(t,{default:()=>af,FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT:()=>j,USER_FLAG_V2:()=>E});var a=n(750357),r=n(342534),i=n(363240),o=n(492342),l=n(53022),s=n.n(l),d=n(739842),c=n(590914),_=n(916078),m=n(41277);function u(e){return(0,a.jsx)("div",{className:s()("custom_sections_onboarding_modal--overlay--r85kl",{"custom_sections_onboarding_modal--overlayRedesigned--pQIHu":(0,o.BZ)().file_browser_sidebar_row_ui}),children:(0,a.jsxs)(m.fv,{width:360,dismissModal:e.onClickPrimaryCta,targetKey:"custom-sections-nudge-modal",topPadding:4,arrowPosition:_.xI.LEFT_TITLE,pointerBackgroundColor:"var(--color-bg, $figmaBGWhite)",children:[(0,a.jsx)("h1",{className:"custom_sections_onboarding_modal--header--TcTZF",children:(0,c.tx)("favorited_resources.custom_sections_nudge_header")}),(0,a.jsx)("p",{children:(0,c.tx)("favorited_resources.custom_sections_nudge_body",{ellipses:(0,a.jsx)("strong",{children:(0,c.tx)("favorited_resources.ellipses")}),plus:(0,a.jsx)("strong",{children:(0,c.tx)("favorited_resources.plus")})})}),(0,a.jsx)("div",{className:"custom_sections_onboarding_modal--footerContainerButtonRight--sXYiG custom_sections_onboarding_modal--footerContainer--vdkZ9",children:(0,a.jsx)(d.RS,{onClick:e.onClickPrimaryCta,children:(0,c.tx)("rcs.file_browser.got_it")})})]})})}var p=n(926941),f=n(1434),x=n(621298),g=n(595475),h=n(940358),b=n(728548),v=n(417027);let y="seen_custom_sections_nudge",j="favorites-count-crossed-threshold",w=(0,g.n_)(y);function T(){let e=(0,i.Dv)(w),t=(0,x.I)({overlay:v.a05,priority:h.b.OVERRIDING_MODAL},[e]);return(0,f.l)(t.uniqueId,j,()=>{t.show({canShow:e=>!e})}),(0,a.jsx)(b.R,{isShowing:t.isShowing,userFlagOnShow:y,children:(0,a.jsx)(p.Ui,{name:"Custom Sections Nudge",children:(0,a.jsx)(u,{onClickPrimaryCta:t.complete})})})}var k=n(545449),C=n(13021),N=n(701762),I=n(220722);let E="seen_whats_new_v2_modal",S=(0,g.n_)(E),O=(0,C.Ss)("last_figjam_at");function A(){let e=(0,i.Dv)(g.k9),t=(0,i.Dv)(C.JT),n=(0,i.Dv)(O),r=(0,i.Dv)(S),o=(0,i.Dv)(C.Ep),{show:l,isShowing:s,complete:d}=(0,x.I)({overlay:v.rJS,priority:h.b.DEFAULT_MODAL},[e,t,r,o]);return(0,k.O)(()=>{l({canShow:(e,t,a,r)=>e&&!r&&(0,N.u)({lastUsedFigjamDate:n,userCreatedAt:t,hasSeenOverlayV2:a})})}),(0,a.jsx)(I.K5,{context:"file_browser",isShowing:s,onClose:d})}var D=n(853505),R=n(577851),P=n(193447),B=n(898741),M=n(689342),L=n(574059),F=n(134605),U=n(121142),z=n(66395),Z=n(240213),G=n(711503),$=n(77205),V=n(95238),K=n(585824),H=n(932022),W=n(259282),q=n(3272),Y=n(986849),J=n(871567),Q=n(954703),X=n(421177);let ee="File Browser Onboarding -";function et(e){return(0,a.jsx)(Q.d,{description:(0,c.tx)("rcs.take_tour.see_how_to_create_files_learn_about_drafts_and_teams_ways_to_access_community_and_more"),emphasized:!0,isShowing:e.isShowing,onClose:e.onManualDismiss,position:X.X.BOTTOM_RIGHT,primaryCta:{label:(0,c.tx)("rcs.take_tour.let_s_go"),type:"button",onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:J.y.LETS_GO},secondaryCta:{label:(0,c.tx)("rcs.take_tour.no_thanks"),type:"button",onClick:e.onManualDismiss,ctaTrackingDescriptor:J.y.NO_THANKS},testId:"TakeTourOfFileBrowserOverlay",title:(0,c.tx)("rcs.take_tour.take_a_quick_tour_of_the_file_browser"),trackingContextName:`${ee} Take tour`})}function en(e){let{close:t}=(0,Y.m)(),n=()=>{t(),e.onClickPrimaryCta()};return(0,a.jsx)(H.a,{testId:"AccountSettingsOverlay",modalType:q.w8.SELF_CONTAINED,trackingContextName:`${ee} Account settings`,element:e=>(0,a.jsx)(W.Q0,{dismissModal:e.dismissModal,onClickPrimaryCta:n,forceRender:e.forceRender,step:5,totalSteps:6}),isShowing:e.isShowing,onClickPrimaryCta:n,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var ea=n(202066),er=n(689642),ei=n(536010);function eo(e){let t=(0,R.I0)(),n=(0,R.v9)(e=>e.user?.drafts_folder_id);return D.useEffect(()=>((0,er.O4)(),()=>void(0,er.zl)()),[t,n]),(0,a.jsx)(ea.S,{eventListeners:["onMouseDown"],children:(0,a.jsxs)(m.Qm,{dismissModal:e.dismissModal,width:228,targetKey:ei.a,topPadding:12,alignPointerToLeft:!0,children:[(0,c.tx)("rcs.create_files.create_files_from_scratch_import_designs_from_sketch_or_start_from_templates"),(0,a.jsx)(W.go,{onClick:e.onClickPrimaryCta,step:1,totalSteps:6})]})})}function el(e){return(0,a.jsx)(H.a,{testId:"CreateFilesOverlay",modalType:q.w8.SELF_CONTAINED,trackingContextName:`${ee} Create files`,element:eo,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var es=n(159440);function ed(e){return(0,a.jsxs)(m.Qm,{dismissModal:e.dismissModal,width:228,targetKey:es.lY,topPadding:8,alignPointerToLeft:!0,children:[(0,c.tx)("rcs.create_files.files_are_great_for_collaboration_while_your_drafts_are_more_personal_if_you_share_them_they_re_view_only"),(0,a.jsx)(W.go,{onClick:e.onClickPrimaryCta,step:2,totalSteps:6})]})}function ec(e){return(0,a.jsx)(H.a,{testId:"DraftsOverlay",modalType:q.w8.SELF_CONTAINED,trackingContextName:`${ee} Drafts`,element:ed,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var e_=n(407720);function em(e){let{open:t}=(0,Y.m)();return(0,a.jsxs)(m.Qm,{dismissModal:e.dismissModal,width:247,targetKey:e_.YU,alignPointerToLeft:!0,topPadding:12,children:[(0,c.tx)("rcs.account_switching.explore_community"),(0,a.jsx)(W.go,{onClick:()=>{t(),e.onClickPrimaryCta()},step:4,totalSteps:6})]})}function eu(e){return(0,a.jsx)(H.a,{testId:"ExploreCommunityOverlay",modalType:q.w8.SELF_CONTAINED,trackingContextName:`${ee} Community Hub`,element:em,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var ep=n(893828);function ef(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(ep.k6,{src:(0,L.bl)("app/onboarding/page-4.gif")}),(0,a.jsxs)(ep.cn,{children:[(0,c.tx)("rcs.import.one_of_the_coolest_things_about_figma_is_that_you_don_t_have_to_start_from_scratch_to_get_to_work"),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,c.tx)("rcs.import.just_drag_your_sketch_files_onto_the_browser_and_we_ll_convert_them_to_figma_for_you")]})]})}function ex(e){return(0,a.jsx)(H.a,{currentStepIndex:e.currentStepIndex,element:ef,isShowing:e.isShowing,modalType:q.w8.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,onboardingKey:"import",testId:"ImportOverlay",title:()=>(0,c.t)("rcs.import.import_sketch_files"),totalNumSteps:e.totalNumSteps,trackingContextName:"Import Sketch File Onboarding Modal",userFlagOnShow:"import_file_onboarded"})}function eg(e){return(0,a.jsx)(H.a,{testId:"NotificationsOverlay",modalType:q.w8.SELF_CONTAINED,trackingContextName:`${ee} Notifications`,element:e=>(0,a.jsx)(W.yN,{dismissModal:e.dismissModal,onClickPrimaryCta:e.onClickPrimaryCta,forceRender:e.forceRender,step:6,totalSteps:6}),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eh=n(918026),eb=n(996373),ev=n(306029),ey=n(798649);function ej(e){return(0,a.jsx)(H.a,{ctaText:(0,c.tx)("rcs.open_file.create_file"),currentStepIndex:e.currentStepIndex,element:()=>(0,a.jsx)(ep.cn,{children:(0,c.tx)("rcs.open_file.open_a_file_to_learn_more_about_figma_s_powerful_editing_features")}),isShowing:e.isShowing,modalType:q.w8.DRAGGABLE,onClickPrimaryCta:()=>{e.onClickPrimaryCta();let t=eh.V.getState();eh.V.dispatch(eb.U8((0,ev.$1)({state:t,openNewFileIn:ey.JD.SAME_TAB})))},onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"OpenFileOverlay",title:()=>(0,c.t)("rcs.open_file.edit_a_file"),totalNumSteps:e.totalNumSteps,trackingContextName:"Edit a File Onboarding Modal"})}var ew=n(277413);function eT(){let e=(0,R.v9)(e=>e.currentUserOrgId),t=(0,ew.GF)(e).data??!1,n=(0,c.tx)("rcs.org_welcome.click_the_all_teams_button_on_the_left_to_find_teams_to_join");return t&&(n=(0,c.tx)("rcs.bigma_org_welcome.click_the_all_workspaces_button_on_the_left_to_find_teams_to_join")),(0,a.jsxs)("div",{children:[(0,a.jsx)(ep.k6,{src:(0,L.o1)("6f3307f82aeddf6f609eaf97ee9e66e788d485c1"),width:215,margin:"14px 0px 14px 27px"}),(0,a.jsxs)(ep.cn,{children:[(0,a.jsx)("p",{children:(0,c.tx)("rcs.org_welcome.figma_organization_connects_files_projects_libraries_and_teams_securely_across_your_company")}),n]})]})}function ek(e){return(0,a.jsx)(H.a,{currentStepIndex:e.currentStepIndex,element:eT,highlightOnlyKey:"new-team-icon",isShowing:e.isShowing,modalType:q.w8.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"OrgWelcomeOverlay",title:()=>(0,c.t)("rcs.org_welcome.welcome_to_your_figma_organization"),totalNumSteps:e.totalNumSteps,trackingContextName:"Orgs Welcome Onboarding Modal",userFlagOnShow:"orgs_onboarded",width:376})}var eC=n(430615),eN=n(879151);function eI(e){let{open:t,close:n}=(0,eN.n)();return D.useEffect(()=>{t()},[t]),(0,a.jsxs)(m.Qm,{dismissModal:e.dismissModal,width:228,targetKey:eC.a,topPadding:8,alignPointerToLeft:!0,className:"plan_spaces_overlay--planSpacesPointerModal--8EIjP pointer_modal--pointerModalBlue--8BCUs pointer_modal--pointerModal--VrJy4",children:[(0,c.tx)("rcs.plan_spaces.file_browser_onboarding_step.seat_rename"),(0,a.jsx)(W.go,{onClick:()=>{n(),e.onClickPrimaryCta()},step:3,totalSteps:6})]})}function eE(e){return(0,a.jsx)(H.a,{testId:"PlanSpacesOverlay",modalType:q.w8.SELF_CONTAINED,trackingContextName:`${ee} Plan Spaces`,element:eI,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eS=n(555792);function eO(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(ep.cn,{children:[(0,c.tx)("rcs.welcome_step.welcome_to_figma"),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,c.tx)("rcs.welcome_step.we_re_different_from_other_design_tools_in_some_really_special_ways_so_we_d_like_to_take_you_through_them")]}),(0,a.jsx)(ep.wj,{children:(0,a.jsx)(eS.XT,{onClick:e.onClickPrimaryCta,variant:"primary",children:(0,c.tx)("rcs.welcome_step_view.next")})})]})}function eA(e){let t=(0,R.v9)(e=>e.user?.name),n=t?(0,c.t)("rcs.welcome_step.welcome_user_name",{userFirstName:t}):(0,c.t)("rcs.welcome_step.welcome");return(0,a.jsx)(H.a,{currentStepIndex:e.currentStepIndex,disableFooter:!0,element:eO,isShowing:e.isShowing,modalType:q.w8.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"WelcomeOnboardingOverlay",title:()=>n,totalNumSteps:e.totalNumSteps,trackingContextName:"Welcome Onboarding Modal",userFlagOnShow:"welcome_onboarded"})}let eD=(0,g.n_)("file_browser_onboarded"),eR=["seen_sidebar_workspace_onboarding","seen_search_workspace_onboarding","seen_libraries_workspace_onboarding"];function eP(){let e=(0,R.I0)(),t=(0,i.Dv)(g.PW),n=(0,i.Dv)(eD),r=(0,M.D9)(n),o=(0,i.Dv)(C.$e),l=(0,R.v9)(e=>e.currentUserOrgId),s=(0,Z.oh)(l),d=(0,i.Dv)(s),c=(0,i.Dv)(C.Ep),_=(0,x.I)({overlay:v.LWr,priority:h.b.OVERRIDING_MODAL},[t,o,d,c]),[m,u]=(0,D.useState)([]),[p,b]=(0,D.useState)([]),y=(0,D.useCallback)(e=>{_.show({canShow:(t,n,a,r)=>{let i=(function({userFlags:e,userSpace:t,isReset:n,isOrgUserExternallyRestricted:a}){let r=t===V.FQ.ORG,i=(0,G.XM)(e),o=(0,L.ZP)().is_limited_team_plan,l=(0,G.aS)(e,"not_gen_0"),s=(0,G.aS)(e,"welcome_onboarded"),d=(0,G.aS)(e,"file_browser_onboarded"),c=[ek,ex,(0,$.df)(e)||a?null:ej],_=[...a?[]:[el,ec],eE,eu,en,eg],m=[et,..._];return o?[]:n||l||r?!n&&(r||l)&&d?[]:r?c:i?m:l?(()=>{let e=(0,B.gm)();try{return!!e.get(F.XJ)}catch(e){}return!1})()||s?[et,..._]:[eA,..._]:m:d?[]:m})({userFlags:t,userSpace:n,isReset:e,isOrgUserExternallyRestricted:r}).filter(e=>!!e);return!!i.length&&(u(i),b(["file_browser_onboarded","community_hub_onboarded","variants_onboarded","account_switcher_onboarded",...n===V.FQ.ORG&&a?eR:[]]),!0)}})},[_]);(0,k.O)(()=>{y(!1)}),(0,f.l)(_.uniqueId,"Reset Onboarding",()=>y(!0)),D.useEffect(()=>{_.isShowing&&r?.status==="loaded"&&r?.data===!1&&n?.status==="loaded"&&n?.data===!0&&_.complete()},[_,n,r]);let j=D.useCallback(()=>{let t={};for(let e of p)t[e]=!0;e(U.v(t)),_.complete()},[e,_,p]);return _.isShowing&&0!==m.length?(0,a.jsx)(eB,{steps:m,onComplete:j}):null}function eB(e){let{steps:t,onComplete:n}=e,r=(0,z.Z)({numSteps:t.length,onComplete:n});return(0,a.jsx)(K.Y,{currentStep:r.currentStep,isShowing:!0,children:D.useMemo(()=>t.map((e,a)=>D.createElement(e,{onClickPrimaryCta:r.next,onClose:P.ZT,onManualDismiss:n,isShowing:!0,currentStepIndex:a,totalNumSteps:t.length})),[t,r,n])})}var eM=n(661759),eL=n(661193),eF=n(866218),eU=n(575376),ez=n(570243);function eZ(){let e=(0,R.v9)(e=>e.currentUserOrgId),t=(0,i.Dv)(eU.l),n=(0,ez.US)(),r=(0,c.tx)("rcs.org_welcome.click_on_the_organization_button_on_the_left_to_find_teams_to_join");return(0,eF.Gd)(e)?r=n?(0,c.tx)("rcs.bigma_org_welcome.click_the_all_workspaces_button_on_the_left_to_find_teams_to_join"):(0,c.tx)("rcs.org_welcome.click_the_all_teams_button_on_the_left_to_find_teams_to_join"):t&&(r=(0,c.tx)("rcs.org_welcome.click_the_current_org_name_span_button_on_the_left_to_find_teams_to_join",{orgName:(0,a.jsx)("span",{className:eL.B.fontBold.$,children:t.name})})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:eL.B.pb8.$,children:(0,c.tx)("rcs.org_welcome.figma_organization_connects_files_projects_libraries_and_teams_securely_across_your_company")}),r]})}let eG="orgs_onboarded",e$=(0,g.n_)(eG);function eV(){let e=(0,i.Dv)(C.$e),t=(0,i.Dv)(e$),n=(0,x.I)({overlay:v.h0X,priority:h.b.OVERRIDING_MODAL},[e,t]);return(0,k.O)(()=>{n.show({canShow:(e,t)=>e===V.FQ.ORG&&!t})}),(0,a.jsx)(Q.d,{description:(0,a.jsx)(eZ,{}),isShowing:n.isShowing,media:(0,a.jsx)(eM.S,{src:(0,L.o1)("87621fc5a99a1d24beb515288cf764febb8f01e9.png"),alt:"A screenshot of the teams list with cursor hovering over the 'Request to Join' link",aspectRatio:1.75}),onClose:n.complete,position:X.X.CENTER,primaryCta:{label:(0,c.tx)("rcs.rcs_shared.done"),type:"button",onClick:n.complete,ctaTrackingDescriptor:J.y.DONE},title:(0,c.tx)("rcs.org_welcome.welcome_to_your_figma_organization"),trackingContextName:"Orgs Welcome Onboarding Modal",userFlagOnShow:eG,width:350})}var eK=n(527986),eH=n(273634),eW=n(632959),eq=n(599584),eY=n(319352),eJ=n(764162),eQ=n(10553),eX=n(118960),e0=n(717783),e1=n(444947),e9=n(640296),e3=n(365448),e5=n(558089),e2=n(976699),e4=n(5794),e7=n(155969);let e6="workspace_selector";function e8({workspaces:e,onModalClose:t}){let[n,r]=D.useState(null),i=(0,R.I0)(),o=(0,R.v9)(({selectedView:e})=>e),l=(0,eJ.Ng)();if(!l)throw Error("org is not defined");("fullscreen"===o.view||"prototype"===o.view)&&t();let s=(0,a.jsxs)("div",{className:eL.B.flexShrink0.flex.flexColumn.itemsCenter.gap8.$,children:[(0,a.jsx)("img",{className:eL.B.w100.h100.$,src:(0,L.o1)("b907892c6132bbea2173d8e95c096187288f54f9"),alt:"",width:100,height:100}),(0,a.jsx)("span",{className:eL.B.textHeadingLarge.colorText.$,children:(0,c.tx)("onboarding.workspace_step.title")}),(0,a.jsx)("span",{className:eL.B.textBodyLarge.colorText.$,children:(0,a.jsx)("div",{className:"workspace_selector--descriptionContainer--lmit4",children:(0,c.tx)("onboarding.workspace_step.subtitle_v2",{orgName:l.name,tipText:(0,a.jsx)("span",{className:eL.B.textBodyLargeStrong.$,children:(0,c.tx)("onboarding.workspace_step.tip")})})})})]}),d=(0,a.jsx)(e5.l,{className:eL.B.flexShrink1.minH200.mt24.$,innerClassName:eL.B.flex.flexColumn.gap12.p16.pt2.$,children:e.map(e=>(0,a.jsx)(te,{workspace:e,onClick:()=>r(e),isSelected:n?.id===e.id},e.id))}),_=(0,a.jsx)("div",{className:eL.B.flex.justifyEnd.p16.colorBorder.bSolid.bt1.$,children:(0,a.jsxs)("div",{className:eL.B.flex.gap10.$,children:[(0,a.jsx)(e9.pJ,{onClick:t,trackingProperties:{trackingDescriptor:J.y.SKIP},children:(0,c.tx)("onboarding.skip")}),(0,a.jsx)(e9.RS,{onClick:()=>{n&&(i(e2.N({workspace:n})),t())},disabled:null===n,trackingProperties:{trackingDescriptor:J.y.JOIN},children:(0,c.tx)("onboarding.workspace_step.join")})]})});return(0,a.jsx)(p.Ui,{name:e6,children:(0,a.jsxs)(e7.bc,{className:eL.B.relative.$,size:680,height:576,padding:0,tintedModalBackground:!0,hide:e=>{(0,e1.L9)("Modal Close",{source:e,trackingContext:e6}),t()},disableClickOutsideToHide:!0,children:[(0,a.jsxs)("div",{className:eL.B.flex.flexColumn.hFull.$,children:[(0,a.jsxs)(e5.l,{className:eL.B.flexGrow1.$,innerClassName:eL.B.borderBox.hFull.flex.flexColumn.itemsCenter.alignCenter.px32.pt32.$,children:[s,d]}),_]}),(0,a.jsx)(e3.PZ,{className:eL.B.absolute.top0.right0.mt8.mr8.$,onClick:t,trackingProperties:{trackingDescriptor:J.y.CLOSE_BUTTON}})]})})}function te({workspace:e,isSelected:t,onClick:n}){return(0,a.jsxs)("button",{className:s()("workspace_selector--workspaceOptionButton--TSBPy",{"workspace_selector--workspaceOptionButtonSelected--oMlyq":t}),onClick:n,type:"button",children:[(0,a.jsx)(e4.zf,{entity:e,size:32}),(0,a.jsx)("span",{className:eL.B.flexGrow1.truncate.textBodyLarge.colorText.ml16.$,children:e.name}),(0,a.jsx)("div",{className:s()("workspace_selector--radioButton--nvy9a",{"workspace_selector--radioButtonSelected--MndgM":t})})]})}let tt="workspace_selector_seen",tn=(0,eY.k)(tt),ta=(0,i.xu)(e=>(0,eq.xM)(eQ.f26.Query({orgId:e}),e=>{if(!e.org?.workspaces)return null;let t=e.org.workspaces.filter(e=>e.canView);return(0,eK.aV)(t,"name"),t}));function tr(){let e=(0,eJ.$0)(),t=(0,eX.Rt)("OrgSelectWorkspaceOverlay"),n="loaded"===t.status?t?.data?.key.parentId??void 0:void 0,r=(0,D.useRef)();r.current=n;let o=(0,i.Dv)(C.$e),l=(0,i.Dv)(Z.F$),s=(0,ew.N_)(e),d=(0,i.Dv)(ta(e)),c=(0,i.Dv)(tn),{show:_,complete:m,isShowing:u}=(0,x.I)({overlay:v.wA_,priority:h.b.HIGH_PRIORITY_MODAL},[o,l,s,d,c,t]);return((0,k.O)(()=>{_({canShow:(e,t,n,a,r,i)=>e===V.FQ.ORG&&!!t&&!n&&!!a&&0!==a.length&&!r&&!!i&&!0,onShow:()=>{e0.Q.postOrgUserFlags({orgUserId:r.current,flags:{[tt]:!0}})}})}),u&&"loaded"===d.status)?d.data?(0,a.jsx)(b.R,{isShowing:!0,testId:"org-select-workspace-overlay",children:(0,a.jsx)(e8,{onModalClose:m,workspaces:d.data})}):((0,eW.Jz)(eH.k.SCALE,Error("workspaceSelectorOptionsAtomQuery.data not present after OrgSelectWorkspace overlay is showing")),m(),null):null}var ti=n(158639),to=n(622258),tl=n(404008),ts=n(688854),td=n(919601),tc=n(450413),t_=n(519642),tm=n(961698),tu=n(382455),tp=n(458780),tf=n(225094);let tx=D.memo(({hasOrgPlan:e,assetSrc:t,onClickPrimaryCTA:n,hasOnlyOneStarterPlan:r})=>(0,a.jsx)(tg,{onClickPrimaryCTA:n,titleText:r?(0,a.jsx)(tf.x,{fontSize:20,fontWeight:"medium",children:(0,c.tx)("rcs.plan_spaces.drafts_have_a_new_home")}):e?(0,a.jsx)(tf.x,{fontSize:20,fontWeight:"medium",children:(0,c.tx)("rcs.plan_spaces.a_simpler_switcher_menu")}):(0,a.jsx)(tf.x,{fontSize:20,fontWeight:"medium",children:(0,c.tx)("rcs.plan_spaces.changes_to_your_drafts")}),descriptionText:r?(0,a.jsx)(tf.x,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.drafts_lived_in_separate_area")}):e?(0,a.jsx)(tf.x,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.a_simpler_switcher_menu.description")}):(0,a.jsx)(tf.x,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.starter_pro.onboarding_modal_description")}),secondaryDescriptionText:r?(0,a.jsx)(tf.x,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.nothing_else_has_changed")}):e?(0,a.jsx)(tf.x,{fontSize:14,color:"secondary",children:(0,c.tx)("rcs.plan_spaces.user_help_migrating_drafts_awareness")}):(0,a.jsx)(tf.x,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.starter_pro.onboarding_modal_body")}),primaryButtonText:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)(e||r?"rcs.plan_spaces.got_it":"rcs.plan_spaces.show_me_what_changed")}),assetSrc:t,hasOnlyOneStarterPlan:r})),tg=D.memo(({titleText:e,descriptionText:t,onClickPrimaryCTA:n,secondaryDescriptionText:r,primaryButtonText:i,assetSrc:o,hasOnlyOneStarterPlan:l})=>{let s=D.useCallback(()=>{tp.ZP.unsafeRedirect("https://www.figma.com/blog/updates-to-how-drafts-work/","_blank")},[]);return(0,a.jsxs)("div",{className:"plan_spaces_launch_modal_components--container--0UK5W",children:[(0,a.jsxs)("div",{className:"plan_spaces_launch_modal_components--textContainer--HG1gG",children:[(0,a.jsx)("p",{className:"plan_spaces_launch_modal_components--titleProperties--kVsSn",children:e}),(0,a.jsx)("div",{className:eL.B.pb16.$,children:t}),(0,a.jsx)("div",{children:r}),(0,a.jsxs)("div",{className:"plan_spaces_launch_modal_components--ctaRow--8aRzU",children:[(0,a.jsx)(d.OK,{onClick:n,children:i}),(0,a.jsx)(d.G2,{onClick:s,children:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("rcs.plan_spaces.learn_more")})})]})]}),l?(0,a.jsx)("img",{src:o,alt:"An illustration of the Figma sidebar",width:364}):(0,a.jsx)(ep.oF,{width:364,src:o})]})}),th=new Date("2024-05-15T20:00:00.000Z").getTime();function tb(){return(0,a.jsx)(ti.X,{label:"PlanSpacesFileBrowserOverlays",children:(0,a.jsx)(tv,{})})}function tv(){let e=(0,R.v9)(e=>e.plans),t=(0,R.v9)(e=>e.teams),n=(0,R.v9)(e=>e.userFlags.personal_draft_migration_scheduled),r=e.filter(e=>e.plan_type===t_.k.TEAM).map(e=>t[e.plan_id]).filter(e=>!!e),l=(0,td.Fg)(),s=(0,i.Dv)(C.JT),d=e.some(e=>e.plan_type===t_.k.ORG),_=1===r.length&&r[0].starter_team&&!d,m=function(e,t,n){let a={darkMode:{org:(0,L.o1)("35339bd6f100fd7c2dca24546e4ded3f7397d137"),teams:(0,L.o1)("055e7f20c52382bdb565fbe89f04d9673952663a"),starter:(0,L.o1)("6327332cd808163a39e7093c9c388f6e16927cc4")},lightMode:{org:(0,L.o1)("d26daa4a5677426d2b01aa43677bf4c65f50b0bd"),teams:(0,L.o1)("1c1ca856971dff41eff57240862cf81437cb4dce"),starter:(0,L.o1)("b425061637a5821d58f2ce45dee702f544ea52d6")}},r=e?"darkMode":"lightMode";return n?a[r].starter:t?a[r].org:a[r].teams}("dark"===l,d,_),u=(0,tl.dz)(),p=(0,tc.Y)(),f=!((0,o.BZ)().ps_personal_draft_migration&&!n&&_)&&u>0,{currentStep:g,next:b}=(0,z.Z)({numSteps:2,onComplete:P.ZT}),y=[{title:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.drafts_in_a_team"),description:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.private_drafts_folder"),trackingContextName:"Plan spaces onboarding - Team drafts folder",targetKey:es.lY,emphasized:!0,pointToLeftEdge:!0,disableHighlight:!0},{title:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.new_space_for_teams"),description:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.switch_between_teams"),trackingContextName:"Plan spaces onboarding - A new way to access teams",targetKey:ts.W,emphasized:!0,shouldCenterArrow:tu.Ht.BEST_EFFORT,disableHighlight:!0}];f&&y.push({title:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.lets_move_these_files"),description:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.finding_the_right_home"),trackingContextName:"Plan spaces onboarding - Drafts to move",targetKey:to.Y,emphasized:!0,disableHighlight:!0,pointToLeftEdge:!0});let{show:j,isShowing:w,complete:T}=(0,x.I)({overlay:v.NhN,priority:h.b.DEFAULT_MODAL+1},[s]);(0,D.useEffect)(()=>{p||j({canShow:e=>!!e&&(e.getTime()<=th||u>0)})},[p,u,j]);let k=(0,D.useCallback)(e=>(0,a.jsx)(tx,{hasOrgPlan:d,hasOnlyOneStarterPlan:_,assetSrc:m,onClickPrimaryCTA:e.onClickPrimaryCta}),[d,m,_]);return e.length?(0,a.jsxs)(K.Y,{currentStep:g,isShowing:w,children:[(0,a.jsx)(H.a,{closeButtonStyle:q.fe.ON_LIGHT,disableClickOutsideToHide:!0,element:k,isShowing:w,modalType:q.w8.FEATURE_UPDATE,onClickPrimaryCta:d?T:b,onClose:P.ZT,onManualDismiss:T,trackingContextName:"plan_spaces_launch_modal",userFlagOnShow:"seen_limited_spaces_onboarding"}),(0,a.jsx)(tm.Ok,{steps:y,isShowing:w,onComplete:T})]}):null}var ty=n(913408);let tj="saw_recreated_starter_team_onboarding",tw=(0,g.n_)(tj),tT=(0,g.n_)("had_recreated_starter_team");function tk(){let e=(0,i.Dv)(tw),t=(0,tc.Y)(),n=(0,i.Dv)(tT),{show:r,isShowing:o,complete:l}=(0,x.I)({overlay:v.syC,priority:h.b.DEFAULT_MODAL},[e,n]);return(0,k.O)(()=>{t||r({canShow:(e,t)=>!e&&t})}),(0,a.jsx)(ty.ZZ,{arrowPosition:tu.xI.LEFT_TITLE,description:(0,a.jsx)("p",{children:(0,c.tx)("rcs.plan_spaces_new_starter_team.text")}),emphasized:!0,isShowing:o,onClose:l,targetKey:ts.W,testId:"PlanSpacesRecreatedStarterTeamOverlay",title:(0,c.tx)("rcs.plan_spaces_new_starter_team.title"),trackingContextName:"plan_spaces_recreated_starter_team_modal",userFlagOnShow:tj})}var tC=n(28620),tN=n(845277),tI=n(237335),tE=n(620516),tS=n(864197),tO=n(57829);function tA({title:e,leftComponent:t,isExpanded:n,onClick:r,children:i}){let[o,l]=(0,D.useState)(n??!1);return(0,D.useEffect)(()=>{void 0!==n&&l(n)},[n]),(0,a.jsxs)(tS.j,{verticalAlignItems:"start",width:"100%",height:"hug-contents",children:[t,(0,a.jsxs)(tS.j,{direction:"vertical",children:[(0,a.jsx)("div",{tabIndex:0,className:eL.B.wFull.$,role:"button",onClick:()=>{r&&r(o),l(e=>!e)},children:(0,a.jsxs)(tS.j,{horizontalAlignItems:"space-between",verticalAlignItems:"center",children:[(0,a.jsx)("div",{className:eL.B.font14.fontMedium.$,children:e}),(0,a.jsx)(tO.JO,{icon:o?"chevron-up-32":"chevron-down-32"})]})}),o&&(0,a.jsx)("div",{className:eL.B.font13.$,children:i})]})]})}var tD=n(240473);function tR({hideModal:e,trackingName:t,trackingProperties:n,children:r}){return(0,a.jsx)(p.Ui,{name:t,properties:{...n,...tE.pl.getTrackingProperties()},children:(0,a.jsx)(e7.bc,{hide:e,size:"any",className:"pro_trial_form_modal--modalContainer--XjIJT",children:r})})}var tP=n(457366);function tB(e){let{stepProps:t,titleText:n,descriptionText:r,middleContent:i,ctaOnClick:o,ctaDisabled:l,ctaText:s,textCtaOnClick:_,textCtaText:m,hideModal:u}=e;return(0,a.jsxs)("div",{className:"pro_trial_form_modal--container--xE-iQ",children:[(0,a.jsxs)("div",{className:"pro_trial_form_modal--header--mFvic",children:[(0,a.jsx)(tD.n,{svg:tP.Z,className:"pro_trial_form_modal--icon--SYmUe",useOriginalSrcFills_DEPRECATED:!0}),(0,a.jsx)(e3.PZ,{innerText:"Close",onClick:u})]}),(0,a.jsxs)("div",{className:"pro_trial_form_modal--content--KX2hl text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:[(0,a.jsxs)("div",{className:"pro_trial_form_modal--titleTextContainer--q3CqM",children:[t&&(0,a.jsx)(tf.x,{color:"secondary",fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.step_counter",{currentStep:t.currentStep+1,totalSteps:t.totalSteps})}),n,r]}),i,(0,a.jsxs)("div",{className:"pro_trial_form_modal--footer--BZ3NK",children:[(0,a.jsx)(d.OK,{onClick:o,className:"pro_trial_form_modal--footerCTA--Ipx1e",disabled:l,trackingProperties:tE.pl.getTrackingProperties("continue"),children:s}),(0,a.jsx)(d.UA,{trackingProperties:tE.pl.getTrackingProperties("go back"),onClick:_,children:m})]})]})]})}var tM=n(469271),tL=n(197651),tF=n(672650),tU=n(143456),tz=n(712824),tZ=n(245729),tG=n(369360);function t$(){let[e,t]=(0,D.useState)(),n=(0,D.useMemo)(()=>[{title:(0,a.jsx)(tf.x,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.consumption_limit.title",{maxNumOfFiles:tF.Hf,maxNumOfProjects:tF.kl})}),children:(0,a.jsx)(tf.x,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.consumption_limit.description")}),leftComponent:(0,a.jsx)(tS.j,{width:"hug-contents",height:"hug-contents",padding:{top:8},children:(0,a.jsx)(tD.n,{svg:tZ.Z,className:eL.B.colorIconDanger.$})})},{title:(0,a.jsx)(tf.x,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.team_library.title")}),children:(0,a.jsx)(tf.x,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.team_library.description")}),leftComponent:(0,a.jsx)(tS.j,{width:"hug-contents",height:"hug-contents",padding:{top:8},children:(0,a.jsx)(tD.n,{svg:tG.Z,className:eL.B.colorIconDanger.$})})},{title:(0,a.jsx)(tf.x,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.other.title")}),children:(0,a.jsx)(tf.x,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.other.description")}),leftComponent:(0,a.jsx)(tS.j,{width:"hug-contents",height:"hug-contents",padding:{top:8},children:(0,a.jsx)(tD.n,{svg:tG.Z,className:eL.B.colorIconDanger.$})})}],[]);return(0,a.jsx)(tS.j,{width:"100%",direction:"vertical",spacing:24,padding:{top:32},children:n.map(({title:n,children:r,leftComponent:i},o)=>(0,a.jsx)(tS.j,{height:"hug-contents",strokeColor:"default",strokeWidth:{left:0,top:0,right:0,bottom:1},padding:{bottom:24},children:(0,a.jsx)(tA,{leftComponent:i,title:n,isExpanded:e===o,onClick:e=>{e?t(void 0):t(o)},children:r})},o))})}let tV=(0,tz.Y3)(function({teamId:e}){let t=(0,R.I0)(),n=(0,D.useCallback)(()=>{t(tM.hV())},[t]),r=(0,D.useCallback)(()=>{n(),t(tL.v_({all_team_flags:[{team_id:e,flags:{[tE.wb]:!1}}]}))},[t,n,e]);return(0,a.jsx)(tR,{trackingName:tU.$S,hideModal:n,children:(0,a.jsx)(tB,{titleText:(0,a.jsx)(tf.x,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.downgrade_modal.title")}),descriptionText:(0,a.jsx)(tf.x,{color:"secondary",fontSize:13,children:(0,c.tx)("pro_trials_v3.downgrade_modal.description")}),middleContent:(0,a.jsx)(t$,{}),ctaOnClick:n,ctaDisabled:!1,ctaText:(0,a.jsx)(tf.x,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.cta.text")}),textCtaOnClick:r,textCtaText:(0,a.jsx)(tf.x,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.text_cta.text")}),hideModal:n})})},"ProTrialDowngradeModal");var tK=n(733791),tH=n(404639),tW=n(300028);function tq(e){let{selectedFeatures:t,setSelectedFeatures:n,shuffledFeaturesContent:r,hideModal:i,onClickCTA:o,onBack:l}=e;return(0,a.jsx)(p.Ui,{name:tU.u[tU.u.SELECT_FEATURES],children:(0,a.jsx)(tB,{ctaDisabled:0===t.size,ctaOnClick:o,ctaText:(0,a.jsx)(tf.x,{children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.finish")}),descriptionText:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.you_have_14_days",{proTrialDuration:tE.ir})}),hideModal:i,middleContent:(0,a.jsx)("div",{className:"pro_trial_form_modal--proTrialFeatureSelectContainer--IDPeD",children:r.map(({featureType:e,featureText:r})=>(0,a.jsx)(tY,{featureIcon:tU.gQ[e],featureText:r,onClick:()=>{t.has(e)?n(new Set([...t].filter(t=>e!==t))):n(new Set([...t,e]))},isSelected:t.has(e)},e))}),stepProps:{currentStep:tU.u.SELECT_FEATURES,totalSteps:tU.Su},textCtaOnClick:l,textCtaText:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.go_back")}),titleText:(0,a.jsx)(tf.x,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.what_are_you_excited")})})})}function tY(e){let{featureIcon:t,featureText:n,onClick:r,isSelected:i}=e;return(0,a.jsx)(p.UE,{role:"button",className:i?"pro_trial_form_modal--proTrialFeatureContainerSelected--9SSaM pro_trial_form_modal--proTrialFeatureContainer--3Hxo9":"pro_trial_form_modal--proTrialFeatureContainer--3Hxo9",onClick:r,children:(0,a.jsxs)(tS.j,{direction:"horizontal",horizontalAlignItems:"start",verticalAlignItems:"center",spacing:"12px",children:[(0,a.jsx)(tS.j,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",width:32,height:32,children:t}),n]})})}function tJ(e){let{selectedTeamName:t,setSelectedTeamType:n,selectedTeamType:r,shuffledTeamTypeContent:i,hideModal:o,onClickCTA:l,onBack:s}=e;return(0,a.jsx)(p.Ui,{name:tU.u[tU.u.SELECT_TEAM_TYPE],children:(0,a.jsx)(tB,{ctaDisabled:void 0===r,ctaOnClick:l,ctaText:(0,a.jsx)(tf.x,{children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.continue")}),descriptionText:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.not_being_nosy")}),hideModal:o,middleContent:(0,a.jsx)(tS.j,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:"12px",children:i.map(({teamType:e,imageAltText:t,descriptionText:i})=>(0,a.jsx)(tQ,{isSelected:e===r,onClick:()=>{e!==r?n(e):n(void 0)},image:(0,a.jsx)("img",{src:tU.YV[e],alt:t(),height:110}),text:i},e))}),stepProps:{currentStep:tU.u.SELECT_TEAM_TYPE,totalSteps:tU.Su},textCtaOnClick:s,textCtaText:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.go_back")}),titleText:(0,a.jsx)(tf.x,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.what_type_of_team",{teamName:t})})})})}function tQ(e){let{image:t,text:n,onClick:r,isSelected:i}=e;return(0,a.jsx)(p.UE,{role:"button",className:i?"pro_trial_form_modal--teamTypeCardContainerSelected--oOqOC pro_trial_form_modal--teamTypeCardContainer--Coo8U":"pro_trial_form_modal--teamTypeCardContainer--Coo8U",onClick:r,children:(0,a.jsxs)(tS.j,{direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"start",spacing:8,padding:{horizontal:12},height:195,children:[t,n]})})}var tX=n(659461),t0=n(202593);function t1(e){let{teams:t,setSelectedTeamID:n,selectedTeamID:r,hideModal:i,onClickCTA:o,onBack:l}=e;return(0,a.jsx)(p.Ui,{name:tU.u[tU.u.SELECT_TEAM],children:(0,a.jsx)(tB,{ctaDisabled:void 0===r,ctaOnClick:o,ctaText:(0,a.jsx)(tf.x,{children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.upgrade_to_pro")}),descriptionText:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.everyone_will_be_upgraded")}),hideModal:i,middleContent:(0,a.jsx)("div",{className:"pro_trial_form_modal--teamSelectContainer--8bggj",children:t.map(e=>(0,a.jsx)(t9,{team:e,onClick:()=>{e.id!==r?n(e.id):n(void 0)},isSelected:e.id===r},e.id))}),stepProps:{currentStep:tU.u.SELECT_TEAM,totalSteps:tU.Su},textCtaOnClick:l,textCtaText:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.cancel")}),titleText:(0,a.jsx)(tf.x,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.pick_a_team")})})})}function t9(e){let{team:t,onClick:n,isSelected:r}=e;return(0,a.jsxs)(p.UE,{role:"button",className:r?"pro_trial_form_modal--teamContainerSelected--bR6Yn pro_trial_form_modal--teamContainer--6mvsu":"pro_trial_form_modal--teamContainer--6mvsu",onClick:n,children:[(0,a.jsxs)("div",{className:"pro_trial_form_modal--teamContainerHead--HEBml",children:[(0,a.jsx)(tX.Ir,{team:t,size:t0.p.LARGE}),(0,a.jsx)("div",{className:"pro_trial_form_modal--teamNameContainer--d38Py",children:(0,a.jsx)(tf.x,{children:t.name,fontSize:14,truncate:"end",fontWeight:"medium"})})]}),(0,a.jsx)(tf.x,{color:"secondary",fontSize:14,fontWeight:"medium",children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.editors.seat_rename",{numEditors:t.editors})})]})}let t3=(0,tz.Y3)(function(){let[e,t]=(0,D.useState)(tU.u.SELECT_TEAM),[n,r]=(0,D.useState)(),[i,o]=(0,D.useState)(),[l,s]=(0,D.useState)(()=>new Set),[d,_]=(0,D.useState)(tU.Yl),[m,u]=(0,D.useState)(tU.Ce),p=(0,tC.dS)(),f=(0,R.I0)(),x=(0,D.useCallback)(()=>p.find(e=>e.id===n)?.name??(0,c.t)("pro_trials_v3.pro_trial_initiation_modal.your_team"),[p,n]),g=(0,D.useCallback)(()=>f(tM.hV()),[f]),h=(0,c.t)("payments.pro_trial.start_pro_trial_error");(0,D.useEffect)(()=>{_((0,eK.TV)(tU.Yl)),u((0,eK.TV)(tU.Ce))},[]);let b=(0,D.useCallback)(()=>{void 0===n?t(tU.u.SELECT_TEAM):p.find(e=>e.id===n)?f((0,tW.uc)({teamId:n,surveyResult:{teamId:n,teamType:i,features:Array.from(l)}})):(f(tH.fv({view:"recentsAndSharing"})),f(tK.l.error(h))),g()},[p,f,g,n,i,l,h]);return 0===p.length&&g(),(0,a.jsxs)(tR,{trackingName:tU.L3,trackingProperties:{currentStage:tU.u[e],teamId:n,selectedTeamType:i??null,selectedFeatures:l.size>0?Array.from(l).join(" "):null},hideModal:g,children:[e===tU.u.SELECT_TEAM&&(0,a.jsx)(t1,{teams:p,setSelectedTeamID:r,selectedTeamID:n,hideModal:g,onClickCTA:()=>t(tU.u.SELECT_TEAM_TYPE),onBack:g}),e===tU.u.SELECT_TEAM_TYPE&&(0,a.jsx)(tJ,{selectedTeamName:x(),setSelectedTeamType:o,selectedTeamType:i,shuffledTeamTypeContent:d,hideModal:g,onClickCTA:()=>t(tU.u.SELECT_FEATURES),onBack:()=>{t(tU.u.SELECT_TEAM),o(void 0)}}),e===tU.u.SELECT_FEATURES&&(0,a.jsx)(tq,{selectedFeatures:l,setSelectedFeatures:s,shuffledFeaturesContent:m,hideModal:g,onClickCTA:b,onBack:()=>{t(tU.u.SELECT_TEAM_TYPE),s(new Set)}})]})},"ProTrialInitiationModal");var t5=n(404756),t2=n(415883);function t4(e){let{hideModal:t}=e,n=(0,R.I0)(),r=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.entry_modal_explanation")}),(0,a.jsx)(ne,{})]}),i=(0,a.jsx)(d.OK,{onClick:()=>{t(),n((0,tM.K4)({type:t3}))},trackingProperties:tE.pl.getTrackingProperties("Start professional trial"),children:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.entry_modal_cta_text")})});return(0,a.jsx)(t8,{titleText:(0,a.jsx)(tf.x,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.entry_modal_title")}),descriptionText:r,ctaButton:i,imgSrc:(0,L.o1)("4323e87513cec17f5decef84ebf66c12c0d2ea59")})}function t7(e){let{teamId:t,hideModal:n}=e,r=(0,R.I0)(),i=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.team_welcome_modal_explanation")}),(0,a.jsx)(ne,{})]}),o=(0,a.jsx)(d.OK,{onClick:()=>{n(),r(tH.fv({view:"team",teamId:t}))},trackingProperties:tE.pl.getTrackingProperties("Team welcome to Professional trial"),children:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.team_welcome_modal_cta")})});return(0,a.jsx)(t8,{descriptionText:i,titleText:(0,a.jsx)(tf.x,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.team_welcome_modal_title")}),imgSrc:(0,L.o1)("4323e87513cec17f5decef84ebf66c12c0d2ea59"),ctaButton:o})}function t6(e){let{hideModal:t,teamId:n}=e,r=(0,R.I0)(),i={view:"team",teamId:n},o=(0,a.jsx)(d.OK,{onClick:()=>{t(),r(t5.F2({teamId:n,selectedView:i}))},trackingProperties:tE.pl.getTrackingProperties("Upgrade from Pro trial expiry modal"),children:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.expiry_modal_cta_text")})}),l=(0,a.jsx)(d.G2,{onClick:()=>{r((0,tM.K4)({type:tV,data:{teamId:n}}))},trackingProperties:tE.pl.getTrackingProperties("Go back to Starter from Pro trial expiry modal"),children:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.expiry_modal_secondary_cta_text")})});return(0,a.jsx)(t8,{titleText:(0,a.jsx)(tf.x,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.expiry_modal_title")}),descriptionText:(0,a.jsx)(tf.x,{fontSize:13,children:(0,c.tx)("pro_trials_v3.expiry_modal_explanation")}),ctaButton:o,secondaryCtaButton:l,imgSrc:(0,L.o1)("47a15784276e736195c9794a0c47c4d02c4c3ca4")})}function t8(e){let{titleText:t,descriptionText:n,ctaButton:r,imgSrc:i,secondaryCtaButton:o}=e;return(0,a.jsxs)("div",{className:"pro_trials_v3_modal_components--container--HGJuM",children:[(0,a.jsxs)("div",{className:"pro_trials_v3_modal_components--textContainer--lpMTQ",children:[(0,a.jsx)("p",{children:t}),(0,a.jsx)("div",{children:n}),(0,a.jsxs)("div",{className:"pro_trials_v3_modal_components--ctaRow--vK4mL",children:[r,o]})]}),(0,a.jsx)(ep.k6,{width:313,src:i})]})}function ne(){return(0,a.jsxs)("div",{className:"pro_trials_v3_modal_components--proFeatureCheckBullets--T3rkc",children:[(0,a.jsx)(t2.d,{bulletLabel:(0,c.t)("pro_trials_v3.entry_modal_bullet_pt_1")}),(0,a.jsx)(t2.d,{bulletLabel:(0,c.t)("pro_trials_v3.entry_modal_bullet_pt_2")}),(0,a.jsx)(t2.d,{bulletLabel:(0,c.t)("pro_trials_v3.entry_modal_bullet_pt_3")})]})}function nt(){let e=(0,x.I)({overlay:v.t3S,priority:h.b.DEFAULT_MODAL}),t=(0,R.I0)();return(0,k.O)(()=>{e.show()}),(0,a.jsx)(H.a,{closeButtonStyle:q.fe.ON_DARK,disableClickOutsideToHide:!0,element:()=>(0,a.jsx)(t4,{hideModal:e.complete}),height:404,isShowing:e.isShowing,modalType:q.w8.FEATURE_UPDATE,onClickPrimaryCta:e.complete,onClose:()=>{t(U.v({[tE.h6]:!0})),e.complete()},onManualDismiss:e.complete,trackingContextName:"pro_trials_entry_modal",trackingProperties:tE.pl.getTrackingProperties(),width:700})}function nn(e){let t=(0,x.I)({overlay:v.WRE,priority:h.b.DEFAULT_MODAL}),{proTrial:n}=e,r=n.teamId,i=(0,R.I0)();(0,k.O)(()=>{t.show()});let o=D.useCallback(()=>i(tL.v_({all_team_flags:[{team_id:r,flags:{[tE.wb]:!0}}]})),[i,r]);return(0,a.jsx)(H.a,{closeButtonStyle:q.fe.ON_LIGHT,disableClickOutsideToHide:!0,element:()=>(0,a.jsx)(t6,{teamId:r,hideModal:t.complete}),height:404,isShowing:t.isShowing,modalType:q.w8.FEATURE_UPDATE,onClickPrimaryCta:t.complete,onClose:()=>{o(),t.complete()},onManualDismiss:t.complete,trackingContextName:"pro_trials_expiry_modal",trackingProperties:tE.pl.getTrackingProperties(),width:700})}function na(e){let t=(0,x.I)({overlay:v.wc_,priority:h.b.DEFAULT_MODAL}),{proTrial:n}=e,r=n.teamId,i=(0,R.I0)();(0,k.O)(()=>{t.show()});let o=D.useCallback(()=>i(tL.v_({all_team_flags:[{team_id:r,flags:{[tE.fu]:!0}}]})),[i,r]);return(0,a.jsx)(H.a,{closeButtonStyle:q.fe.ON_DARK,disableClickOutsideToHide:!0,element:()=>(0,a.jsx)(t7,{teamId:r,hideModal:t.complete}),height:404,isShowing:t.isShowing,modalType:q.w8.FEATURE_UPDATE,onClickPrimaryCta:t.complete,onClose:()=>{o(),t.complete()},onManualDismiss:t.complete,trackingContextName:"pro_trials_v3_team_welcome_modal",trackingProperties:tE.pl.getTrackingProperties(),width:700})}function nr(){let e=(0,tN.A6)(),t=(0,R.v9)(e=>e.userTeamFlags),n=(0,R.v9)(e=>!!e.modalShown),r=(0,tI.p)(tE.h6),i=(0,tC.dS)(),{ongoingTrials:o,expiredTrials:l}=(0,tC.T$)(),s=tE.pl.entryEnabled()&&i.length>0&&!r,d=o.find(e=>{let n=t[e.teamId]?.[tE.fu];return!e.isOwner&&!n&&e.daysLeft>0}),c=l.find(e=>{if(!tE.pl.canSeeProTrialExpiryUx(e))return!1;let n=t[e.teamId]?.[tE.wb];return e.isOwner&&!n}),_=D.useCallback(()=>s?(0,a.jsx)(nt,{}):c?(0,a.jsx)(nn,{proTrial:c}):d?(0,a.jsx)(na,{proTrial:d}):null,[s,c,d]);return!tE.pl.isEligibleTrialEntryView(e)||n?null:(0,a.jsx)("div",{"data-testid":"proTrialsV3FileBrowserOverlayWrapper",children:_()})}var ni=n(449900),no=n(405944),nl=n(377897);let ns=(0,i.cn)(()=>{let e=(0,ni.WC)();try{return e.get(no._x)}catch(e){console.error("Failed to get show modal cookie",e)}return!1}),nd=(0,nl.cg)(e=>null!=e.payment.promo),nc=(0,eq.xM)(C.f3,e=>(e??[]).some(e=>null!=e&&!(0,tF.e3)({subscription:e.subscription,student_team:!!e.studentTeamAt,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toISOString():null})&&!e.orgId&&e.canEdit));var n_=n(72049);function nm({dismissModal:e}){let t=(0,R.v9)(({payment:e})=>e.promo);return((0,k.O)(()=>{(0,no.h8)()}),(0,D.useEffect)(()=>{null==t&&e()},[e,t]),null==t)?null:(0,a.jsxs)(m.Qm,{targetKey:ts.W,dismissModal:e,width:301,shouldScrollTargetIntoView:!0,children:[(0,a.jsx)("div",{className:n_.XW,children:(0,c.tx)("rcs.promo_new_team_create_pointer.first_create_a_team")}),(0,c.tx)("rcs.promo_new_team_create_pointer.to_get_professional_free_for_days_you_ll_need_to_set_up_a_new_team_first_it_ll_take_less_than_a_minute",{days:parseInt(t.promo_value)})]})}function nu(){let e=(0,i.Dv)(nc),t=(0,i.Dv)(ns),n=(0,i.Dv)(nd),r=(0,x.I)({overlay:v.GLY,priority:h.b.OVERRIDING_MODAL},[e]),o=(0,D.useCallback)(()=>{t&&n&&r.show({canShow:e=>!e})},[t,n,r]);return(0,k.O)(()=>{o()}),(0,a.jsx)(H.a,{element:nm,isShowing:r.isShowing,modalType:q.w8.SELF_CONTAINED,onClickPrimaryCta:r.complete,onClose:r.complete,onManualDismiss:r.complete,trackingContextName:"Redeem Promo Code > Create Team"})}var np=n(45190),nf=n(499503),nx=n(956964),ng=n(864638);function nh(e){let t=(0,R.I0)(),n=e.promo,r="",i=parseInt(n.promo_value);if(n.claims_end_at){let e=new Date(Date.parse(n.claims_end_at));r=n.is_multi_redeemable?(0,c.t)("promo.select_team.multi_redeem_w_deadline_promo_str.seat_rename",{days:i,date:e}):(0,c.t)("promo.select_team.single_redeem_w_deadline_promo_str.seat_rename",{days:i,date:e})}else r=n.is_multi_redeemable?(0,c.t)("promo.select_team.multi_redeem_without_deadline_promo_str.seat_rename",{days:i}):(0,c.t)("promo.select_team.single_redeem_without_deadline_promo_str.seat_rename",{days:i});return(0,a.jsxs)(e7.bc,{hide:e.dismissModal,size:437,className:"promo_code_select_team_content--modal--KySTj",children:[(0,a.jsx)("div",{className:"promo_code_select_team_content--promoSelectTeamTitle---Mz2l text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:(0,c.tx)("promo.select_team.choose_teams_to_upgrade")}),(0,a.jsx)("div",{className:"promo_code_select_team_content--promoSelectTeamDescription--D0r5- text--fontPos11--rO47d text--_fontBase--VaHfk",children:r}),(0,a.jsx)(e3.PZ,{className:"promo_code_select_team_content--closeButton--bEkPe",onClick:e.dismissModal,innerText:"close"}),(0,a.jsx)(d.Ki,{multiple:2}),(0,a.jsx)(nf.F,{eligibleTeams:e.starterTeams,selectTeam:n=>{t(tW.nw({teamId:n.id,teamName:n.name,previousView:e.previousView}))},numDesignFilesPerTeam:e.filesPerStarterTeam})]})}function nb({dismissModal:e}){let t=(0,R.v9)(({payment:e})=>e.promo),n=(0,R.v9)(({selectedView:e})=>e),r=(0,R.v9)(e=>e.teams),i=(0,nx.Mn)(),o=D.useMemo(()=>Object.values(r).filter(e=>!(0,tF.e3)(e)&&(0,ng.canEditTeam)(e.id,i)),[r,i]),l=[],s=D.useMemo(()=>o.map(e=>({teamId:e.id})),[o]);return((0,np.YW)(eQ.rAQ,s).forEach(e=>{l.push(e.result.data?.team?.teamFileCounts?.designFileCount??0)}),(0,k.O)(()=>{(0,no.h8)()}),(0,D.useEffect)(()=>{(null==t||0===o.length)&&e()},[e,t,o]),null==t||0===o.length)?null:(0,a.jsx)(nh,{starterTeams:o,promo:t,filesPerStarterTeam:l,dismissModal:e,previousView:n})}function nv(){let e=(0,i.Dv)(nc),t=(0,i.Dv)(ns),n=(0,i.Dv)(nd),r=(0,x.I)({overlay:v.A6z,priority:h.b.OVERRIDING_MODAL},[e]),o=(0,D.useCallback)(()=>{t&&n&&r.show({canShow:e=>e})},[t,n,r]);return(0,k.O)(()=>{o()}),(0,a.jsx)(H.a,{element:nb,isShowing:r.isShowing,modalType:q.w8.WELCOME,onClickPrimaryCta:r.complete,onClose:r.complete,onManualDismiss:r.complete,trackingContextName:"Redeem Promo Code > Select Team"})}var ny=n(161409),nj=n(911340),nw=n(437008),nT=n(897386);function nk(){let e=(0,i.Dv)((0,g.n_)(nw.Au)),t=(0,i.Dv)(C.ZM),n=(0,nj.y4)(),r=(0,nj.SR)(),o=n&&!r,{show:l,isShowing:s,complete:d}=(0,x.I)({overlay:v.Oou,priority:h.b.DEFAULT_MODAL},[e,t]);(0,k.O)(()=>{l({canShow:(e,t)=>(n||r)&&!e&&t})});let _={arrowPosition:tu.xI.LEFT_TITLE,description:(0,c.tx)("community.resource_hub.get_inspired_by_community"),emphasized:!0,primaryCta:o?{ctaTrackingDescriptor:J.y.GOT_IT,label:(0,c.tx)("community.resource_hub.got_it"),onClick:d,type:"button"}:void 0,targetKey:e_.YU,title:(0,c.tx)("community.resource_hub.reconnect_with_community"),trackingContextName:nT._A.COMMUNITY_IA_CHANGE_OVERLAY,whenTargetLost:"complete"},m={arrowPosition:tu.xI.LEFT_TITLE,description:(0,c.tx)("community.resource_hub.see_your_teammates_resources"),emphasized:!0,primaryCtaLabel:(0,c.tx)("community.resource_hub.got_it"),targetKey:e_.Jg,title:(0,c.tx)("community.resource_hub.created_by_your_teammates"),trackingContextName:nT._A.INTERNAL_IA_CHANGE_OVERLAY,whenTargetLost:"complete"};return o?(0,a.jsx)(ty.ZZ,{arrowPosition:tu.xI.LEFT_TITLE,isShowing:s,..._,onClose:d,userFlagOnShow:nw.Au}):(0,a.jsx)(tm.Ok,{isShowing:s,onComplete:d,steps:[_,m],userFlagOnShow:nw.Au})}var nC=n(148114),nN=n(400363),nI=n(484299),nE=n(936248),nS=n(281310),nO=n(900326);let nA=(e,t)=>{let n=(0,L.ZP)()?.iso_code,a=(0,L.ZP)()?.user_data?.signup_locale;return!!(!t&&null!=e&&e.getTime()<Date.now()-864e5)&&!!("de"===a||navigator.languages.some(e=>nE.g.includes(e))||n&&nE.Nb.includes(n))};function nD(e){let t=(0,R.I0)(),n=(0,td.Fg)();return(0,a.jsx)(nS.zR,{isShowing:e.isShowing,trackingContextName:"de_de_launch_announcement",onClose:e.onClose,title:(0,a.jsx)(a.Fragment,{children:(0,c.tx)("de_de_announcement.title")}),description:(0,c.tx)("de_de_announcement.description"),primaryCta:{label:(0,c.tx)("de_de_announcement.cta_button"),type:"button",onClick:()=>{t((0,tM.K4)({type:nO.gp,data:{source:nO.kk.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:J.y.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(nI.oG,{width:332,height:404,src:(0,L.o1)("dark"===n?"0f90e908025398bf24b7a986d6d31629f5e80233":"e590fc8927a503d1e7d403cc9b96b6aee7da7344"),alt:(0,c.t)("de_de_announcement.image_alt_text")})})}let nR=(0,g.n_)("has_tried_de_de");function nP(){let e=(0,R.I0)(),t=(0,i.Dv)(nR),n=(0,i.Dv)(C.JT),r="loaded"===t.status&&"loaded"===n.status,{show:l,isShowing:s,complete:d}=(0,x.I)({overlay:v.jM1,priority:h.b.SECONDARY_MODAL},[n,t]);return((0,D.useEffect)(()=>{(0,L.ZP)().user_data?.locale===nN.go.DE&&"loaded"===t.status&&!1===t.data&&e(U.v({has_tried_de_de:!0}))},[e,t]),(0,D.useEffect)(()=>{r&&(0,o.BZ)().i18n_de&&(0,o.BZ)().i18n_de_full_launch&&(0,L.ZP)().user_data?.locale!==nN.go.DE&&nA(n.data,t.data)&&l()},[e,l,r,t,n]),r&&(0,o.BZ)().i18n_de&&(0,o.BZ)().i18n_de_full_launch&&nA(n.data,t.data))?(0,a.jsx)(nD,{isShowing:s,onClose:d}):null}var nB=n(282909),nM=n(838706),nL=n(70523);let nF="seen_team_project_link_overlay",nU=(0,g.n_)(nF);function nz(){let e=(0,i.Dv)(nU),t=(0,nL.BF)(),{show:n,isShowing:r,complete:o}=(0,x.I)({overlay:v.fLk,priority:h.b.DEFAULT_MODAL,experiment:{check:()=>t===nL.o.CONTROL,predicate:e=>!e,postCheck:e=>!e}},[e]);return(0,k.O)(()=>{n({canShow:e=>!e})}),(0,a.jsx)(ty.ZZ,{arrowPosition:_.xI.LEFT_TITLE,description:(0,c.tx)("team_project_link.overlay.description"),emphasized:!0,isShowing:r,onClose:o,targetKey:es._b,trackingContextName:"Team Project Link Overlay",userFlagOnShow:nF,zIndex:X.c.MODAL})}let nZ=(e,t)=>{let n=(0,L.ZP)()?.iso_code,a=(0,L.ZP)()?.user_data?.signup_locale;return!!(!t&&null!=e&&e.getTime()<Date.now()-864e5)&&!!("fr"===a||navigator.languages.some(e=>nE.RR.includes(e))||n&&nE.mf.includes(n))};function nG(e){let t=(0,R.I0)(),n=(0,td.Fg)();return(0,a.jsx)(nS.zR,{isShowing:e.isShowing,trackingContextName:"fr_fr_launch_announcement",onClose:e.onClose,title:(0,a.jsx)(a.Fragment,{children:(0,c.tx)("fr_fr_announcement.title")}),description:(0,c.tx)("fr_fr_announcement.description"),primaryCta:{label:(0,c.tx)("fr_fr_announcement.cta_button"),type:"button",onClick:()=>{t((0,tM.K4)({type:nO.gp,data:{source:nO.kk.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:J.y.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(nI.oG,{width:332,height:404,src:(0,L.o1)("dark"===n?"ce746ed0388befd7e209f4dcefa0dd30d46ea816":"00de2888337422748db3f69e4919f9f784ba7c0c"),alt:(0,c.t)("fr_fr_announcement.image_alt_text")})})}let n$=(0,g.n_)("has_tried_fr_fr");function nV(){let e=(0,R.I0)(),t=(0,i.Dv)(n$),n=(0,i.Dv)(C.JT),r="loaded"===t.status&&"loaded"===n.status,{show:l,isShowing:s,complete:d}=(0,x.I)({overlay:v.ktJ,priority:h.b.SECONDARY_MODAL},[n,t]);return((0,D.useEffect)(()=>{(0,L.ZP)().user_data?.locale===nN.go.FR&&"loaded"===t.status&&!1===t.data&&e(U.v({has_tried_fr_fr:!0}))},[e,t]),(0,D.useEffect)(()=>{r&&(0,o.BZ)().i18n_fr&&(0,o.BZ)().i18n_fr_full_launch&&(0,L.ZP)().user_data?.locale!==nN.go.FR&&nZ(n.data,t.data)&&l()},[e,l,r,t,n]),r&&(0,o.BZ)().i18n_fr&&(0,o.BZ)().i18n_fr_full_launch&&nZ(n.data,t.data))?(0,a.jsx)(nG,{isShowing:s,onClose:d}):null}var nK=n(429028),nH=n(990938),nW=n(877435),nq=n(983027),nY=n(577442),nJ=n(195787),nQ=n(581370),nX=n(479852);function n0(){let{getConfig:e}=(0,nQ.it)("starter_global_file_limits"),t=(0,eX.I6)(),n=(0,nJ.Wg)(t?.data?.tier),{show:r,isShowing:i,complete:l}=(0,x.I)({overlay:v.XT2,priority:h.b.DEFAULT_MODAL,experiment:{check:()=>{if(!(0,o.BZ)().sts_starter_enabled)return!1;let t=new Date("2025-04-26T23:59:59").getTime();return!(Date.now()>t)&&e().get("enabled",!1)},predicate:e=>e,postCheck:()=>!0}},[t]);return(0,k.O)(()=>{r({canShow:e=>e?.tier===nX.Lz.STARTER})}),(0,a.jsx)(nS.zR,{closeButtonColor:"dark",description:(0,c.tx)("starter_plan_updates_modal.description"),isShowing:i,media:(0,a.jsx)(nS.t_,{aspectRatio:1.625,width:700,src:(0,L.o1)("8bed8822b149a1da0cefb322e58ed4bd83ed7a28"),alt:"An illustration of several Figma features"}),onClose:l,orientation:"landscape",primaryCta:{label:(0,c.tx)("starter_plan_updates_modal.primary_cta_button"),type:"button",onClick:l,ctaTrackingDescriptor:J.y.GOT_IT},secondaryCta:{label:(0,c.tx)("starter_plan_updates_modal.secondary_cta_button"),type:"link",href:"https://help.figma.com/hc/categories/31823555275671-Figma-Sites",ctaTrackingDescriptor:J.y.LEARN_MORE},title:(0,c.tx)("starter_plan_updates_modal.title"),trackingContextName:"starter_plan_updates_overlay",trackingProperties:{plan:n}})}var n1=n(70132),n9=n(87529),n3=n(475565),n5=n(752212),n2=n(989230);function n4(){let e=(0,i.Dv)(g.PW),t=(0,i.Dv)(C.Lv),n=(0,i.Dv)(C.fI),a=(0,n5.Rs)(),r=(0,R.I0)(),o=(0,x.I)({overlay:v.moh,priority:h.b.HIGH_PRIORITY_MODAL},[e,t,n]);return(0,k.O)(()=>{o.show({canShow:(e,t,n)=>!(0,G.aS)(e,"seen_edu_offboarding_modal")&&(0,n3.di)(t)!==1/0&&n,onShow:()=>{r((0,tM.K4)({type:n2.Lk,data:{teamId:a?.id}})),r(U.v({seen_edu_offboarding_modal:!0})),o.complete()}})}),null}var n7=n(453393),n6=n(658790),n8=n(396231),ae=n(654380);function at(){let e=(0,x.I)({overlay:v.lUj,priority:h.b.HIGH_PRIORITY_MODAL}),t=(0,R.I0)();return(0,k.O)(()=>{let n=(0,n6.BA)(n8.Vs.key),a=(0,n6.BA)(n8.Nz.key);n===n8.Vs.value?e.show({onShow:()=>{t(n7.Nf({isEduTeam:!0})),(0,n6.Zo)(n8.Vs.key)}}):a===n8.Nz.value&&e.show({onShow:()=>{t((0,tM.K4)({type:ae.m})),(0,n6.Zo)(n8.Nz.key)}})}),null}let an=(0,g.OD)("seen_plan_spaces_launch_modal"),aa=(0,g.OD)("seen_limited_spaces_onboarding"),ar=new Date("2024-10-30T20:00:00.000Z").getTime();function ai(){let e=(0,R.v9)(e=>e.plans),t=(0,i.Dv)(C.JT),n=(0,i.Dv)(an),r=(0,i.Dv)(aa),o=e.some(e=>e.plan_type===t_.k.TEAM&&e.is_guest),{show:l,isShowing:s,complete:d}=(0,x.I)({overlay:v.SFi,priority:h.b.HIGH_PRIORITY_MODAL},[t,n,r]);return(D.useEffect(()=>{o&&l({canShow:(e,t,n)=>!!t&&!n&&e.getTime()<=ar})},[o,l]),e.length)?(0,a.jsx)(ty.ZZ,{arrowPosition:tu.xI.RIGHT_TITLE,description:(0,c.tx)("rcs.limited_spaces.external_projects"),disableHighlight:!0,emphasized:!0,isShowing:s,onClose:d,primaryCta:{label:(0,c.tx)("rcs.got_it"),type:"button",onClick:d,ctaTrackingDescriptor:J.y.GOT_IT},targetKey:ts.W,testId:"limited_plan_spaces_onboarding_test_id",title:(0,c.tx)("rcs.limited_spaces.find_shared_projects"),trackingContextName:"Limited Spaces Onboarding Overlay"}):null}var ao=n(698128),al=n(733265);let as=new Date("2025-09-16T15:00:00+0000");function ad(){let e=(0,nQ.rC)("starter_global_file_limits").getDynamicConfig().get("grandfather_date",as),t=(0,o.BZ)().sites_design_starter_combined_file_limit,n=(0,o.BZ)().sts_starter_enabled,r=(0,i.Dv)(C.JT),l=(0,i.Dv)(C.O1),s="recentsAndSharing"===(0,tN.fh)(),d=(0,al.r)({editorType:nX.gg.SITES,newFileFrom:ey.L7.SITES_ON_STARTER_OVERLAY,isDraftsFolder:!0,contextClicked:"sites_on_starter_overlay_create_site"}),{isShowing:_,show:m,complete:u}=(0,x.I)({overlay:v.RLd,priority:h.b.SECONDARY_MODAL},[r,l]);return(0,k.O)(()=>{m({canShow:(a,r)=>a.getTime()<=e.getTime()&&r&&!!t&&!!n&&s})}),(0,a.jsx)(ty.ZZ,{description:(0,c.tx)("upsell.sites_on_starter.description"),isShowing:_,media:(0,a.jsx)(eM.S,{src:(0,L.o1)("8f7c39f3429e8e63ad5495fd18998cf2bfe6314c"),alt:(0,c.t)("upsell.sites_on_starter.alt_text"),aspectRatio:240/135}),onClose:u,primaryCta:{label:(0,c.tx)("upsell.sites_on_starter.create_site"),type:"button",onClick:()=>{d(),u()},ctaTrackingDescriptor:J.y.SEE_PLANS},secondaryCta:{label:(0,c.tx)("upsell.sites_on_starter.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/31230436657815-Explore-Figma-Sites",ctaTrackingDescriptor:J.y.LEARN_MORE},targetKey:ao.w,title:(0,c.tx)("upsell.sites_on_starter.title"),trackingContextName:"Sites On Starter Overlay"})}var ac=n(710706),a_=n(204764),am=n(542144),au=n(892243);function ap(){let e=(0,R.I0)(),t=(0,i.Dv)(C.$e),n=(0,x.I)({overlay:v.vj8,priority:h.b.URGENT_ALERT},[t]);return(0,k.O)(()=>{let t=(0,n6.BA)("upgrade"),a=(0,n6.BA)("entryPoint");switch(t){case"pro":n.show({canShow:e=>e===V.FQ.PERSONAL,onShow:()=>{let t={dispatch:e,plan:a_.s.PRO,upsellSource:au.V.UNIVERSAL_UPGRADE_SEQUENCE_MACHINE,entryPoint:a?parseInt(a):void 0};e((0,tM.K4)({type:am.n2,data:{...t}})),n.complete()}});break;case"plan_comparison":n.show({canShow:e=>e===V.FQ.PERSONAL,onShow:()=>{e((0,tM.K4)({type:ac.n,data:{upsellSource:au.V.DEEPLINK}})),n.complete()}})}}),null}function af(){let e=!!(0,eJ.$0)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(nC.V,{children:(0,a.jsx)(n9.d,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(ap,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(at,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(n4,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(nq.NuxOnboardingOverlay,{entryPoint:n1.HY.FileBrowser})}),(r.ys||!r.K1)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(nC.V,{children:(0,a.jsx)(eP,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(nK.s,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(nB.Z,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(nM.ZP,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(nY.Z,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(nH.Z,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(nV,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(nP,{})})]}),(0,a.jsx)(nC.V,{featureFlag:"pro_trials_v3_ux",children:(0,a.jsx)(nr,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(n0,{})}),(0,a.jsxs)(nC.V,{children:[(0,a.jsx)(tb,{}),(0,a.jsx)(ai,{})]}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(tk,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(nz,{})}),(0,a.jsxs)(nC.V,{children:[(0,a.jsx)(nu,{}),(0,a.jsx)(nv,{})]}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(A,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(T,{})}),e&&(0,a.jsx)(nC.V,{children:(0,a.jsx)(tr,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(eV,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(ad,{})}),(0,a.jsx)(nC.V,{featureFlag:"scrub_file_browser_search_results",children:(0,a.jsx)(ny.HJ,{})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(nW.Y,{source:"file_browser"})}),(0,a.jsx)(nC.V,{children:(0,a.jsx)(nk,{})})]})}},536010:function(e,t,n){n.d(t,{a:()=>a});let a="CREATE_FILES_ONBOARDING_KEY"},498498:function(e,t,n){n.d(t,{C:()=>v,r:()=>b});var a=n(750357),r=n(527986);if(9793==n.j)var i=n(461198);if(9793==n.j)var o=n(899631);if(9793==n.j)var l=n(123888);if(9793==n.j)var s=n(503398);if(9793==n.j)var d=n(530706);if(9793==n.j)var c=n(454513);if(9793==n.j)var _=n(985727);var m=n(590914);if(9793==n.j)var u=n(453393);var p=n(81856);if(9793==n.j)var f=n(479852);var x=n(428785);if(9793==n.j)var g=n(52135);var h=n(835904);function b({editorType:e,isDisabled:t,isLoading:n,onClick:_,showRequestLabel:u,showRequestSentLabel:p}){let b={[f.gg.DESIGN]:{title:(0,m.t)("file_browser.creation_buttons.design"),brand:"design",dataTestId:"new-design-file-button",icon:(0,a.jsx)(i.r,{})},[f.gg.WHITEBOARD]:{title:(0,m.t)("file_browser.creation_buttons.figjam"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:(0,a.jsx)(o.H,{})},[f.gg.SLIDES]:{title:(0,m.t)("file_browser.creation_buttons.slide_deck"),brand:"piper",dataTestId:"new-slides-file-button",icon:(0,a.jsx)(l.a,{})},[f.gg.SITES]:{title:(0,m.t)("file_browser.creation_buttons.sites"),brand:"seascape",dataTestId:`new-${x.RN}-file-button`,icon:(0,a.jsx)(s.b,{}),badge:"BETA"===(0,g.i)()?h.g.BETA:void 0},[f.gg.COOPER]:{title:(0,m.t)("file_browser.creation_buttons.marketing_asset"),brand:"cooper",dataTestId:`new-${x.u2}-file-button`,icon:(0,a.jsx)(d.j,{}),badge:h.g.BETA},[f.gg.FIGMAKE]:{title:(0,m.t)("file_browser.creation_buttons.figmake"),brand:"bake-filebrowser",dataTestId:`new-${x.mT}-file-button`,icon:(0,a.jsx)(c.V,{}),badge:void 0}}[e],v=(0,r.We)([u?h.g.REQUEST_UPGRADE:null,p?h.g.REQUEST_SENT:null,b.badge]);return{key:e,isDisabled:t,isLoading:n,onClick:_,title:b.title,dataTestId:b.dataTestId,brand:b.brand,icon:b.icon,badges:v}}function v({isLoading:e,dispatch:t,targetFolderId:n}){return{key:"import-file",isLoading:e,onClick:()=>{n&&t((0,u.B4)(n)),t((0,p.v)())},title:(0,m.t)("file_browser.creation_buttons.import"),dataTestId:"file-import-button",icon:(0,a.jsx)(_.o,{})}}},566364:function(e,t,n){n.d(t,{_:()=>p});var a=n(750357),r=n(403706),i=n(370273),o=n(158371),l=n(467827);n(607906);var s=n(486245),d=n(968945),c=n(122610),_=n(590914),m=n(118960),u=n(260736);function p(e){let t=(0,m.Mz)("FileCreationPillButton"),n=(0,m.KO)(t).unwrapOr(!1),r=(0,c.vr)().unwrapOr(null),i="";return n&&!e.isLoading&&e.showComingSoon?i=(0,_.t)("file_browser.creation_buttons.coming_soon"):e.isDisabled&&!e.isLoading&&r&&(i=r),(0,a.jsx)(f,{...e,tooltipText:i})}function f(e){let t=e.isDisabled||e.isLoading,n=(0,i.s)();return(0,a.jsx)(l.U,{brand:e.brand,children:(0,a.jsx)(r.h,{...{0:{className:"x19op3sw xej0tt4 xlb5elq x10ytl9y xjld0yd xirtdz7 x1nonkbi xi951o6 x1338tou x1d213w6 x136xn3g x1mis9oq xlrpslg x39v4z8 x7ql0sr x15z6xun xfu8tpu x1hovt7 xn0whsw x2lah0s x1d36bvo x1v8gsql x17c7w1w x1tt564c x8ge37t x6bkol7 xrhlwir xsfrc4e x129mn88 xb3r6kr"},2:{className:"x19op3sw xej0tt4 xlb5elq x10ytl9y xjld0yd xirtdz7 x1nonkbi xi951o6 x1338tou x1d213w6 x136xn3g x1mis9oq xlrpslg x39v4z8 x7ql0sr x15z6xun xfu8tpu x1hovt7 x2lah0s x1d36bvo x1v8gsql x17c7w1w x1tt564c x8ge37t x6bkol7 xrhlwir xsfrc4e x129mn88 xb3r6kr xwa2v1s"},1:{className:"x19op3sw xej0tt4 xlb5elq x10ytl9y xjld0yd xirtdz7 x1nonkbi xi951o6 x1338tou x1d213w6 x136xn3g x1mis9oq xlrpslg x39v4z8 x7ql0sr x15z6xun xfu8tpu x1hovt7 x2lah0s x1d36bvo xb3r6kr xz8z4lq x15kbib2 x1yjdb4r x6bkol7 x1icplyp"},3:{className:"x19op3sw xej0tt4 xlb5elq x10ytl9y xjld0yd xirtdz7 x1nonkbi xi951o6 x1338tou x1d213w6 x136xn3g x1mis9oq xlrpslg x39v4z8 x7ql0sr x15z6xun xfu8tpu x1hovt7 x2lah0s x1d36bvo xb3r6kr xz8z4lq x15kbib2 x1yjdb4r x6bkol7 x1icplyp"}}[("bake-filebrowser"===e.brand)<<1|(0|!!t)],onClick:e.onClick,"data-testid":e.isLoading?void 0:e.dataTestId,disabled:t,"data-onboarding-key":e.dataOnboardingKey,"data-tooltip":e.tooltipText,"data-tooltip-type":u.fR.TEXT,"data-tooltip-timeout-delay":50,children:(0,a.jsx)(d.kO,{loaded:!e.isLoading,loadingSkeletonElement:(0,a.jsx)("div",{...{className:"x1yjdb4r"},children:(0,a.jsx)(s.tq,{animationType:s.F4.LIGHT_SHIMMER,...{className:"x10w6t97"}})}),showElementBeforeLoaded:!0,children:(0,a.jsxs)("div",{...{className:"x1y1aw1k xwib8y2 xyfqnmn xnm25rq x78zum5 x6s0dn4 x167g77z"},children:[(0,a.jsx)("div",{...{0:{className:"xahcd82 x6s0dn4 xl56j7k x1a00udw xx3o462"},2:{className:"xu5wzci x192jxwq xahcd82 x6s0dn4 xl56j7k x1a00udw xx3o462"},1:{className:"x12u4mv4"},3:{className:"xu5wzci x192jxwq x12u4mv4"}}[0|!!n|!t<<1],"data-testid":"file-icon",children:e.icon}),(0,a.jsx)("div",{...{0:{className:"xtz2s2v x1a00udw xx3o462"},2:{className:"xu5wzci x192jxwq xtz2s2v x1a00udw xx3o462"},1:{className:"xtz2s2v"},3:{className:"xu5wzci x192jxwq xtz2s2v"}}[0|!!n|!t<<1],"data-testid":"plus-icon",children:(0,a.jsx)(o.e,{})}),(0,a.jsx)("span",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xiuzu7u"},children:e.title})]})})})})}},698128:function(e,t,n){n.d(t,{$:()=>m,w:()=>_});var a=n(750357);if(9793==n.j)var r=n(505786);var i=n(492342),o=n(590914),l=n(566364),s=n(733265);if(9793==n.j)var d=n(479852);var c=n(428785);let _="sites_on_starter_onboarding_key";function m({isDisabled:e,isLoading:t,newFileFrom:n}){let m=(0,s.r)({isDraftsFolder:!0,editorType:d.gg.SITES,newFileFrom:n,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,a.jsx)(l._,{title:(0,o.t)("file_browser.creation_buttons.sites"),brand:"seascape",dataTestId:`new-${c.RN}-file-button`,icon:(0,a.jsx)(r.$,{}),isDisabled:e,isLoading:t,onClick:m,showComingSoon:!(0,i.BZ)().sts_starter_enabled,dataOnboardingKey:_})}},689642:function(e,t,n){n.d(t,{O4:()=>g,cX:()=>b,zl:()=>h});var a=n(750357),r=n(853505);if(9793==n.j)var i=n(211839);if(9793==n.j)var o=n(410802);if(9793==n.j)var l=n(771790);var s=n(492342);n(607906);var d=n(579666),c=n(590914),_=n(287211);if(9793==n.j)var m=n(536010);var u=n(997669),p=n(798649);let f=(0,d.s)(),x=(0,d.s)();function g(){f.emit()}function h(){x.emit()}function b({folderId:e,isContainerHovered:t}){let{getTriggerProps:n,manager:g}=i.H9({config2025CuratorHacks:(0,s.BZ)().fpl_menu_under_curator});(0,d.j)(f,r.useCallback(()=>g.setOpen(!0),[g])),(0,d.j)(x,r.useCallback(()=>g.setOpen(!1),[g]));let h=(0,_.y)({newFileFrom:p.L7.FILE_BROWSER_SIDEBAR_DRAFTS,folderId:e,contextClicked:"file_browser_sidebar_drafts_new_file_created"});return(0,a.jsx)("div",{...{0:{},1:{className:"xg01cxk x1o7uuvo x1uxbtfk x4gyw5p x1euntei"}}[0|!t],children:(0,a.jsxs)(i.fC,{manager:g,children:[(0,a.jsx)(o.h,{htmlAttributes:{"data-tooltip":(0,c.t)("sidebar.new_file"),"data-onboarding-key":"new-file-icon"},"aria-label":(0,c.t)("sidebar.new_file"),...n(),children:(0,a.jsx)(l.g,{})}),(0,a.jsx)(u.c,{menuItems:h,"data-onboarding-key":m.a})]})})}},622258:function(e,t,n){n.d(t,{Y:()=>b,d:()=>j});var a=n(750357),r=n(853505),i=n(577851);if(9793==n.j)var o=n(567239);var l=n(458780),s=n(158639),d=n(228737),c=n(661193),_=n(590914),m=n(1093);if(9793==n.j)var u=n(493073);var p=n(313680),f=n(534857),x=n(404639),g=n(121142),h=n(404008);let b="drafts_to_move_onboarding_key",v=9793==n.j?3e5:null,y=new Date("2024-06-03");function j(e){return(0,a.jsx)(s.X,{label:"DraftsToMoveLink",children:(0,a.jsx)(w,{...e})})}function w(e){let t=e.dispatch,n=(0,i.v9)(e=>e.userFlags),s=(0,h.dz)(),j="draftsToMove"===e.selectedView.view,{personal_draft_migration_scheduled:w,personal_draft_migration_completed:T,long_running_draft_migration_toast_shown:k,draft_migration_completed_toast_shown:C}=(0,i.v9)(e=>e.userFlags),N=(0,r.useCallback)(()=>{t(m.R.enqueue({message:(0,_.t)("file_browser.drafts_to_move.long_running_draft_migration"),button:{text:(0,_.t)("file_browser.drafts_to_move.long_running_draft_migration_learn_more"),action:()=>{l.ZP.unsafeRedirect("https://figma.com/blog/updates-to-how-drafts-work","_blank")}},type:"long-running-draft-migration",timeoutOverride:1/0,onDismiss:()=>{}})),t(g.v({long_running_draft_migration_toast_shown:!0}))},[t]),I=(0,r.useCallback)(()=>{t(m.R.dequeue({matchType:"long-running-draft-migration"})),t(m.R.enqueue({message:(0,_.t)("file_browser.drafts_to_move.long_running_draft_migration_completed")})),t(g.v({draft_migration_completed_toast_shown:!0}))},[t]);r.useEffect(()=>{if(!w)return;if(T&&T.updatedAt>w.updatedAt){if(T.updatedAt<y||C&&C.updatedAt>T.updatedAt)return;I();return}if(k&&k.updatedAt>w.updatedAt)return;let e=new Date().getTime()-new Date(w.updatedAt).getTime();e>v?N():setTimeout(()=>{N()},v-e)},[T,N,I,k,C,w]);let E=n.seen_drafts_to_move_notice_icon?s>0?(0,a.jsx)(d.Ct,{text:s>99?"99+":`${s}`,color:j?d.JV.TOOLBAR_SELECTED:d.JV.DEFAULT,className:c.B.mr8.if(!j,c.B.colorBgBrandTertiary.colorText).$}):void 0:(0,a.jsx)(p.M,{className:c.B.mr8.$});return s>0||j?(0,a.jsx)(f.SidebarRow,{isSelected:j,onClick:e=>{e.metaKey||e.ctrlKey||0!==e.button||(t(x.fv({view:"draftsToMove"})),t(u.D5({clickedResourceType:"draftsToMove"})),t(g.v({seen_drafts_to_move_notice_icon:!0})))},"data-onboarding-key":b,icon:(0,a.jsx)(o.U,{}),text:(0,_.t)("sidebar.drafts_to_move"),badge:E,wrapInListItem:!1}):null}},404008:function(e,t,n){n.d(t,{Ok:()=>h,dz:()=>g,iF:()=>x});var a=n(853505),r=n(577851),i=n(992977),o=n(704516),l=n(146804),s=n(45190);if(9793==n.j)var d=n(453393);var c=n(132880),_=n(242802),m=n(10553),u=n(218048);let p=9793==n.j?9e5:null,f=9793==n.j?12e5:null;function x(e,t){return!(new Date().getTime()-e.getTime()>p)&&(!t||e.getTime()>t.getTime())}function g(){let e=(0,_.xJ)(),t=(0,r.v9)(e=>e.userFlags),n=e?.personal_drafts_folder_id??"",a=!!n,i=b(e,t),o=(0,s.DG)(m.XV,{projectId:n},{enabled:a});if(!a||i)return 0;let d=o.data?.project?.status!==l.OptionalStatus.Loaded?[]:o.data?.project.data?.undeletedFiles??[],c=0,u=new Set;d.forEach(e=>{e.fileRepoId?u.has(e.fileRepoId)||(c++,u.add(e.fileRepoId)):c++});let p=d.filter(e=>e.trackTags?.isTemplate).length;return c===p?0:c}function h(){let{fileByKey:e,fileKeysByFolderId:t,deletedFilesByKey:n,loadedFolders:o}=(0,i.c)(e=>({fileByKey:e.fileByKey,fileKeysByFolderId:e.fileKeysByFolderId,deletedFilesByKey:e.deletedFilesByKey,loadedFolders:e.loadedFolders})),l=(0,_.xJ)(),s=(0,r.I0)(),m=(0,r.v9)(e=>e.userFlags),u=l?.personal_drafts_folder_id,p=b(l,m);a.useEffect(()=>{u&&s((0,c.G3)({folderId:u,loadedFolders:o}))},[o,s,u]),a.useEffect(()=>{s(d.f$({orgId:null,teamId:null}))},[s]);let f=(0,a.useMemo)(()=>u?(t[u]??[]).map(t=>e[t]).filter(e=>!!e):[],[e,t,u]);if(p)return[];let x=Object.keys(n).map(e=>n[e]).filter(e=>e.folder_id===u);return f.concat(x)}function b(e,t){let n=(0,s.DG)((0,m.$_z)({})),a=(0,o.unwrap)(n.data?.personalDraftToPlanDraftLocation),r=a?.status,i=(0,o.unwrap)(a?.updatedAt);if("complete"===r||"all_autogenerated_complete"===r||"started"===r&&i&&Date.now()-new Date(i).getTime()<f||(0,u.$j)(e))return!0;let{personal_draft_migration_scheduled:l,personal_draft_migration_completed:d,personal_draft_deletion_scheduled:c,personal_draft_deletion_completed:_}=t,p=!!(l&&x(l.updatedAt,d?.updatedAt)),g=!!(c&&x(c.updatedAt,_?.updatedAt));return!!(p||g)}},688854:function(e,t,n){n.d(t,{V:()=>O,W:()=>S});var a=n(750357),r=n(853505),i=n(577851);if(9793==n.j)var o=n(211839);if(9793==n.j)var l=n(403706);if(9793==n.j)var s=n(862047);if(9793==n.j)var d=n(284728);if(9793==n.j)var c=n(311565);var _=n(492342),m=n(992977);n(607906);var u=n(704516),p=n(489209),f=n(590914),x=n(225094),g=n(877691),h=n(121142),b=n(436218),v=n(736950),y=n(927177),j=n(864638),w=n(118960),T=n(979035),k=n(991261),C=n(430615),N=n(879151);if(9793==n.j)var I=n(996279);if(9793==n.j)var E=n(804251);let S="PLAN_SWITCHER_ONBOARDING_KEY";function O(){let e=(0,i.I0)(),t=(0,i.v9)(e=>(0,j.getPermissionsStateMemoized)(e)),n=(0,m.c)(e=>(0,v.rW)(e.user,e.currentUserOrgId,e.currentTeamId)),o=(0,i.v9)(e=>e.user),l=(0,i.v9)(e=>e.plans),s=(0,w.I6)();if(r.useEffect(()=>{e((0,b.Zi)({loadedPlans:l}))},[]),!n||!o)return null;let d=(0,v.CV)(t,n);return(0,a.jsx)(A,{teamName:d,currentWorkspace:n,currentUser:o,planResult:s})}function A({teamName:e,currentWorkspace:t,currentUser:n,planResult:r}){let m=(0,i.I0)(),{manager:h,getTriggerProps:b}=o.H9({config2025CuratorHacks:!0}),{menuGroups:v,onChange:j,onCreateTeam:O}=(0,C.B)({currentUser:n}),A=v.flatMap(e=>e.items).find(e=>e.isSelected)?.planId,B={...h,getFloatingProps:e=>{let t=h.getFloatingProps(e);return{...t,style:{...t?.style,minWidth:k.Z-8}}}};(0,N.e)(h);let M=(0,w.I6)(),{isDraftsToMovePlan:L,dtmMigrationCompleted:F,starterTeamCreated:U,dtmMigrationPlanName:z,dtmPlanParentId:Z,dtmPlanParentType:G}=(0,y.X)((0,u.unwrap)(M.data)||void 0),$=!L&&F&&(0,_.BZ)().dtm_deprecation_post_migration_onboarding;return(0,a.jsxs)(o.fC,{manager:B,children:[(0,a.jsxs)(D,{children:[(0,a.jsxs)(l.h,{...{0:{className:"x78zum5 x6s0dn4 x10w6t97 x12oqio5 x6wrskw xb3r6kr xv2f06h x5hs570"},1:{className:"x78zum5 x6s0dn4 x10w6t97 x12oqio5 x6wrskw xb3r6kr x5hs570 x30nh5c"}}[0|!!h.isOpen],...b(),"aria-label":(0,f.t)("navbar.navbar.plan_label",{name:e}),children:[(0,a.jsxs)("div",{...{className:"x78zum5 x1q0g3np x6s0dn4 xb3r6kr"},children:[(0,a.jsx)(p.w,{size:16,userId:t.userId,orgId:t.orgId,teamId:t.teamId,personalSpaceIcon:I.Z,personalSpaceIcon1x:E.Z}),(0,a.jsx)("div",{...{className:"x78zum5 x1q0g3np xet2fuk xb3r6kr"},children:(0,a.jsx)(x.x,{fontSize:13,fontWeight:"medium",color:"default",truncate:!0,children:e})})]}),(0,a.jsx)(d.K,{className:"x2lah0s"})]}),"loaded"===r.status&&(0,a.jsx)("div",{...{className:"x78zum5 xozqiw3 xj3b58b x1yf7rl7"},children:(0,a.jsx)(g.Z,{workspace:t,planTier:r.data.tier})})]}),(0,a.jsxs)(o.W2,{"data-onboarding-key":C.a,children:[(0,a.jsx)(s.Ee,{title:null,onChange:e=>{j(e)},value:A,children:v.map(e=>(0,a.jsx)(o.ZA,{title:e.title?(0,a.jsx)(o.Dx,{children:e.title}):null,children:e.items.map(e=>(0,a.jsxs)(s.mJ,{value:e.planId,children:[(0,a.jsx)(o.ze,{children:e.icon}),P(e.displayText),e.badge?(0,a.jsx)(o.Rd,{children:e.badge}):null]},e.planId))},e.key))}),O?(0,a.jsxs)(o.ck,{onClick:()=>O(),children:[(0,a.jsx)(o.ze,{children:(0,a.jsx)(c.Z,{})}),(0,f.t)("navbar.navbar.create_new")]}):null]}),$&&(0,a.jsx)(T.N,{entryPoint:"plan_nav",planName:z,targetKey:S,starterTeamCreated:U??!1,isOrg:"org"===G,navigateToPlan:()=>{Z&&R(Z,m,j)}})]})}function D({children:e}){return(0,a.jsx)("div",{...{0:{className:"x78zum5 x1q0g3np x6s0dn4 x1nhvcw1 x1jnr06f x6wrskw"},1:{className:"x78zum5 x1q0g3np x6s0dn4 x1nhvcw1 x1jnr06f x163pfp"}}[0|!!(0,_.BZ)().file_browser_sidebar_row_ui],"data-onboarding-key":S,children:e})}let R=(e,t,n)=>{e&&n(e,!0),t(h.v({switched_to_new_plan_from_dtm_deprecation_onboarding:!0}))},P=e=>(0,a.jsx)("div",{className:"xb3r6kr xlyipyv xuxw1ft xenbecp",children:e})},430615:function(e,t,n){n.d(t,{B:()=>E,a:()=>I});var a=n(750357),r=n(853505),i=n(577851),o=n(273634),l=n(492342),s=n(704516),d=n(514566),c=n.n(d),_=n(574059),m=n(45190);if(9793==n.j)var u=n(816152);var p=n(632959),f=n(489209),x=n(590914);if(9793==n.j)var g=n(453393);var h=n(877691),b=n(121142),v=n(277436),y=n(260251),j=n(736950),w=n(10553),T=n(218048),k=n(864638);if(9793==n.j)var C=n(762498);if(9793==n.j)var N=n(519642);let I="PLAN_SPACES_ONBOARDING_KEY";function E({currentUser:e}){let t=(0,i.I0)(),n=(0,i.v9)(e=>e.plans),a=(0,i.v9)(e=>(0,k.getPermissionsStateMemoized)(e)),d=(0,v.M)(),f=(0,m.DG)(w.$_z,{},{enabled:(0,l.BZ)().dtm_deprecation_post_migration_onboarding}),h=(0,s.unwrap)(f.data?.personalDraftToPlanDraftLocation),j=(0,s.unwrap)(h?.toDraftsFolder?.team?.trackTags)?.is_auto_created_for_dtm_migration??!1,I=h?.status==="complete",E=(0,m.DG)((0,w.ByV)({name:"seen_dtm_post_migration_badge"})),O=!!E?.data?.currentUser?.userFlagByName,A=(0,T.$j)(e),D=A&&n.length>1,R=!A&&!(0,_.DP)();return{menuGroups:(0,r.useMemo)(()=>{let t=n.some(e=>e.is_guest),{full:r,limited:i}=function({userPlans:e,currentUser:t,hasRestrictedTeams:n}){let a=[],r=[];return e.forEach(e=>{n?e.plan_type===N.k.ORG&&e.plan_id===t.external_restricted_org_id?a.push(e):r.push(e):e.is_guest?r.push(e):a.push(e)}),n&&0===a.length&&(0,p.Jz)(o.k.WORKFLOW,Error(`Enterprise plan not found in Plan Switcher for user ${t.id}`),{extra:{...e}}),{full:a,limited:r}}({currentUser:e,userPlans:n,hasRestrictedTeams:D}),l=r.map(t=>S(t,e,a,{isDraftsToMovePlan:j&&h?.planParentId===t.plan_id,dtmMigrationCompleted:j&&I,starterTeamCreated:j,seenDtmPostMigrationBadge:O})).sort((e,t)=>e.displayText.localeCompare(t.displayText)),s=i.map(t=>S(t,e,a,{isDraftsToMovePlan:j&&h?.planParentId===t.plan_id,dtmMigrationCompleted:j&&I,starterTeamCreated:j,seenDtmPostMigrationBadge:O})).sort((e,t)=>e.displayText.localeCompare(t.displayText));return c()([l.length>0&&{key:"full",title:t?(0,x.t)("navbar.navbar.full_team_member_access"):void 0,items:l},s.length>0&&{key:"limited",title:D||!t?(0,x.t)("navbar.navbar.view_only_plans_disabled_by_admins"):(0,x.t)("navbar.navbar.limited_team_member_access"),items:s}])},[n,D,e,a,j,I,O,h?.planParentId]),onChange:(r,i)=>{let o,s=n.find(e=>e.plan_id===r);if(!s)return;let d=(0,u.Z)(s,e.id),c=a.currentUserOrgId,m=a.currentTeamId,p=d.orgId,f=d.teamId,x=!!(0,_.Gm)().is_limited_team_plan,v=!!f&&s.is_guest,w=s.draft_folder_id;o=i&&(0,l.BZ)().dtm_deprecation_post_migration_onboarding&&w?{view:"folder",folderId:w}:d.teamId&&!s.is_guest?{view:"team",teamId:d.teamId}:d.teamId&&s.is_guest?{view:"limitedTeamSharedProjects"}:{view:"org",orgId:d.orgId,orgViewTab:C.i.HOME},I&&j&&h?.planParentId===s.plan_id&&t(b.v({seen_dtm_post_migration_badge:!0})),(0,y.iP)("Plan Switcher Plan Clicked",{user:e},{currentOrgId:c,currentTeamId:m,newOrgId:p,newTeamId:f,isCurrentPlanLimitedTeamPlan:x,isNextPlanLimitedTeamPlan:v}),t(g.NO({workspace:d,view:o}))},onCreateTeam:R?d:null}}function S(e,t,n,r){let i=(0,u.Z)(e,t.id),o=(0,j.CV)(n,i),s=(0,j.DO)(n,i),d=(0,l.BZ)().dtm_deprecation_post_migration_onboarding&&r?.starterTeamCreated&&r?.isDraftsToMovePlan&&r?.dtmMigrationCompleted&&!r?.seenDtmPostMigrationBadge;return{planId:e.plan_id,isSelected:s,displayText:o,badge:(0,a.jsx)(h.Z,{planTier:e.tier,workspace:i,isInDropdown:!0,isGuest:e.is_guest,shouldShowDtmPostMigrationBadge:d}),icon:(0,a.jsx)(f.w,{userId:i.userId,orgId:i.orgId,teamId:i.teamId,size:16})}}},879151:function(e,t,n){n.d(t,{e:()=>s,n:()=>l});let{open:a,close:r,useRegisterMenu:i}=(0,n(48572).s)(),o=9793==n.j?{open:a,close:r}:null;function l(){return o}let s=9793==n.j?i:null},877691:function(e,t,n){n.d(t,{Z:()=>M});var a=n(750357),r=n(739640),i=n(590914),o=n(577851),l=n(574059),s=n(473884),d=n(749354),c=n(479852),_=n(153074),m=n(761050),u=n(864638);function p(e){let t=(0,o.v9)(e=>(0,u.getPermissionsStateMemoized)(e)),n=(0,d.lT)({oldValue:(0,_.bP)(t,e.orgId)?.permission===c.Gu.GUEST,newValue:e.isGuest,label:d.NL.PlanSwitcherOrgBadges.isOrgGuest,enableShadowRead:!1,enableFullRead:(0,s.XP)(s.mU.GROUP_7)}),p=(0,d.lT)({oldValue:(0,m.ko)(t.orgById[e.orgId]),newValue:e.planTier===c.Lz.ENTERPRISE,label:d.NL.PlanSwitcherOrgBadges.isEnterprise,enableShadowRead:!1,enableFullRead:(0,s.XP)(s.mU.GROUP_7)}),f=(0,l.DP)()?(0,i.t)("navbar.navbar.government"):n?(0,i.t)("navbar.navbar.guest"):p?(0,i.t)("navbar.navbar.enterprise"):(0,i.t)("navbar.navbar.org");return(0,a.jsx)(r.C,{variant:"defaultFilled",children:f})}var f=n(853505),x=n(551916);n(607906);var g=n(444947),h=n(45190),b=n(228737),v=n(661193),y=n(710706),j=n(453393),w=n(469271),T=n(70523),k=n(871567),C=n(926941),N=n(388798),I=n(28620),E=n(10553),S=n(672650),O=n(620516),A=n(892243),D=n(750077),R=n(260736);let P=(0,n(178922).x2)("pro_trial",function(e){let t=(0,a.jsx)("span",{style:{fontWeight:600},children:(0,i.tx)("team_list.pro_trial_time_left_days",{daysLeft:e.daysLeft})});return(0,a.jsx)("div",{className:v.B.flex.itemsCenter.justifyCenter.$,children:(0,a.jsx)("p",{children:(0,i.tx)("team_list.pro_trial_time_left",{daysLeftText:t})})})},e=>({daysLeft:Number(e.getAttribute("data-tooltip-pro-trials-days-left")||0)}));function B(e){let t=(0,o.I0)(),n=(0,o.v9)(e=>e.user),l=(0,o.v9)(e=>e.teams)[e.teamId],_=(0,o.v9)(e=>(0,u.getPermissionsStateMemoized)(e)),m=e.planTier===c.Lz.PRO,p=(0,T.Hc)(),B=(0,d.lT)({oldValue:(0,S.e3)(l),newValue:e.planTier===c.Lz.PRO||e.planTier===c.Lz.STUDENT,label:d.NL.PlanSwitcherTeamBadges.isProOrStudentTeam,enableShadowRead:!1,enableFullRead:(0,s.XP)(s.mU.GROUP_7)}),M=(0,h.DG)((0,E.C13)({teamId:e.teamId}),{enabled:!B&&(0,s.br)(s.mU.GROUP_7)}),L=(0,d.F7)({oldValue:x.IE.loaded((0,u.hasEditorRoleAccessOnTeam)(e.teamId,_)),newValue:M.transform(({team:e})=>!!(e?.roleOnObjectForUser&&e.roleOnObjectForUser.level>=D.V5.EDITOR)),label:d.NL.PlanSwitcherTeamBadges.canUpgradeStarterTeam,enableShadowRead:!1,enableFullRead:(0,s.XP)(s.mU.GROUP_7),contextArgs:{teamId:e.teamId}}).data,F=(0,I.zy)(e.teamId),U=(0,o.v9)(e=>e.plans),z=(0,o.v9)(e=>e.modalShown?.type===y.d),Z=U.find(t=>t.plan_id===e.teamId&&"team"===t.plan_type),G=!!Z?.is_guest,[$,V]=(0,f.useState)(!1),K=(0,f.useRef)();if(!n||!l)return null;let H=e=>{t((0,w.K4)({type:y.n,data:{teamId:l.id,upsellSource:e}}))};if(G&&e.isInDropdown)return(0,a.jsx)(a.Fragment,{});if(l.student_team){if(e.isInDropdown)return(0,a.jsx)(r.C,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.edu")})}else if((0,S.cv)(l.id,_)){if(l.student_team_at)return null;let t=O.pl.canSeeProTrialExpiryUx(F),o=(0,a.jsx)(r.C,{variant:"warningFilled",children:(0,i.t)("navbar.navbar.trial_expired")}),s=(0,a.jsx)(r.C,{variant:"warningFilled",children:(0,i.t)("navbar.navbar.locked")});return e.isInDropdown?t?o:s:t?(0,a.jsx)(C.Ui,{name:b.gZ.PRO_TRIAL_EXPIRED,properties:{userId:n.id,teamId:l.id,...O.pl.getTrackingProperties()},children:o}):s}else if(F&&O.pl.canSeeProTrialUx(F)){let t=(0,a.jsx)(r.C,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.pro_trial")});return e.isInDropdown?t:(0,a.jsx)(C.Ui,{name:b.gZ.PRO_TRIAL,properties:{userId:n.id,teamId:l.id,...O.pl.getTrackingProperties()},children:(0,a.jsx)(C.XT,{type:"button",onClick:()=>H(A.V.PRO_TRIAL_UPSELL_MODAL),className:v.B.ml8.noWrap.$,trackingProperties:O.pl.getTrackingProperties("Badge Clicked"),children:(0,a.jsx)("span",{"data-tooltip-type":R.fR.SPECIAL,"data-tooltip":P,"data-tooltip-pro-trials-days-left":F.daysLeft,"data-tooltip-show-right":!0,"data-tooltip-max-width":195,"data-tooltip-timeout-delay":50,children:t})})})}else if(B&&e.isInDropdown)return(0,a.jsx)(r.C,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.pro")});else if(m&&!e.isInDropdown&&p())return(0,a.jsx)(C.Ui,{name:b.gZ.PROFESSIONAL,properties:{userId:n.id,teamId:l.id,trackingDescriptor:k.y.PROFESSIONAL},children:(0,a.jsx)(C.XT,{"aria-label":(0,i.t)("navbar.navbar.professional_label",{teamName:l.name}),"aria-expanded":z,onClick:()=>H(A.V.SIDEBAR_PLAN_SWITCHER_PROFESSIONAL_BADGE),...{className:"xctca69"},children:(0,a.jsx)(b.Ct,{size:b.OD.LARGE,color:b.JV.DEFAULT,text:(0,i.t)("navbar.navbar.professional"),...{className:"x1fgql6j xj3b58b x1yf7rl7 xyk4uir xdkpnqj xuxw1ft x78zum5"}})})});else if(!B){let o=(0,a.jsx)(r.C,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.free")});if(e.isInDropdown)return o;if(L){let e={monetization_surface:N.t.MonetizationSurface.FILE_BROWSER,monetization_trigger:A.V.STARTER_TEAM_BADGE};return(0,a.jsx)("button",{"aria-label":(0,i.t)("navbar.navbar.free_label",{teamName:l.name}),"aria-expanded":z,onClick:a=>{a.stopPropagation(),t(j.g(l.id)),H(A.V.STARTER_TEAM_BADGE),(0,g.L9)("Starter Team Badge Clicked",{userId:n.id,teamId:l.id,...e})},onMouseEnter:()=>{$||(K.current=setTimeout(()=>{(0,g.L9)("Starter Team Badge Viewed",{userId:n.id,teamId:l.id,...e}),V(!0)},1e3))},onMouseLeave:()=>{clearTimeout(K.current)},className:v.B.bgTransparent.$,...{className:"xctca69"},children:(0,a.jsx)(b.Ct,{size:b.OD.LARGE,color:b.JV.DEFAULT,text:(0,i.t)("navbar.navbar.free"),className:`${v.B.noWrap.flex.$} plan_switcher_team_badges--freeBadgeHover--Y8BVx`})})}}return null}function M({workspace:e,isInDropdown:t,planTier:n,isGuest:o,shouldShowDtmPostMigrationBadge:l}){if(l)return(0,a.jsx)(r.C,{variant:"brandFilled",children:(0,i.t)("file_browser.drafts_to_move.new")});if(e.orgId){if(t)return(0,a.jsx)(p,{orgId:e.orgId,planTier:n,isGuest:!!o})}else if(e.teamId)return(0,a.jsx)(B,{teamId:e.teamId,isInDropdown:t,planTier:n});return null}},624529:function(e,t,n){n.d(t,{E:()=>i});var a=n(641857),r=n(556519);function i(e=!0){let t=e?a.O$1?.canvasGrid().canvasGridArray:null;return 0===(0,r.YO)(t,[]).length}},244676:function(e,t,n){n.d(t,{Dc:()=>s,O$:()=>c,Oq:()=>d,QZ:()=>_,Vn:()=>i,Xo:()=>l,bV:()=>m,eD:()=>p,se:()=>o,uK:()=>r,uW:()=>f});var a=n(237335);let r="agreed_to_cooper_modal",i="cooper_locked_template_insert_event",o="seen_cooper_internal_template_banner",l="seen_cooper_internal_template_creation_banner",s="Copying 3 or more non-instance assets",d="cooper_publish_templates_target_key",c="buzz_plugin_button_target_key",_="dismiss_buzz_plugin_callout";function m(){return!!(0,a.p)(r)}let u=9793==n.j?864e5:null,p=9793==n.j?7*u*2:null;function f(e,t){let n=Date.now();return e.getTime()<=n-t}},574757:function(e,t,n){if(n.d(t,{o:()=>_,w:()=>c}),9793==n.j)var a=n(688199);var r=n(852258),i=n(929204),o=n(773997),l=n(73838),s=n(700483),d=n(307442);let c=l.t1.Query({fetch:async e=>(await d.D_.getResources({...e,caller:i.f.COOPER_TEMPLATE_PICKER})).data.meta.results});function _(e){let t=new Set,n=e.filter(e=>(0,r.SE)(e)&&(0,r.D1)(e)).map(e=>e.content.component_v2._component_v2_record);n.forEach(e=>{t.add((0,a.o)(e.library_key))});let i=(0,o.Wx)(Array.from(t)),l=i.data,d=new Map;return l.forEach(e=>{(0,s.CJ)(e)&&d.set((0,a.o)(e.library_key),e)}),{isLoading:"loading"===i.status,libraryKeyToPublishedLibrary:d,components:n}}},924335:function(e,t,n){n.d(t,{d$:()=>el,Ps:()=>Q,Gn:()=>ea,Y7:()=>V,Yr:()=>ee,PW:()=>Y,oO:()=>X,Ae:()=>et,fc:()=>J,vX:()=>H,RJ:()=>q});var a=n(750357),r=n(853505),i=n(303501),o=n(403706),l=n(5929),s=n(810973),d=n(19894),c=n(12103),_=n(631061),m=n(921988),u=n(771790),p=n(688199),f=n(389981),x=n(492342),g=n(363240);n(607906);var h=n(53022),b=n.n(h),v=n(238573),y=n(484299),j=n(486245),w=n(426670),T=n(152659),k=n(661193),C=n(555792),N=n(590914),I=n(533180),E=n(616754),S=n(871567),O=n(118960),A=n(260736),D=n(143650),R=n(743649),P=n(39160);let B="cooper_template_ui--tile--5Q2oe",M="cooper_template_ui--detailTileContainer--x1frx",L="cooper_template_ui--detailTile--7EB-N",F="cooper_template_ui--hoverOverlayTarget--uadYO",U="cooper_template_ui--rowMargin--nDKSn",z="cooper_template_ui--rowContainer--gMSFC",Z="cooper_template_ui--rowIconContainer--hdv20",G="cooper_template_ui--rowMetadataContainer--4pF3t",$="cooper_template_ui--rowMetadataTitle--DMXJt",V="https://help.figma.com/hc/articles/31271693614487",K={kVIFPx:"x19kjcj4",$$css:!0};function H(){return(0,a.jsx)("div",{className:k.B.flexColumn.alignCenter.pt32.pb16.$,children:(0,a.jsx)("div",{className:k.B.mxAuto.w24.h24.$,children:(0,a.jsx)(i.T,{})})})}let W="cooper-tile-id";function q({name:e,label:t,thumbnailUrl:n,additionalThumbnailUrls:r,onClick:i,libraryKey:l,truncateHoverText:s=!1}){let d=(0,P.Hs)((0,p.o)(l)).data.templates,c=0;for(let e of d)c+=e.components.length;let _=c>0?s?(0,N.t)("cooper.templates.view_n_templates_short",{numTemplates:c}):(0,N.t)("cooper.templates.view_n_templates",{numTemplates:c}):s?(0,N.t)("cooper.templates.view"):(0,N.t)("cooper.templates.view_templates");return(0,a.jsx)(o.h,{onClick:i,htmlAttributes:{"data-testid":`templateDetailTile.${e}`},className:F,children:(0,a.jsxs)("div",{className:M,children:[(0,a.jsxs)("div",{className:L,children:[n&&r&&r.length>0?(0,a.jsx)("div",{className:"cooper_template_ui--thumbnailContainer--1M5DK",children:(0,a.jsx)(w.j,{thumbnailUrl:n,additionalThumbnailUrls:r||[],thumbnailType:T.Z.COOPER,noBorder:!0})}):(0,a.jsx)("div",{className:k.B.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,a.jsx)(I.j,{src:n||void 0,alt:e,draggable:!1,imageStyle:(e=>[K,{kZKoxP:null!=e?"x16ye13r":e,$$css:!0},{"--x-height":"number"==typeof e?e+"px":null!=e?e:void 0}])("100%"),loading:"lazy",crossOrigin:"use-credentials",fadeInOnLoad:!0})}),(0,a.jsx)(eo,{variant:"view",buttonText:_,ariaLabel:e})]}),(0,a.jsx)(er,{title:e,subtitle:t})]})})}function Y(){return(0,a.jsxs)("div",{className:"cooper_template_ui--detailTilePlaceholderContainer--gi635",children:[(0,a.jsx)("div",{className:B,children:(0,a.jsx)("div",{className:k.B.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,a.jsx)(j.tq,{className:"cooper_template_ui--tilePlaceholderImage--cokJ-",animationType:j.F4.LIGHT_SHIMMER,primary:!0})})}),(0,a.jsxs)("div",{className:"cooper_template_ui--tilePlaceholderMetadataContainer--CS0KL",children:[(0,a.jsx)("div",{style:{display:"table-row"},children:(0,a.jsx)(j.g4,{className:"cooper_template_ui--tilePlaceholderTitle--UjZtP",animationType:j.F4.LIGHT_SHIMMER})}),(0,a.jsx)("div",{style:{display:"table-row"},children:(0,a.jsx)(j.g4,{className:"cooper_template_ui--tilePlaceholderSubtitle--HEVNr",animationType:j.F4.LIGHT_SHIMMER})})]})]})}function J({template:e,name:t,thumbnailUrl:n,onPointerDown:i,isAboveFold:o=!1,dimensions:l,assetTypeName:s,hasVideo:d=!1,insertResourceIntoInternalCanvas:c,showPreview:_=!1}){let[m,u]=r.useState(!1);return(0,a.jsxs)("div",{className:"cooper_template_ui--tileContainer--rIySK",children:[(0,a.jsx)(ei,{template:e,onPointerDown:i,isSquareTile:!l,shouldShowPlusButtonOnHover:!0,dimensions:l,ariaLabel:s??t,hasVideo:d,insertResourceIntoInternalCanvas:c,showPreview:_,children:(0,a.jsx)("span",{className:k.B.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,a.jsx)(y.oG,{onLoad:()=>{u(!0)},src:n,alt:t,draggable:!1,style:{objectFit:"contain",transition:"opacity 0.1s ease-in-out",opacity:+!!m,borderRadius:"var(--radius-medium)",...l?{aspectRatio:l.width/l.height,width:"100%",height:"auto"}:{width:"100%",height:"100%"}},loading:o?"eager":"lazy"})})}),s&&(0,a.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9",children:s})]})}function Q({onPointerDown:e}){let t=(0,O.ZG)("useAllowInternalTemplatesCooper"),n="loaded"===t.status?t.data?.name:void 0;return(0,a.jsx)(o.h,{onClick:e,className:F,"data-testid":"create-new-template-tile",children:(0,a.jsxs)("div",{className:M,children:[(0,a.jsxs)("div",{className:L,children:[(0,a.jsx)(d.h,{}),(0,a.jsx)(eo,{variant:"add",buttonText:(0,N.t)("cooper.templates.blank_template")})]}),(0,a.jsx)(er,{title:(0,N.t)("cooper.templates.new_template"),subtitle:n&&(0,N.t)("cooper.templates.for_plan_name",{planName:n})})]})})}function X({templateType:e,iconUrl:t,onPointerDown:n}){let{name:r,dimension:i}=e,o=i.x/i.y;return(0,a.jsx)("button",{onClick:n,className:F,"data-testid":"start-from-scratch-template-tile",children:(0,a.jsxs)("div",{className:M,children:[(0,a.jsxs)("div",{className:L,children:[(0,a.jsx)("div",{className:b()("cooper_template_ui--startFromScratchAsset--KNfu0",o>1?"cooper_template_ui--horizontalAspectRatio--vNr1X":"cooper_template_ui--verticalAspectRatio--LimbY"),style:o<2.5&&o>.4?{aspectRatio:i.x/i.y}:void 0,children:t&&(0,a.jsx)(y.oG,{src:t,alt:r,draggable:!1,style:{objectFit:"contain",width:"12px",height:"12px"},loading:"lazy"})}),(0,a.jsx)(eo,{variant:"add",buttonText:(0,N.t)("cooper.templates.add_blank"),ariaLabel:r})]}),(0,a.jsx)(er,{title:r,subtitle:`${i.x} x ${i.y}`})]})})}function ee({templateType:e,iconUrl:t,onPointerDown:n}){let{name:i,dimension:l}=e,s=r.useRef(null),d=(0,P.mw)(s)?{"data-tooltip-type":A.fR.TEXT,"data-tooltip":i,"data-tooltip-timeout-delay":300}:{};return(0,a.jsx)("div",{className:U,children:(0,a.jsxs)(o.h,{onClick:n,actionOnPointerDown:!0,htmlAttributes:{"data-element-target":W},className:z,...d,children:[t?(0,a.jsx)("div",{className:Z,children:(0,a.jsx)(y.oG,{src:t,alt:i,draggable:!1,style:{objectFit:"contain",width:"12px",height:"12px"},loading:"lazy"})}):(0,a.jsx)(en,{}),(0,a.jsxs)("div",{className:G,children:[i&&(0,a.jsx)("span",{ref:s,className:$,children:i}),l&&(0,a.jsx)("span",{className:"cooper_template_ui--rowMetadataSubtitle--b-0c0",children:`${l.x} x ${l.y}`})]})]})})}function et({onPointerDown:e}){return(0,a.jsx)("div",{className:U,children:(0,a.jsxs)(o.h,{onClick:e,actionOnPointerDown:!0,className:z,recordingKey:"cooperStartFromScratchCustomSize",children:[(0,a.jsx)(en,{}),(0,a.jsx)("div",{className:G,children:(0,a.jsx)("span",{className:$,children:(0,N.t)("cooper.templates.custom_size")})})]})})}function en(){return(0,a.jsx)("div",{className:Z,children:(0,a.jsx)(c.W,{})})}function ea({numColumns:e,children:t}){let n=(0,P.i1)(),r=(0,g.Dv)(E.f9),i=(0,g.Dv)(E.wM),o=(0,g.Dv)(E.wG),l=r.length>0,s=l&&n,d=n&&i.type===E.$i.TEMPLATES,c="COMMUNITY"===o&&!l,_=b()({"cooper_template_ui--grid--k55-0 cooper_template_ui--gridBase--V-7cb":!n,"cooper_template_ui--teamTemplateGrid--EP9v8 cooper_template_ui--gridBase--V-7cb":n&&!d&&!c&&!s,"cooper_template_ui--firstPartyAssetGrid--pJEPA cooper_template_ui--gridBase--V-7cb":n&&(c||s),"cooper_template_ui--templateListGrid--nGoXC cooper_template_ui--gridBase--V-7cb":d&&!c&&!s});return(0,a.jsx)("div",{className:_,style:{"--num-columns":e||3},children:t})}function er({title:e,subtitle:t}){let n=r.useRef(null),i=(0,P.mw)(n)?{"data-tooltip-type":A.fR.TEXT,"data-tooltip":e,"data-tooltip-timeout-delay":300}:{};return(0,a.jsxs)("div",{className:"cooper_template_ui--tileMetadataContainer--YqY41",children:[e&&(0,a.jsx)("div",{style:{display:"table-row"},children:(0,a.jsx)("span",{ref:n,...i,className:"cooper_template_ui--tileMetadataTitle--2orFu",children:e})}),t&&(0,a.jsx)("div",{style:{display:"table-row"},children:(0,a.jsx)("span",{className:"cooper_template_ui--tileMetadataSubTitle--3-Tb0",children:t})})]})}function ei({template:e,children:t,onPointerDown:n,isSquareTile:i,shouldShowPlusButtonOnHover:o,dimensions:l,ariaLabel:s,hasVideo:d=!1,insertResourceIntoInternalCanvas:c,showPreview:u=!1}){let p=r.useRef(null),h=r.useRef(null),v=(0,g.b9)(E.K),y=(0,g.b9)(E.CL),[j,w]=(0,g.KO)(E.YX),T=(0,g.b9)(E.q5),k=(0,g.b9)(E.eM),I=r.useCallback(()=>{v({}),y([])},[v,y]),O=r.useCallback(e=>{if("Enter"===e.key||" "===e.key){e.preventDefault();let t=window.innerWidth/2,a=window.innerHeight/2,r=new PointerEvent("pointerdown",{pointerId:0,pointerType:"virtual",clientX:t,clientY:a,bubbles:!0});n({...r,target:e.currentTarget,currentTarget:e.currentTarget,preventDefault:()=>{},stopPropagation:()=>{},stopImmediatePropagation:()=>{},isDefaultPrevented:()=>!1,isPropagationStopped:()=>!1,persist:()=>{},nativeEvent:r});let i=new PointerEvent("pointerup",{pointerId:0,pointerType:"virtual",clientX:t,clientY:a,bubbles:!0});document.dispatchEvent(i)}},[n]);return r.useEffect(()=>{if(j===e.id){I();let{guidComponentProps:t,variantPropDefs:n,stateOrLooseComponent:a}=function(e){let t,n,a=e.containing_frame?.containingStateGroup&&e.containing_frame?.containingStateGroup.nodeId,r=(0,f.getActiveTSSceneGraph)().getInternalCanvas()?.childrenNodes||[],i=e.node_id;for(let e of r)if(a&&e.publishID===a){for(let n of e.childrenNodes)if(n.publishID===i){t=(0,D.JO)([n.guid],(0,f.getActiveTSSceneGraph)());let a=(0,R.T2)(e.guid,t);return{guidComponentProps:t,variantPropDefs:a,stateOrLooseComponent:n}}}else e.publishID===i&&(t=(0,D.JO)([e.guid],(0,f.getActiveTSSceneGraph)()),n=e);return{guidComponentProps:t,stateOrLooseComponent:n}}(e);t&&a&&a&&v(t[a.guid]),n&&y(n)}},[j,e.id,I,v,y,e]),(0,a.jsxs)(C.CN,{ref:p,onClick:n,actionOnPointerDown:!0,htmlAttributes:{"data-element-target":W,"data-testid":"insertableAssetTile",onKeyDown:O},className:b()(i?"cooper_template_ui--templateAssetTile--bw-N0":B,{[F]:o}),style:{position:"relative",...l?{aspectRatio:l.width/l.height,width:"100%",height:"auto"}:{aspectRatio:1}},trackingProperties:{trackingDescriptor:S.y.TEMPLATE_COVER_TILE},children:[o&&(0,a.jsx)(eo,{variant:"add",buttonText:p.current?.clientWidth&&p.current.clientWidth>140?(0,N.t)("cooper.templates.add_template"):(0,N.t)("cooper.templates.add"),ariaLabel:s}),t,d&&(0,a.jsx)(_.W,{className:"x10l6tqk x1bfpjnn x1473dw x1n327nk x47corl x192jxwq xmkeg23 x1y0btm7 x1co876m x68m4m9 xwa2v1s"}),u&&(0,x.BZ)().buzz_template_sets&&(0,a.jsx)("button",{className:"cooper_template_ui--templatePreviewSeeDetails--FPlW5",onPointerDown:t=>{t.preventDefault(),t.stopPropagation(),T(e),w(""),c(t),I(),h.current&&k(h.current.getBoundingClientRect().y)},"aria-label":(0,N.t)("buzz.templates.template_picker.org_view.see_details"),ref:h,children:(0,a.jsx)(m.O,{className:"xwa2v1s"})})]})}function eo({variant:e,buttonText:t,ariaLabel:n}){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"cooper_template_ui--templateTileHoverOverlay--9bZXB","aria-label":n||t,role:"button",children:"add"===e?(0,a.jsx)(l.zx,{iconPrefix:(0,a.jsx)(u.g,{style:{"--color-icon":"white"}}),htmlAttributes:{tabIndex:-1},variant:"primary",children:t}):(0,a.jsx)(o.h,{className:"cooper_template_ui--hoverOverlayWhiteButton--eXeH-",htmlAttributes:{tabIndex:-1},children:t})})})}function el({isWide:e=!1}){return e?(0,a.jsx)(l.ps,{variant:"secondary",onClick:()=>(0,v.Ne)(V,"_blank"),children:(0,N.tx)("cooper.templates.show_me_how")}):(0,a.jsx)(s.r.Button,{href:V,variant:"secondary",trusted:!0,newTab:!0,children:(0,N.tx)("cooper.templates.show_me_how")})}},39160:function(e,t,n){n.d(t,{CH:()=>er,Fr:()=>ef,Hs:()=>el,K2:()=>ec,K8:()=>J,Ks:()=>q,OB:()=>eu,T$:()=>es,To:()=>ed,YL:()=>et,Zb:()=>ea,dW:()=>X,eH:()=>Q,eQ:()=>eo,i1:()=>ee,ku:()=>en,mw:()=>ex,p$:()=>Y,pO:()=>ep,sH:()=>ei,wc:()=>eb});var a,r=n(853505),i=n(577851);if(9793==n.j)var o=n(612661);var l=n(641857),s=n(539767);if(9793==n.j)var d=n(852087);if(9793==n.j)var c=n(42993);var _=n(389981),m=n(363240),u=n(704516);if(9793==n.j)var p=n(887682);var f=n(44477),x=n(903132),g=n(581370),h=n(456793),b=n(590914),v=n(78248),y=n(270685),j=n(753139),w=n(201452);if(9793==n.j)var T=n(61175);if(9793==n.j)var k=n(244676);if(9793==n.j)var C=n(616754);if(9793==n.j)var N=n(27048);if(9793==n.j)var I=n(660671);var E=n(990575),S=n(758226),O=n(406561),A=n(572497),D=n(868713),R=n(257361);if(9793==n.j)var P=n(424642);var B=n(363090),M=n(416792);if(9793==n.j)var L=n(479852);var F=n(10553),U=n(800583),z=n(118960);if(9793==n.j)var Z=n(857677);var G=n(518349);if(9793==n.j)var $=n(574757);if(9793==n.j)var V=n(572953);function K(e){let t=new Map,n=new Map;return e.forEach(e=>{let n=e.containing_frame?.containingStateGroup?.nodeId;n&&H(t,n,e)}),e.forEach(e=>{if(e.containing_frame?.containingStateGroup?.nodeId)return;let a=e.containing_frame?.nodeId||e.containing_frame?.pageId,r=e.containing_frame?.name||e.containing_frame?.pageName,i=e.containing_frame?.sortPosition??null;a&&r&&(H(t,a,e),n.set(a,{name:r,node_id:a,sort_position:i}))}),{groupingMap:t,containingFrameMap:n}}function H(e,t,n){let a=e.get(t);a?a.push(n):e.set(t,[n])}function W(e,t){return[...e.entries()].map(([e,n])=>{let a=t.get(e)||[];return{name:n.name,node_id:n.node_id,sort_position:n.sort_position,components:a,thumbnail_url:a[0]?.thumbnail_url}})}function q(){return 0===(0,I.dy)().length}function Y(){let e=(0,B.at)(),t=(0,I.Ub)();if(0===t.length)return null;let n=t[0];if(n){let t=e.get(n);if(t){let n=t.symbolId;if(n)return e.get(n)?.sourceLibraryKey}}return null}var J=9793==n.j?((a=J||{}).NEW_FILE_MODAL="NEW_FILE_MODAL",a.LEFT_RAIL="LEFT_RAIL",a):null;let Q=r.createContext(null);function X(){let e=r.useContext(Q);if(!e)throw Error("useCooperTemplateViewType must be used within a CooperTemplateViewTypeContext");return e}function ee(){return"LEFT_RAIL"===X()}function et(){let e=(0,f.Pe)(),t=(0,i.v9)(e=>e.search.sessionId),[n,a]=(0,m.KO)(C.f9),[o,l]=(0,m.KO)(C.Ni),[s,d]=(0,m.KO)(C.$S),[c,_]=(0,m.KO)(C.JI),u=n.trim(),[g]=(0,p.Z)(u,200),h=X(),b=(0,S.Cz)(),{teamTemplates:v,requestLoadMore:y,status:T}=(0,S.GP)(g,L.gg.COOPER,"NEW_FILE_MODAL"===h?16:10),k=(0,z.Mz)("useCooperTemplatesSearch"),N=(0,z.Gw)(k).unwrapOr(!1),I=(0,O.p)(),E=b?.type==="team"&&N,A=b?.type==="org"?b.entity.id:void 0,D=E?b.entity.id:void 0,[{data:R,status:P}]=(0,x.aM)((0,$.w)({query:g,sort_by:j.A.Search.POPULAR,resource_type:[w._g.COOPER_TEMPLATE_ASSET],org_id:A,team_id:D,include_content:!0}),{enabled:I&&!!(A||D)}),[{data:B,status:M}]=(0,x.aM)((0,$.w)({query:g,sort_by:j.A.Search.POPULAR,resource_type:[w._g.COOPER_TEMPLATE_ASSET],include_content:!0,include_category_slug:!0,include_tags:!0}));return r.useEffect(()=>{u!==g?(l(!0),d(!0),_(!0)):(l("loading"===T),d("loading"===P),_("loading"===M))},[u,g,P,M,T,l,d,_]),o||s||c||e("template_picker_search_query_result",{query:u,searchSessionId:t,productType:"cooper",orgId:A,teamId:D,templateFileResults:v.length,internalAssetResults:R?.length??0,communityAssetResults:B?.length??0,entrypoint:h}),{searchQuery:n,trimmedSearchQuery:u,setSearchQuery:a,templateResults:v,internalAssetResults:"loaded"===P?R:[],communityAssetResults:"loaded"===M?B:[],requestLoadMore:y}}function en(e){let t=(0,y.Df)(),n=(0,m.b9)(C.GB),a=(0,V.v)("cooper_template_picker_dismissed"),o=(0,i.v9)(e=>e.search.sessionId),d=(0,i.I0)();return r.useCallback(()=>{a({source:e}),o&&d(v.TM()),t?n(!1):s.y2.user("Create blank template",()=>{let e=l.Nui.CUSTOM,t=l.gTi?.getCooperTemplateTypeSize(e);if(!t)return void console.error("No size found for Cooper template type",e);let a=l.Q8C?.createBlankChildAtCoord(0,0,t,"start_from_scratch",!0,e);a&&(D.Gr.triggerAction("enter-focus-view"),l.iTB?.panToNode(a,!1)),n(!1)})},[n,a,e,o,d,t])}function ea(){let e=(0,m.b9)(C.GB),t=(0,m.b9)(C.$b),n=(0,M.uC)();return(0,r.useCallback)(()=>{n&&(t(!0),e(!1),l.O$1?.cooperFocusView().exitFocusedNodeView(),l.O$1?.cooperFocusView().zoomToGrid(0))},[e,n,t])}function er({library:e}){let t=(0,m.b9)(C.GB),n=(0,M.uC)(),a=(0,i.I0)(),o=function(e){let[t]=(0,x.aM)((0,A.f)(e),{enabled:!0});return(0,r.useMemo)(()=>{if("loading"===t.status)return{status:"loading",data:[]};let e=t.data?.components||[],n=t.data?.state_groups||[],{groupingMap:a,containingFrameMap:r}=K(e);return{status:"loaded",data:[...n.map(e=>({name:e.name,node_id:e.node_id,components:a.get(e.node_id)||[],thumbnail_url:a.get(e.node_id)?.[0]?.thumbnail_url,sort_position:a.get(e.node_id)?.[0]?.sort_position??null})),...W(r,a)]}},[t.data,t.status])}(e.library_key),s=o.data;return(0,r.useCallback)(()=>{if(!n||"loaded"!==o.status)return;let r=s.flatMap(e=>e.components);if(0===r.length)return;let i={row:0,col:0};(l.O$1?.canvasGrid().canvasGridArray.getCopy()??[]).length>0&&(i={row:(l.O$1?.canvasGrid().getLastChildCoord()??i).row+1,col:0}),r.forEach((t,n)=>{let r=ei({getGridCoord:()=>({row:i.row,col:i.col+n}),libraryKey:e.library_key,detatchInstances:!1,selectAfterInsert:0===n});a((0,E.W$)({item:t,canvasPosition:new d.O,percentageOffset:new d.O,insertAsChildOfCanvas:!0,insertionCallback:r,isClick:!1,selectAfterInsert:!1,sourceForTracking:"cooper-add-all-templates"}))}),t(!1)},[t,n,a,s,o.status,e.library_key])}function ei({getGridCoord:e,detatchInstances:t=!1,selectAfterInsert:n=!0}){return(a,r,i)=>{if(0===a.length)return;if(t){let e=s.y2.user("cooper-detach-instances",()=>l.iTB?.detachInstances(a,!1,l.NFF.NEVER));if(!e||0===e.length)return;a=e}let d=a.map(e=>(0,_.getActiveTSSceneGraph)().get(e)).filter(o.lm),c=a[0],m=l.Q8C?.getNodeToReplace();if(m)l.O$1?.canvasGrid().replaceChildInGrid(c,m);else{let{row:t,col:n}=e(!i&&r?r:{x:-1/0,y:-1/0}),a=l.O$1?.canvasGrid();a?.insertChildAtCoord(c,t,n,"cooper-add-template-panel")}if(n){let e=(0,_.getActiveTSSceneGraph)().get(c);e&&l.dCf?.replaceSelection([e.guid],!0),1===d.length&&d[0]?(d[0].isInstance&&(0,h.Qo)({id:k.Vn}),l.O$1?.cooperFocusView().isFocusedNodeViewEnabled()?l.O$1?.cooperFocusView().focusSelectedNodeInFocusedNodeView(!0):setTimeout(()=>{l.O$1?.cooperFocusView().panToSelectedNodeIfOutsideViewport(.6)},0)):console.warn("Expected exactly one node to be inserted, but found",d.length)}(0,G.VB)(),R.Q7(c,!0)}}function eo(e){let[t,n]=(0,m.KO)(C.aO),a=t[e]??0,i=(0,r.useRef)(null);return{scrollPosition:a,scrollRef:i,onScroll:(0,r.useCallback)((t,a)=>{n(e,t)},[n,e]),resetScrollTop:(0,r.useCallback)(e=>{for(let t in C.$i){let a=C.$i[t];e.includes(a)||n(a,0)}},[n])}}function el(e){let t=F.BhO.Query({libraryKey:e}),[n]=(0,x.aM)(t,{enabled:!0});return(0,r.useMemo)(()=>{if("loading"===n.status)return{status:"loading",data:{templates:[]}};let t=(0,u.unwrap)(n.data?.libraryKeyToFile?.file);if(!t||!e)return{status:"loaded",data:{templates:[]}};let a=t.libraryHierarchyPaths.flatMap(e=>e.components),r=t.libraryHierarchyPaths.flatMap(e=>e.stateGroups),i=[...a.map(t=>(0,U.DV)(t,{type:"team",file:{key:"",teamId:null,name:"",libraryKey:e}}))].sort(N.Ph),o=[...r.map(t=>{let n=(0,U.q4)(t,{type:"team",file:{key:"",teamId:null,name:"",libraryKey:e}}),a=[],r=[];return t.states&&"data"in t.states&&Array.isArray(t.states.data)?r=t.states.data:Array.isArray(t.states)&&(r=t.states),Array.isArray(r)&&r.forEach(t=>{a.push((0,U.DV)(t,{type:"team",file:{key:"",teamId:null,name:"",libraryKey:e}}))}),a.sort(N.Ph),n.states=a,n})],{groupingMap:l,containingFrameMap:s}=K(i);return{status:"loaded",data:{templates:[...o.map(e=>{let t=Array.isArray(e.states)?e.states?.map(e=>({...e,type:Z.h.COMPONENT})):[];return{name:e.name,node_id:e.node_id,components:t,thumbnail_url:t[0]?.thumbnail_url,sort_position:t[0]?.containing_frame?.sortPosition??null}}),...W(s,l)],template_name:t.template?.name,publisher_name:t.template?.publishedByUserNullable?.name,description:t.template?.description}}},[n.data,n.status,e])}function es(){let e=(0,r.useMemo)(()=>e=>{let t=e.mirror.selectionProperties.cooperTemplateData;if((0,P.nK)(t))return P.t1;if(!t)return l.Nui.CUSTOM;let n=t.type||"CUSTOM";return l.Nui[n]},[]);return(0,i.v9)(e)}function ed(){let e=es(),t=eg();return r.useMemo(()=>{if((0,P.nK)(e)||!t)return null;for(let t of l.gTi?.getAllExceptCustomTemplateGroups()||[]){let n=t.types.find(t=>t.type===e);if(n)return n.name}return null},[e,t])}function ec(e){return r.useMemo(()=>{if(!e)return null;for(let t of l.gTi?.getAllExceptCustomTemplateGroups()||[]){let n=t.types.find(t=>t.type===e);if(n)return n.name}return null},[e])}function e_(){let{getDynamicConfig:e}=(0,g.rC)("cooper_asset_type_to_category_and_tag_map");return e().get("asset_type_map",{})}function em(e,t){let n={category_slug:void 0,tags_text:void 0,tags_slug:void 0};if(!e||(0,P.nK)(e))return n;try{return t[l.Nui[e]]||n}catch(e){return console.error("Error getting asset type fields:",e),n}}function eu(e){let t=e_();return r.useMemo(()=>em(e,t),[e,t])}function ep(){let e=es(),t=eg(),n=e_();return r.useMemo(()=>em(t?e:null,n),[e,n,t])}function ef(){let e=(0,T.TO)();return r.useCallback(()=>{s.y2.user("Duplicate as blank buzz asset",()=>{let t=null,n=l.O$1?.getInsertGridCoord({x:-1/0,y:-1/0});if(!n)return void console.error("No insert grid coordinate found for duplicating buzz asset",n);t=(0,c.JY)((0,c.mL)(e))?l.Q8C?.duplicateAsBlankBuzzAsset(e,n.row,n.col,"duplicate_as_blank_buzz_asset"):l.Q8C?.createBlankChildAtCoord(n.row,n.col,new d.O(1080,1080),"duplicate_as_blank_buzz_asset",!0,l.Nui.INSTA_POST_SQUARE)??null,l.O$1?.cooperFocusView().isFocusedNodeViewEnabled()&&t&&l.O$1?.cooperFocusView().focusNodeInFocusedNodeView(t,!0)})},[e])}function ex(e){let[t,n]=r.useState(!1);return r.useEffect(()=>{let t=()=>{e.current&&n(e.current.scrollWidth>e.current.clientWidth||e.current.scrollHeight>e.current.clientHeight)},a=requestAnimationFrame(t),r=new ResizeObserver(t);return e.current&&r.observe(e.current),()=>{cancelAnimationFrame(a),r.disconnect()}},[e]),t}function eg(){return 1===(0,i.v9)(e=>e.mirror.selectionProperties.numSelected||0)}let eh=()=>({[l.Nui.BANNER_STANDARD]:(0,b.t)("cooper.templates.banner_standard_pretty"),[l.Nui.BANNER_ULTRAWIDE]:(0,b.t)("cooper.templates.banner_ultrawide_pretty"),[l.Nui.BANNER_WIDE]:(0,b.t)("cooper.templates.banner_wide_pretty"),[l.Nui.CARD_HORIZONTAL]:(0,b.t)("cooper.templates.card_horizontal_pretty"),[l.Nui.CARD_VERTICAL]:(0,b.t)("cooper.templates.card_vertical_pretty"),[l.Nui.FACEBOOK_AD_PORTRAIT]:(0,b.t)("cooper.templates.facebook_ad_portrait_pretty"),[l.Nui.FACEBOOK_AD_SQUARE]:(0,b.t)("cooper.templates.facebook_ad_square_pretty"),[l.Nui.INSTA_POST_PORTRAIT]:(0,b.t)("cooper.templates.instagram_post_portrait_pretty"),[l.Nui.INSTA_POST_SQUARE]:(0,b.t)("cooper.templates.instagram_post_square_pretty"),[l.Nui.LINKEDIN_AD_LANDSCAPE]:(0,b.t)("cooper.templates.linked_in_ad_landscape_pretty"),[l.Nui.LINKEDIN_AD_SQUARE]:(0,b.t)("cooper.templates.linked_in_ad_square_pretty"),[l.Nui.LINKEDIN_AD_VERTICAL]:(0,b.t)("cooper.templates.linked_in_ad_vertical_pretty"),[l.Nui.LINKEDIN_POST_LANDSCAPE]:(0,b.t)("cooper.templates.linked_in_post_landscape_pretty"),[l.Nui.LINKEDIN_POST_PORTRAIT]:(0,b.t)("cooper.templates.linked_in_post_portrait_pretty"),[l.Nui.LINKEDIN_POST_SQUARE]:(0,b.t)("cooper.templates.linked_in_post_square_pretty"),[l.Nui.NAME_TAG_LANDSCAPE]:(0,b.t)("cooper.templates.name_tag_landscape_pretty"),[l.Nui.NAME_TAG_PORTRAIT]:(0,b.t)("cooper.templates.name_tag_portrait_pretty"),[l.Nui.PRINT_US_LETTER]:(0,b.t)("cooper.templates.print_us_letter_pretty")});function eb(e,{usePrettyName:t}){let n=(0,r.useMemo)(eh,[]),a=(0,r.useMemo)(()=>(l.gTi?.getAllExceptCustomTemplateGroups()||[]).flatMap(e=>e.types),[]),i=e_(),o=(0,r.useCallback)(e=>e?t?n[e.type]??e.name:e.name:null,[n,t]);return(0,r.useMemo)(()=>{let t=new Map;for(let n of e){if(!n||!n.component)continue;let{component:e,categorySlug:r,tags:s}=n,d=e.id;if(!d)continue;let c=null,_={width:e.min_node_width,height:e.min_node_height};if(_.width&&_.height){let e=a.filter(e=>e.dimension.x===_.width&&e.dimension.y===_.height);if(1===e.length)c=o(e[0])??null;else if(e.length>1){let t=null;if(r)for(let n of e){let e=l.Nui[n.type];if(!e)continue;let a=i[e];if(a&&a.category_slug===r){let e=!s||0===Object.keys(s).length;if(!e&&s){let t=Object.keys(s)[0];if(t){let n=s[t];n&&a.tags_slug?.includes(n)&&(e=!0)}}if(e){t=o(n);break}}}c=t??o(e[0])??null}}t.set(d,c)}return t},[e,a,i,o])}},27048:function(e,t,n){if(n.d(t,{$:()=>_,Ph:()=>p,RZ:()=>d,c4:()=>u,r8:()=>m}),9793==n.j)var a=n(612661);var r=n(641857),i=n(539767),o=n(389121),l=n(852258);if(9793==n.j)var s=n(492160);let d=3,c=[r.Nui.FACEBOOK_AD_PORTRAIT,r.Nui.INSTA_POST_PORTRAIT,r.Nui.LINKEDIN_POST_PORTRAIT,r.Nui.LINKEDIN_POST_LANDSCAPE,r.Nui.LINKEDIN_AD_SQUARE,r.Nui.LINKEDIN_AD_VERTICAL,r.Nui.GOOGLE_MOBILE_BANNER_AD,r.Nui.GOOGLE_SKYSCRAPER_AD,r.Nui.PRINT_US_LETTER,r.Nui.POSTER,r.Nui.BANNER_STANDARD,r.Nui.BANNER_WIDE,r.Nui.BANNER_ULTRAWIDE,r.Nui.NAME_TAG_PORTRAIT,r.Nui.NAME_TAG_LANDSCAPE,r.Nui.INSTA_REEL_COVER,r.Nui.ZOOM_BACKGROUND,r.Nui.TIKTOK_POST];function _({dimensions:e,assets:t}){if(!t||0===t.length)return t;let{width:n,height:a}=e,r=[[504,360],[360,504],[612,792],[648,864],[576,288],[576,192],[576,144],[144,216],[216,144]],i=[{w:2100,h:1500},{w:1500,h:2100},{w:2550,h:3300},{w:2700,h:3600},{w:2400,h:1200},{w:2400,h:800},{w:2400,h:600},{w:600,h:900},{w:900,h:600}];for(let e=0;e<r.length;e++){let o=r[e];if(o&&n===o[0]&&a===o[1]){let r=i[e];return t.filter(e=>{if(!(0,l.SE)(e))return!1;let t=m(e);return!!t&&(t.width===n&&t.height===a||t.width===r?.w&&t.height===r?.h)})}}return t.filter(e=>{if(!(0,l.SE)(e))return!1;let t=m(e);return!!t&&t.width===n&&t.height===a})}function m(e){if(!(0,l.SE)(e))return;let t=e.content.component_v2?.min_node_width,n=e.content.component_v2?.min_node_height;return t&&n?{width:t,height:n}:void 0}function u({templateType:e,closeTemplatePicker:t,shouldInsertFrame:n,shouldEnterGridView:a,setDimensionsSubmenuOpen:o,setActiveTab:l,setCooperTemplateShouldUseAssetType:d}){i.y2.user("Create blank template",()=>{let i=r.gTi?.getCooperTemplateTypeSize(e),_=r.O$1?.getInsertGridCoord({x:-1/0,y:-1/0});if(!i||!_)return void console.error("Failed fetch size and/or location for new template",i,_);let m=r.Q8C?.createBlankChildAtCoord(_.row,_.col,i,"start_from_scratch",!n,e);m&&(a?(r.O$1?.cooperFocusView().exitFocusedNodeView(),r.iTB?.panToNode(m,!1),r.dCf?.replaceSelection([m],!1)):r.O$1?.cooperFocusView().isFocusedNodeViewEnabled()?r.O$1?.cooperFocusView().focusNodeInFocusedNodeView(m,!0):(setTimeout(()=>{r.O$1?.cooperFocusView().panToNodeIfOutsideViewport(m,.6)},0),r.dCf?.replaceSelection([m],!1))),e===r.Nui.CUSTOM&&o(!0),e!==r.Nui.CUSTOM&&l&&d&&(l(s.c.TEMPLATES),c.includes(e)||d(!0)),t()})}function p(e,t){return(0,a.lm)(e.sort_position)&&(0,a.lm)(t.sort_position)?-(0,o.WQ)(e.sort_position,t.sort_position):e.name.localeCompare(t.name)}},572953:function(e,t,n){n.d(t,{v:()=>i});var a=n(853505),r=n(44477);function i(e){let t=(0,r.Pe)();return(0,a.useCallback)(n=>{t(e,{...n})},[e,t])}},344486:function(e,t,n){n.d(t,{Us:()=>s,VN:()=>l,wZ:()=>d});var a=n(492342),r=n(363090),i=n(416792);if(9793==n.j)var o=n(479852);function l(){let e=(0,r.nh)("pagesList");return e.some(t=>t.pageType!==e[0].pageType)}function s(){let e=(0,i.CA)();return e?.editorType===o.gg.DESIGN}function d(){let e=s(),t=l();return e&&(t||(0,a.BZ)().interop_pages)}},819299:function(e,t,n){n.d(t,{s:()=>w});var a=n(853505),r=n(577851);if(9793==n.j)var i=n(408014);var o=n(363240),l=n(444947),s=n(869366),d=n(590914),c=n(1093);if(9793==n.j)var _=n(768123);var m=n(70523),u=n(658790),p=n(397366),f=n(416792),x=n(118960),g=n(756809);if(9793==n.j)var h=n(339189);var b=n(293349);if(9793==n.j)var v=n(31441);var y=n(619369),j=n(834161);function w(){let e,t=(0,r.I0)(),{nudgeUpgradeRequest:n}=(0,b.dj)(),w=(0,m.Of)(),T=(0,o.Dv)(p.C),[k,C]=(0,a.useState)(!1),N=(0,x.ZG)("useUpgradeRequestModalOnPageLoad"),I=(0,f.CA)(),E=(0,u.BA)("entry_point")||"",S=(0,u.BA)("upgrade_request_type")||"",O=null!==I&&("in_editor"===S||E===v.t.INVITE_REDEEM),A=O||(0,y.S2)(S);A&&(e=O?(0,j.YA)(I.editorType):y.X6[S]);let D=(0,i.i)(_.bH,E)??_.bH.UNKNOWN_DEEP_LINK,R=(0,i.i)(v.t,E)??v.t.UNKNOWN_DEEP_LINK,{handleUpgrade:P,getPendingRequest:B,getUpgradeEligibility:M,getIsUpgradeHandlerLoading:L}=(0,g.eW)({entryPoint:D,plan:N?.data?.key?.parentId&&N?.data?.key?.type?{id:N.data.key.parentId,type:N.data.key.type}:void 0}),F=L()||"loading"===N.status,U=A&&!F;(0,a.useEffect)(()=>{k||"NuxOnboardingOverlay"!==T||C(!0)},[T,k,C]),(0,s.L)(()=>{if(!U||!e){S&&l.RQ.trackDefinedEvent("monetization_expansion.deeplink_request_flow_invalid",{upgradeType:A?S:"invalid",entryPoint:D,licenseType:e||"undefined",planType:N?.data?.key?.type,planParentType:N?.data?.key?.type,planId:N?.data?.key?.parentId||void 0,planParentId:N?.data?.key?.parentId||void 0,fileKey:I?.key});return}if(k)return;let a=M(e);if(l.RQ.trackDefinedEvent("monetization_expansion.deeplink_request_flow",{upgradeType:S,entryPoint:D,licenseType:e,upgradeEligibility:a,planType:N?.data?.key?.type,planParentType:N?.data?.key?.type,planId:N?.data?.key?.parentId||void 0,planParentId:N?.data?.key?.parentId||void 0,fileKey:I?.key}),a!==h.V.CAN_UPGRADE){let a=B(e);if(a&&D!==_.bH.INVITE_REDEEM){let{requestCanBeNudged:e,upgradeRequestId:r}=(0,b.B5)(a);e?n(r):t(c.R.enqueue({message:(0,d.t)("team_user.actions.request_sent_well_let_you_know")}))}return}(D!==_.bH.INVITE_REDEEM||w())&&P({licenseType:e,editorType:O?I?.editorType??null:null,entryPoint:D,upgradeReason:R})({}),(0,u.Zo)("entry_point"),(0,u.Zo)("upgrade_request_type")},[F,T],([e,t])=>!e&&!t)}},319352:function(e,t,n){n.d(t,{k:()=>d});var a=n(363240),r=n(551916),i=n(10553),o=n(599584),l=n(240213);let s=(0,a.xu)(({orgId:e,eventType:t})=>(0,o.xM)(i.Fci.Query({orgId:e,eventType:t}),e=>!!e.currentUser.baseOrgUser?.orgUserFlag?.id)),d=(0,a.xu)(e=>(0,a.cn)(t=>{let n=t(l.dd);return n?t(s({orgId:n,eventType:e})):r.IE.disabled()}))},396231:function(e,t,n){n.d(t,{Bw:()=>d,Nz:()=>o,UR:()=>s,Vs:()=>i});var a=n(492342),r=n(581370);let i=9793==n.j?{key:"createEduTeam",value:"1"}:null,o=9793==n.j?{key:"upgradeEduTeam",value:"1"}:null,l="2025-09-29T00:00:00";function s(){let e=new Date((0,r.rC)("edu_offboarding_in_app_target_date").getDynamicConfig().get("target_edu_period_end",l));return isNaN(e.getTime())&&(e=new Date(l)),e}function d(e,t){return!!(0,a.BZ)().edu_in_app_offboarding_reverification_copy&&!!e&&!!t&&e>new Date(t.getTime()-864e5)}},927177:function(e,t,n){n.d(t,{X:()=>l});var a=n(492342),r=n(704516),i=n(45190),o=n(10553);function l(e){let t=(0,i.DG)(o.$_z,{},{enabled:(0,a.BZ)().dtm_deprecation_post_migration_onboarding});if(!e||!(0,a.BZ)().dtm_deprecation_post_migration_onboarding)return{isDraftsToMovePlan:!1,dtmMigrationCompleted:!1,starterTeamCreated:!1};let n=(0,r.unwrap)(t.data?.personalDraftToPlanDraftLocation),l=n?.planParentId===e.key.parentId,s=(0,r.unwrap)(n?.toDraftsFolder?.team?.trackTags)?.is_auto_created_for_dtm_migration??!1,d=n?.toDraftsFolder?.plan?.name,c=n?.planParentType,_=n?.planParentId;return{isDraftsToMovePlan:l,dtmMigrationCompleted:n?.status==="complete",starterTeamCreated:s,dtmMigrationPlanName:d,dtmPlanParentId:_,dtmPlanParentType:c}}},661202:function(e,t,n){n.d(t,{R:()=>p,o:()=>f});var a,r=n(750357),i=n(853505),o=n(492342),l=n(363240),s=n(53022),d=n.n(s),c=n(498869),_=n(274014),m=n(528279),u=n(648093),p=((a=p||{}).FILE_BROWSER="file_browser",a);function f({entryPoint:e}){return(0,r.jsx)(c.SV,{boundaryKey:"figment-debugger",fallback:(0,r.jsx)("div",{}),children:(0,r.jsx)(x,{entryPoint:e})})}function x({entryPoint:e}){let[t,n]=(0,l.KO)(m.AR);return(0,i.useEffect)(()=>{n(!!(0,u.jy)())},[]),t&&(0,o.BZ)().figment_debugger?(0,r.jsx)("div",{className:d()("file_browser"===e?"figment_debugger--fileBrowserContainer--WdJz6 figment_debugger--container--GIdQy":"figment_debugger--container--GIdQy",_.uZ,_.Hy),children:(0,r.jsx)(g,{})}):null}function g(){let[e,t]=(0,l.KO)(m.aX),[n,a]=(0,i.useState)([]),o=(0,i.useRef)(null),s=o.current&&o.current.value.length>0,d=s?n:e;return(0,r.jsxs)("div",{className:"figment_debugger--mainWrapper--7LAo-",tabIndex:0,"data-fullscreen-intercept":!0,children:[(0,r.jsx)(h,{children:(0,r.jsx)("input",{ref:o,placeholder:"\uD83D\uDD0E Event name",className:"figment_debugger--searchBar--Irw-H",onInput:t=>{let n=t.target.value.toLowerCase();n.length<3&&a([]),a(e.filter(e=>e.requestJson.event.toLowerCase().includes(n)))}})}),(0,r.jsx)(h,{children:(0,r.jsx)("button",{onClick:()=>{t("clear")},children:"[clear]"})}),s&&(0,r.jsx)(h,{children:"Showing "+d.length+" of "+e.length+" most recent events"}),d.map(e=>(0,r.jsx)(b,{req:e},e.requestJson.figment_debugger_uuid))]})}function h(e){return(0,r.jsx)("div",{className:"figment_debugger--sectionWrapper--1V4tY","data-fullscreen-intercept":!0,children:e.children})}function b({req:e}){let[t,n]=(0,i.useState)(!1),[a,o]=(0,i.useState)(!1),l=e.requestJson,s=(0,i.useMemo)(()=>t&&null!=l.properties?Object.entries(l.properties).map(([e,t])=>(0,r.jsxs)("div",{children:[e,": ",JSON.stringify(t)]},e)):[],[l,t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"figment_debugger--logrow--Q6jQ0",tabIndex:0,role:"button",onClick:()=>{n(!t),o(!1)},"data-fullscreen-intercept":!0,children:[(0,r.jsx)("span",{children:t?"\uFF0D":"\uFF0B"}),"\xa0",(0,r.jsx)("span",{children:e.networkState===m.mo.SUCCESS?"\uD83D\uDC9A":e.networkState===m.mo.FAILURE?"\uD83D\uDC94":"\uD83E\uDDE1"}),"\xa0",(0,r.jsx)("span",{className:"figment_debugger--timestamp--BKm27",children:l.sentAt.slice(11,16)}),"\xa0",l.event]}),t&&(0,r.jsxs)("div",{className:"figment_debugger--propertiesWrapper--cesqI",children:[(0,r.jsx)("div",{className:"figment_debugger--propertiesButtonsRow--rcVKU",children:(0,r.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e.requestJson.properties)),o(!0)},children:["[",a?"copied":"copy","]"]})}),s]})]})}},278007:function(e,t,n){n.d(t,{m:()=>nO,o:()=>nS});var a=n(577851),r=n(492342),i=n(574059),o=n(356403),l=n(416792),s=n(764162),d=n(860195),c=n(750357),_=n(853505),m=n(640144),u=n(850340),p=n(5929),f=n(451410),x=n(660697),g=n(103319),h=n(641857),b=n(257822),v=n(389981),y=n(363240);n(607906);var j=n(704516),w=n(444947),T=n(238573),k=n(996679),C=n(661897),N=n(93335),I=n(330837),E=n(458780),S=n(401153),O=n(342534),A=n(475565),D=n(739842),R=n(683045),P=n(661193),B=n(367949),M=n(590914),L=n(491420),F=n(696817),U=n(193447),z=n(97529),Z=n(903132),G=n(158639),$=n(1093),V=n(315828),K=n(302366),H=n(578956),W=n(469271),q=n(926941),Y=n(889835),J=n(328403),Q=n(242802),X=n(479852),ee=n(761050),et=n(248893),en=n(644207),ea=n(449179);function er(){let e=(0,a.I0)(),t=(0,Q.xJ)(),n=(0,s.Ng)(),i=!!n?.id,o=(0,Z.wV)(H.W),l=(0,r.BZ)().terms_of_service_may_2025_update,d=(0,V.i)(n),_=!!d?.data?.isEligible,m=(0,Y.R)({planParentId:n?.id||"",planType:X.k9.ORG},{enabled:i&&_}),u=!!m.data,p=(0,Y.yW)({billableProductKeys:J.Hs,baseQuery:{tier:(0,ee.ko)(n)?et.K0.ENTERPRISE:et.K0.ORG,currency:m.data,renewalTerm:et.Xp.YEAR,unit:et.Xp.MONTH},options:{enabled:u}});if(!n?.id||"loaded"!==d.status||!d.data.isEligible)return null;let f=d.data.orgTermsInfo.renewalDate,g=(0,k.Z)(),h=30>=(0,k.Z)(f).diff(g,"day");if(!f||!p.data)return null;let b=(0,c.jsxs)("span",{children:[l&&(0,M.tx)("seat_billing_terms.banner.urgent.main_text_v2"),!l&&(h?(0,M.tx)("seat_billing_terms.banner.urgent.main_text"):(0,M.tx)("seat_billing_terms.banner.info.main_text",{renewalDate:f.toDate()}))]}),v=(0,c.jsxs)("span",{children:[l&&(0,M.tx)("seat_billing_terms.banner.urgent.description_v2",{renewalDate:f.toDate()}),!l&&(h?(0,M.tx)("seat_billing_terms.banner.urgent.description"):(0,M.tx)("seat_billing_terms.banner.info.description"))]});return(0,c.jsx)(q.Ui,{name:"Seat Billing Terms Reminder Banner",properties:{userId:t?.id,orgId:n?.id,variant:h?l?"error":"warning":"info"},children:(0,c.jsx)("div",{className:P.B.sticky.top0.$,style:L.sx.add({zIndex:2}).$,children:(0,c.jsx)(en.i,{content:{id:ea.EN.SeatBillingTermsReminder,bannerType:h?ea.$.DANGER:ea.$.INFO_SOFT,mainText:b,description:v,dismissible:!1,positionStatic:!0,icon:h?(0,c.jsx)(x.R,{}):(0,c.jsx)(z.x,{}),iconSize:"medium",button:{buttonText:(0,M.tx)("seat_billing_terms.banner.review_and_accept"),onClick:()=>{e(W.K4({type:(0,K.L)(),data:{orgId:n.id,organizationName:n.name,renewalDate:f,isEnterprise:(0,ee.ko)(n),onAccept:()=>o({planParentId:n.id,planType:X.k9.ORG}).then(()=>{e($.R.enqueue({message:(0,M.t)("seat_billing_terms.modal.success")}))}),prices:p.data}}))}}},onDismiss:U.ZT,dataTestId:"seat-billing-terms-banner"})})})}var ei=n(115908),eo=n(875533),el=n(894546),es=n(446133),ed=n(414526),ec=n(164109),e_=n(609373),em=n(319352),eu=n(73838),ep=n(118960),ef=n(717783),ex=n(945647);let eg="non_admin_billing_terms_banner_seen",eh=(0,em.k)(eg),eb=eu.t1.Query({fetch:async e=>(await ex.Y.getNonAdminBillingTermsBanner(e)).data.meta}),ev=eu.t1.Mutation(async e=>{await ef.Q.postOrgUserFlags({orgUserId:e.orgUserId,flags:{[eg]:!0}})});function ey(){let e=(0,Q.xJ)(),t=(0,s.Ng)(),n=(0,y.Dv)((0,V.Y)(t?.id??null)),a=(0,y.Dv)(eh),i=(0,r.BZ)().terms_of_service_may_2025_update,o=!!t?.created_at&&(0,e_.Z)({date:new Date(t?.created_at)}),l=(0,ep.Rt)("NonAdminBillingTermsBanner"),d=(0,ep.tF)(l?.data??null),[m]=(0,eu.aM)(eb({orgId:t?.id}),{enabled:!!t?.id&&i&&o&&!d}),u=(0,eu.wV)(ev),p=n.unwrapOr(!1),f=l?.data?.key.parentId,{is_eligible:x,renewal_date:g,admin_settings_url:h,admin_emails:b}=m.unwrapOr({is_eligible:!1,renewal_date:"",admin_settings_url:"",admin_emails:[]}),v=(0,k.Z)(),j=(0,k.Z)(g),T=v.isBefore(j)&&7>=j.diff(v,"day"),C=_.useMemo(()=>(function({adminEmails:e,renewalDate:t,userName:n,adminSettingsLink:a}){if(!e||!t||!a||!t.isValid())return"";let r=encodeURIComponent((0,M.t)("non_admin_billing_terms.email_subject")),i=encodeURIComponent((0,M.t)("non_admin_billing_terms.email_body",{renewalDate:t.toDate(),admin_link:a,userName:n||""})),o=e.join(", ");return`mailto:${o}?subject=${r}&body=${i}`})({adminEmails:b,renewalDate:j,userName:e?.name,adminSettingsLink:h}),[b,j,e,h]);return j.isValid()&&t?.id&&i&&p&&!a.data&&f&&x&&T&&o?(0,c.jsx)(q.Ui,{name:"Non Admin Billing Terms Reminder Banner",properties:{userId:e?.id,orgId:t?.id,emails:b?.join(", ")},children:(0,c.jsxs)(ei.oV,{variant:"warn",onDismiss:()=>{(0,w.L9)("CTA Clicked",{name:"Non Admin Billing Terms Reminder Banner dismissed",currentOrgId:t.id,userId:e?.id,emails:b?.join(",")}),u({orgUserId:f})},children:[(0,c.jsx)(eo.v,{children:(0,M.tx)("non_admin_billing_terms.banner_description",{name:t.name,renewalDate:j.toDate()})}),C&&(0,c.jsx)(B.Ip,{href:C,variant:"secondary",children:(0,M.tx)("non_admin_billing_terms.contact_admin_button")})]})}):null}var ej=n(527986),ew=n(555792),eT=n(404639),ek=n(877795),eC=n(752212),eN=n(806520),eI=n(260736),eE=n(745371);function eS({team:e,openInvoiceUrls:t}){let n=(0,a.I0)();if(0===t.length)return null;let r={"data-tooltip-type":eI.fR.TEXT,"data-tooltip":(0,M.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};return(0,c.jsx)(ew.XT,{onClick:()=>{t.length>1?n(eT.fv({view:"teamAdminConsole",teamId:e.id,teamAdminConsoleViewTab:eN.mb.BILLING})):(0,T.Ne)(t[0],"_blank","noopener")},variant:"secondary",htmlAttributes:r,children:(0,M.t)("team_view.locked_proteam_admin_invoice_reminder_banner.cta",{invoiceCount:t.length})})}function eO(e){let t=e.team?.restrictions_list?.includes(X.ZG.LOCKED),n=(0,ek.bX)({planId:e.team.id,planType:X.k9.TEAM}),a=t?(0,M.tx)("team_view.locked_proteam_admin_invoice_reminder_banner.title"):(0,M.tx)("team_view.pastdue_proteam_admin_invoice_reminder_banner.title"),r=t?(0,M.tx)("team_view.locked_proteam_admin_invoice_reminder_banner.subtitle"):(0,M.tx)("team_view.pastdue_proteam_admin_invoice_reminder_banner.subtitle"),i=(0,ej.We)(n.data?.map(e=>e.hosted_invoice_url)??[]);return(0,c.jsx)(q.Ui,{name:"team_admin_open_invoice_reminder_banner",children:(0,c.jsx)(en.i,{content:{id:0,bannerType:ea.$.WARN_SOFT,mainText:a,description:r,dismissible:!1,positionStatic:!0,icon:(0,c.jsx)(x.R,{}),iconSize:"medium",button:{type:ea.ri.CUSTOM,element:(0,c.jsx)(eS,{team:e.team,openInvoiceUrls:i})}},onDismiss:U.ZT})})}var eA=n(627482),eD=n(181042),eR=n(769958),eP=n(623230),eB=n(812783),eM=n(404756),eL=n(121142),eF=n(197651),eU=n(407720),ez=n(274014),eZ=n(871567),eG=n(943810),e$=n(344486),eV=n(151119),eK=n(380904),eH=n(471036),eW=n(363090),eq=n(956964),eY=n(237335),eJ=n(926571),eQ=n(672650),eX=n(218048),e0=n(864638),e1=n(620516),e9=n(182139),e3=n(567910),e5=n(680793),e2=n(733791),e4=n(764333),e7=n(700805),e6=n(979002),e8=n(655724),te=n(732604),tt=n(703690);function tn(e){let t=(0,e4.h4)(),n=!!(0,e7.sc)(),r=(0,Q.dO)(),i=function(){let e=(0,e4.h4)(),t=(0,a.I0)(),n=(0,Q.xJ)(),r=(0,l.CA)();return e&&r&&n?async()=>{let e=await te.h.copyFile(r.key);if(e.data.meta){let t=e.data.meta;if(C.YO)return void C.YO.openFile({fileKey:t.key,title:t.name,fileEditorType:"dev_handoff",target:C.ih.FOCAL_TAB,isBranch:!1,isLibrary:!1,isTeamTemplate:!1,userId:n?.id});E.ZP.redirect((0,e6.z4)({file:t,isDevHandoff:!0}),"_blank")}else t(e2.l.error((0,M.t)("file_browser.file_browser_actions.file_copy_error")))}:null}(),[o,s]=(0,_.useState)(!1),[d,m]=(0,e8.gr)(r||"")||[],u=async()=>{i&&(s(!0),await i(),s(!1))};if(!t||n)return null;let p=(0,c.jsx)(ew.uu,{disabled:!i||o,onClick:u,variant:"primary",trackingProperties:{planId:m,planType:d},children:(0,M.t)("dev_handoff.demo_file.request_access")});return(0,c.jsx)(tt.x,{...e,bannerContent:{dismissible:!1,bannerType:ea.$.INFO_SOFT,icon:(0,c.jsx)(e5.i,{className:"x1aue78i"}),iconSize:"medium",mainText:(0,c.jsx)("span",{...{className:"xemv814"},children:(0,M.t)("dev_handoff.demo_file.get_dev_mode_to_simplify")}),button:{type:ea.ri.CUSTOM,element:p}}})}var ta=n(199076),tr=n(303501),ti=n(19894),to=n(472689),tl=n(758226),ts=n(761926),td=n(798649),tc=n(454715),t_=n(154446),tm=n(860721),tu=n(778016),tp=n(405900),tf=n(792106),tx=n(467827),tg=n(270685),th=n(624529),tb=n(924335),tv=n(616754),ty=n(406561),tj=n(944625),tw=n(407974),tT=n(872799),tk=n(876807),tC=n(934003),tN=n(68732);function tI(){let{openMakePublishFlow:e}=(0,tw.s)(),t=(0,y.Dv)(tC.Mh)||!1;return(0,c.jsx)(ew.CN,{...{0:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1tk3asg xmkeg23 x1y0btm7 xau91oi x1ypdohk"},1:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1ypdohk x1wei53h xgbcquw xmkeg23 x1y0btm7 x1sc164m"}}[0|!!t],onClick:()=>e("editor-pre-publish-banner"),trackingProperties:{trackingDescriptor:eZ.y.PUBLISH_TEMPLATE,buttonContext:(0,M.t)("slides.templates.banner.publish_template_button"),productType:X.gg.FIGMAKE},disabled:t,children:(0,M.tx)("slides.templates.banner.publish_template_button")})}function tE({showBanner:e}){let{openCooperPublishFlow:t}=(0,tj.f)(),n=(0,th.E)(e);return(0,c.jsx)(ew.CN,{...{0:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1a33sea"},1:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1wei53h xgbcquw xmkeg23 x1y0btm7 x1sc164m"}}[0|!!n],onClick:()=>t("editor-pre-publish-banner"),trackingProperties:{trackingDescriptor:eZ.y.PUBLISH_TEMPLATE,buttonContext:(0,M.t)("slides.templates.banner.publish_template_button"),productType:X.gg.COOPER},disabled:n,children:(0,M.tx)("slides.templates.banner.publish_template_button")})}function tS(){return(0,c.jsx)(ew.CN,{...{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk xmkeg23 x1y0btm7 xau91oi x1tk3asg x1ypdohk"},onClick:()=>(0,T.Ne)(tb.Y7,"_blank"),trackingProperties:{trackingDescriptor:eZ.y.SHOW_ME_HOW,buttonContext:(0,M.t)("cooper.templates.show_me_how"),productType:X.gg.COOPER},children:(0,M.tx)("cooper.templates.show_me_how")})}var tO=n(435290),tA=n(29122),tD=n(141204),tR=n(2065),tP=n(514177),tB=n(317429);function tM({manager:e,userCanEditFile:t,isUserConnected:n}){return(0,c.jsx)(tP.fC,{manager:e,width:"fit-content",children:(0,c.jsxs)(tB.AU,{children:[(0,c.jsx)(tB.h4,{children:(0,c.jsx)(tB.Dx,{children:t?(0,M.t)("multiplayer_upgrade_modal.content_saving"):(0,M.t)("multiplayer_upgrade_modal.content_reloading")})}),n||(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(tB.uT,{children:(0,M.t)("multiplayer_upgrade_modal.content_offline")})}),(0,c.jsx)(tB.$_,{children:(0,c.jsx)(tB.Dj,{children:(0,c.jsx)(tr.T,{size:"md"})})})]})})}var tL=n(545266),tF=n(509598),tU=n(892312),tz=n(863815),tZ=JSON.parse('{"safari":"16","firefox":"101","chrome":"99","edge":"121","deprecatedOn":"2024-03-18T08:00:00.000Z"}'),tG=n(242107),t$=n(907505),tV=n(123922);let tK={bannerId:ea.EN.TestWarningBanner,Banner:function(e){let t=(0,l.CA)();if(t?._name==="_BANNERTEST PAYMENT"){let t={bannerType:ea.$.WARN,icon:tV.Z,mainText:"Payment failed",description:"Our last attempted charge was unsuccessful. Please update your payment source as soon as possible. File editing will be locked after 3 more failed attempts.",button:{buttonText:"Update payment",onClick:()=>{}},dismissible:!0};return(0,c.jsx)(tt.x,{...e,bannerContent:t})}return null},dataTestId:"test-warning-banner"},tH={bannerId:ea.EN.TestOOMBanner,Banner:function(e){let t=(0,l.CA)();if(t?._name==="_BANNERTEST OOM"){let t={bannerType:ea.$.WARN,icon:tV.Z,mainText:"80% of memory used",customElem:(0,c.jsx)("div",{className:tG.rz,children:(0,c.jsx)(ta.SU,{memoryUsagePercent:80})}),description:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("b",{style:L.sx.fontSemiBold.$,children:"This file is almost out of browser memory."})," Remove content to lower memory use to 50% or less. This will ensure you can continue to work in this file safely."]}),button:{buttonText:"Show memory-reduction tips",onClick:()=>{}}};return(0,c.jsx)(tt.x,{...e,bannerContent:t})}return null},dataTestId:"test-oom-banner"},tW={bannerId:ea.EN.BrowserDeprecationBanner,Banner:function(e){let{deprecatedOn:t,...n}=tZ,a=(0,S.I)("day"),r=new Date(t);if(r>new Date(a.getTime()+24192e5)||!O.ZP.isUnsupportedBrowser(n))return null;let i=r>a?(0,M.t)("banner.browser_deprecation.description",{deprecationDate:r}):(0,M.t)("banner.browser_deprecation.description_now"),o={dismissible:!0,bannerType:ea.$.WARN,icon:tV.Z,mainText:(0,M.t)("banner.browser_deprecation.title"),description:i,button:{buttonText:(0,M.t)("banner.browser_deprecation.learn_more"),onClick:()=>E.ZP.redirect("https://help.figma.com/hc/articles/360039827194-Figma-browser-requirements","_blank")}};return(0,c.jsx)(tt.x,{...e,bannerContent:o})},dataTestId:"browser-deprecation-banner"},tq={bannerId:ea.EN.CooperOldFileBanner,Banner:function(e){let t=(0,eP.JJ)();if(!(0,_.useMemo)(()=>{if(!t||!(0,eP.N3)())return!1;let e=(0,v.getActiveTSSceneGraph)();if(!e||!e.isValidScene)return[];let n=(0,b.IA)(e,"0:1");if(n.find(e=>"cooper_root"===e.name))return!0;let a=n.find(e=>"SLIDE_GRID"===e.type);return!!(a&&a.childrenNodes.find(e=>e.maxWidth!==h.Q8C?.gridMaxWidth()))},[t]))return null;{let t={dismissible:!1,bannerType:ea.$.WARN,icon:tV.Z,mainText:(0,M.t)("banner.cooper.old_file.title"),description:(0,M.t)("banner.cooper.old_file.description")};return(0,c.jsx)(tt.x,{...e,bannerContent:t})}},dataTestId:"cooper-old-file-banner"},tY={bannerId:ea.EN.InteropPagesBanner,Banner:function(e){return(0,e$.wZ)()?(0,c.jsx)(tt.x,{...e,bannerContent:{dismissible:!0,bannerType:ea.$.WARN_SOFT,icon:tV.Z,mainText:"[Internal] Interop pages",description:(0,c.jsxs)("span",{children:["We\u2019ve sunset interop pages, so this file might be wonky. Ping ",(0,c.jsx)("a",{href:"https://figma.slack.com/archives/C065U6BKPBR",target:"_blank",rel:"noopener noreferrer",children:"#feat-interop-pages"})," for help."]})}}):null},dataTestId:"interop-pages-banner"},tJ={bannerId:ea.EN.DesktopDeprecationBanner,Banner:function(e){let t=(0,C.jH)();if(null==t||y.n_.get(N.Ny))return null;let n=(0,M.t)("banner.desktop_app_deprecation.description",{deprecationDate:t.toDate()}),a={dismissible:!0,bannerType:ea.$.WARN,icon:tV.Z,mainText:(0,M.t)("banner.desktop_app_deprecation.title"),description:n,button:{buttonText:(0,M.t)("banner.desktop_app_deprecation.learn_more"),onClick:()=>E.ZP.unsafeRedirect(C.D6,"_blank")},dismissedAtom:N.Ny};return(0,c.jsx)(tt.x,{...e,bannerContent:a})},dataTestId:"desktop-deprecation-banner"},tQ={bannerId:ea.EN.TestInfoBanner,Banner:function(e){let t=(0,l.CA)();if(t?._name==="_BANNERTEST EDU"){let t={bannerType:ea.$.INFO,icon:t$.Z,mainText:"File in Education Team",description:"This file is in an Education team. To keep editing this file after 00/00, verify that you're a student or educator.",button:{buttonText:"Verify status",onClick:()=>E.ZP.redirect("/education/apply",O.ZP.isIpadNative?void 0:"_blank")}};return(0,c.jsx)(tt.x,{...e,bannerContent:t})}return null},dataTestId:"test-info-banner"},tX={bannerId:ea.EN.ProTeamPastDue,Banner:function(e){let t=(0,a.I0)(),n=(0,eC.V7)(),r=(0,a.v9)(e=>n?e.teams[n]:null),i=(0,eq.Mn)(),o=n&&(0,e0.canAdminTeam)(n,i),s=(0,l.CA)(),d=!!s?.canEdit,_=r&&r.subscription===X.Qe.PAST_DUE,m={"data-tooltip-type":eI.fR.TEXT,"data-tooltip":(0,M.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};if(_&&!d){let n={bannerType:ea.$.WARN_SOFT,icon:(0,c.jsx)(x.R,{}),iconSize:"medium",mainText:o?(0,M.t)("banner.pro_team_past_due_revamp.title"):(0,M.t)("banner.pro_team_past_due_revamp.title_viewer"),description:o?(0,M.t)("banner.pro_team_past_due_revamp.subtitle.can_admin"):(0,M.t)("banner.pro_team_past_due_revamp.subtitle.no_admin"),button:o?{type:ea.ri.CUSTOM,element:(0,c.jsx)(p.zx,{onClick:()=>{t?.(eT.fv({view:"teamAdminConsole",teamId:r.id,teamAdminConsoleViewTab:eN.mb.BILLING}))},variant:"secondary",htmlAttributes:m,children:(0,M.t)("banner.pro_team_past_due_revamp.cta")})}:void 0,dismissible:!1};return(0,c.jsx)(tt.x,{...e,bannerContent:n})}return null},dataTestId:"pro-team-past-due-banner"},t0={bannerId:ea.EN.ExternalContentControlBanner,Banner:function(e){let t=(0,a.I0)(),n=(0,l.CA)(),r=(0,Q.xJ)(),i=(0,s.$0)(),o=(0,eX.E_)(r,i),d=(0,a.v9)(e=>{if(!o)return null;let t=e.orgById[r.external_restricted_org_id];return t?t.name:null});if(o&&d){let a=!!n&&n.viewerExportRestricted,r={bannerType:ea.$.WARN,icon:tV.Z,mainText:(0,M.tx)("external_collaboration_restricted.banner.title"),description:(0,M.tx)("external_collaboration_restricted.banner.restriction_description",{organizationName:d}),button:a?void 0:{buttonText:(0,M.t)("external_collaboration_restricted.banner.export_file"),onClick:()=>{n?.editorType==="design"?t(eB.bO({id:ez.X4})):t(W.K4({type:tO.g,data:{pickerInfo:{selectionArea:0,canvasArea:0,nodeCounts:{selectionNodeCount:0,canvasNodeCount:0,selectionStickyCount:0,canvasStickyCount:0,selectionTableCount:0,canvasTableCount:0}}}}))}},dismissible:!1};return(0,c.jsx)(tt.x,{...e,bannerContent:r})}return null},dataTestId:"external-content-control-banner"},t1={bannerId:ea.EN.ProTeamChargeFailed,Banner:function(e){let t=(0,a.I0)(),n=(0,eC.V7)(),r=(0,a.v9)(e=>n?e.teams[n]:null),i=(0,eq.Mn)(),o=n&&(0,e0.canAdminTeam)(n,i),l=r&&r.subscription===X.Qe.GRACE_PERIOD,s={"data-tooltip-type":eI.fR.TEXT,"data-tooltip":(0,M.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};if(l&&o){let n={bannerType:ea.$.WARN_SOFT,icon:(0,c.jsx)(x.R,{}),iconSize:"medium",mainText:(0,M.t)("banner.pro_team_charge_failed_revamp.title"),description:(0,M.t)("banner.pro_team_charge_failed_revamp.subtitle.can_admin"),button:{type:ea.ri.CUSTOM,element:(0,c.jsx)(p.zx,{onClick:()=>{t?.(eT.fv({view:"teamAdminConsole",teamId:r.id,teamAdminConsoleViewTab:eN.mb.BILLING}))},variant:"secondary",htmlAttributes:s,children:(0,M.t)("banner.pro_team_past_due_revamp.cta")})},dismissible:!1};return(0,c.jsx)(tt.x,{...e,bannerContent:n})}return null},dataTestId:"pro-team-charge-failed-banner"},t9={bannerId:ea.EN.ProTeamNoMonthlySubEditorCountExceeded,Banner:function(e){let t=(0,a.I0)(),n=(0,eC.V7)(),r=(0,a.v9)(e=>n?e.teams[n]:null),o=(0,eq.Mn)(),l=n&&(0,e0.canAdminTeam)(n,o);if(r&&r.subscription===X.Qe.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED){let a=l?(0,c.jsx)("span",{children:(0,M.tx)("banner.pro_team_no_monthly_sub.over_limit_as_admin.seat_rename",{contactSupportLink:(0,c.jsx)("a",{href:`mailto:${(0,i.sJ)()}`,children:(0,M.tx)("banner.pro_team_no_monthly_sub.contact_support")})})}):(0,c.jsx)("span",{children:(0,M.tx)("banner.pro_team_no_monthly_sub.over_team_limit_without_admin.seat_rename",{teamName:r.name})}),o={bannerType:ea.$.WARN,icon:tV.Z,mainText:(0,M.t)("banner.pro_team_no_monthly_sub.locked"),description:a,button:l?{buttonText:(0,M.t)("banner.pro_team_no_monthly_sub.manage_plan"),onClick:()=>{t?.(eT.fv({view:"teamAdminConsole",teamId:n,teamAdminConsoleViewTab:eN.mb.SETTINGS}))}}:void 0};return(0,c.jsx)(tt.x,{...e,bannerContent:o})}return null},dataTestId:"pro-team-no-monthly-sub-editor-count-exceeded-banner"},t3={bannerId:ea.EN.ProTrialsExpiryBanner,Banner:function(e){let t=(0,a.I0)(),n=(0,l.CA)(),r=(0,eC.V7)(),i=(0,a.v9)(e=>r?e.teams[r]:null),o=(0,eq.Mn)(),s=(0,a.v9)(e=>e.userTeamFlags),d=(0,a.oR)(),_=(0,eJ.f)({teamId:r,flag:e1.St});if(!i||!n)return null;let m=(0,e0.canEditTeam)(i.id,o),u=(0,eQ.cv)(i.id,o);if(e1.pl.canSeeExpiredProTrialBanner(s,i,o)&&(u||m&&!_)){let a,r,o;u?(o=ea.$.WARN_SOFT,a=m?(0,M.tx)("banner.pro_trial_expiry.locked_description",{lowerUsageLink:(0,c.jsx)("button",{onClick:e=>{e.preventDefault(),t?.(W.K4({type:tR.X,data:{teamId:i.id}}))},children:(0,M.tx)("banner.pro_trial_expiry.lower_usage")}),upgradeLink:(0,c.jsx)(q.XT,{onClick:e=>{e.preventDefault();let n=d.getState();t(eM.F2({teamId:i.id,selectedView:n.selectedView}))},children:(0,M.tx)("banner.pro_trial_expiry.upgrade")})}):(0,M.tx)("banner.pro_trial_expiry.locked_description_for_viewer_on_team",{teamName:i.name}),r={buttonText:(0,M.t)("banner.pro_trial_expiry.move_this_file_cta"),onClick:()=>(0,eA.E)({key:n.key,name:n.name,folder_id:n.folderId,team_id:n.teamId,editor_type:n.editorType,parent_org_id:n.parentOrgId},null,t)}):(o=ea.$.INFO,a=(0,M.tx)("banner.pro_trial_expiry.expiry_description",{teamName:i.name}),r={buttonText:(0,M.t)("banner.pro_trial_upgrade_cta.upgrade_to_professional"),onClick:()=>{let e=d.getState();t(eM.F2({teamId:i.id,selectedView:e.selectedView}))}});let l={bannerType:o,icon:tV.Z,mainText:(0,M.t)("banner.pro_trial_expiry.title"),dismissible:!u,onDismiss:u?void 0:()=>{t(eF.v_({all_team_flags:[{team_id:i.id,flags:{[e1.St]:!0}}]}))},description:a,button:m?r:void 0};return(0,c.jsx)(tt.x,{...e,bannerContent:l})}return null},dataTestId:"pro-trials-expiry-banner"},t5={bannerId:ea.EN.StarterTeamOverFreeLimitAndLocked,Banner:function(e){let t=(0,a.I0)(),n=(0,eC.V7)(),r=(0,a.v9)(e=>n?e.teams[n]:null),i=(0,eq.Mn)(),s=(0,o.w4)(),d=(0,o.bR)(),_=(0,a.oR)(),m=(0,l.CA)()?.canEdit,u=n&&(0,e0.canEditTeam)(n,i),p=r&&!(0,eQ.gX)(r)&&!r.student_team&&(0,eQ.cv)(r.id,i);if(p){let a=r.student_team_state===X.QX.STUDENT_TEAM_EXPIRED,i=!!n&&p;if(i&&!m){let i=!!r.stripe_customer_id,o=()=>{t(W.K4({type:tD.M,data:{teamId:n,canEditTeam:!0}}))},l=()=>{let e=_.getState();t(eM.F2({teamId:n,selectedView:e.selectedView}))},m=a?(0,M.t)("locked_team.card.title"):d?(0,M.t)("locked_team.banner.this_board_is_part_of_a_locked_team"):(0,M.t)("locked_team.banner.this_file_is_part_of_a_locked_team"),p=a?(0,c.jsx)(q.Ui,{name:"edu_locked_team",children:(0,c.jsx)("div",{style:L.sx.add({marginLeft:"-32px"}).$,children:(0,M.tx)("locked_team.card.edu_description",{reverifyEduLink:(0,c.jsx)(D.Z6,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,M.tx)("locked_team.card.reverify_edu_link")}),upgradeProLink:(0,c.jsx)(D.Z6,{onClick:l,trusted:!0,children:(0,M.tx)("locked_team.card.upgrade_pro_link")})})})}):(0,c.jsx)("div",{style:L.sx.add({marginLeft:"-32px"}).$,children:(0,M.tx)(s?"locked_team.banner.all_of_this_teams_work_is_currently_view_only_dev_mode":"locked_team.banner.all_of_this_teams_work_is_currently_view_only",{learnMoreLink:u?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),o()},children:(0,M.tx)("locked_team.banner.learn_more")})}):(0,c.jsx)(c.Fragment,{})})}),f=a?{buttonText:(0,M.t)("locked_team.banner.learn_more"),onClick:o,className:tG.UU}:u?{buttonText:i?(0,M.t)("locked_team.banner.reactivate_professional"):(0,M.t)("locked_team.banner.upgrade_to_professional"),onClick:l,className:tG.om}:void 0,x={bannerType:ea.$.WARN_SOFT,icon:(0,c.jsx)(g.m,{}),mainText:m,description:p,button:f};return(0,c.jsx)(tt.x,{...e,bannerContent:x})}if(!i&&!s){let a;a=u?(0,c.jsxs)("span",{children:[(0,c.jsxs)("b",{style:L.sx.fontSemiBold.$,children:[(0,M.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:r.name})," "]}),(0,M.tx)("banner.free_limit_locked.upgrade_team_or_lower_usage",{teamName:r.name,learnMoreLink:(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),t?.(W.K4({type:tR.X,data:{teamId:n}}))},children:(0,M.tx)("banner.free_limit_locked.learn_more")})})})]}):(0,c.jsxs)("span",{children:[(0,c.jsx)("b",{style:L.sx.fontSemiBold.$,children:(0,M.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:r.name})})," ",(0,M.tx)("banner.free_limit_locked.ask_your_team_admin_for_details")]});let i={bannerType:ea.$.WARN,icon:tV.Z,mainText:(0,M.t)("banner.free_limit_locked.locked"),description:a,button:u?{buttonText:(0,M.t)("banner.free_limit_locked.upgrade_now"),onClick:()=>{let e=_.getState();t(eM.F2({teamId:n,selectedView:e.selectedView}))},className:tG.UU}:void 0};return(0,c.jsx)(tt.x,{...e,bannerContent:i})}}return null},dataTestId:"starter-team-over-free-limit-and-locked-banner"},t2={bannerId:ea.EN.OrphanedOrgDraftsFile,Banner:function(e){let t=(0,l.CA)(),n=(0,s.$0)(),r=(0,a.v9)(ee._H),i=null,o=null;if(i=n&&(0,j.unwrap)(t?.isAbandonedDraftFile),o=(0,j.unwrap)(t?.canMove)?(0,c.jsxs)(c.Fragment,{children:[(0,M.tx)("banner.orphaned_projects.move_to_project")," ",(0,c.jsx)(D.rU,{trusted:!0,target:"_blank",className:P.B.inline.ml4.$,href:"https://help.figma.com/hc/articles/4420549259799",children:(0,M.tx)("general.learn_more")})]}):(0,M.t)("banner.orphaned_projects.move_to_project.member",{orgName:r?.name??""}),i&&t){let t={bannerType:ea.$.WARN,icon:tV.Z,mainText:(0,M.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:o};return(0,c.jsx)(tt.x,{...e,bannerContent:t})}return null},dataTestId:"orphaned-org-drafts-file-banner"},t4={bannerId:ea.EN.TeamAbandonedDraftsFile,Banner:function(e){let t=(0,l.CA)(),n=(0,s.$0)(),a=(0,j.unwrap)(t?.isAbandonedDraftFile),r=(0,eC.Rs)();if(r&&!n&&a){let n=(0,j.unwrap)(t?.canMove)?(0,c.jsxs)(c.Fragment,{children:[(0,M.tx)("banner.orphaned_projects.move_to_project.team")," ",(0,c.jsx)(D.rU,{trusted:!0,target:"_blank",className:P.B.inline.ml4.$,href:"https://help.figma.com/hc/articles/4420549259799",children:(0,M.tx)("general.learn_more")})]}):(0,M.t)("banner.orphaned_projects.move_to_project.team_member",{teamName:r.name??""});if(t){let t={bannerType:ea.$.WARN,icon:tV.Z,mainText:(0,M.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:n};return(0,c.jsx)(tt.x,{...e,bannerContent:t})}}return null},dataTestId:"team-abandoned-drafts-file-banner"},t7={bannerId:ea.EN.PersonalProjectDeprecatedFile,Banner:function(e){let t=(0,l.CA)(),n=(0,eC.V7)(),r=(0,a.v9)(e=>n?e.teams[n]:null),i=(0,s.$0)(),o=(0,a.I0)(),d=(0,eq.Mn)();if(!(i&&t?.project&&(0,eK.V6)(t.project))&&!r&&t&&(0,eQ.tf)(t.folderId,t.teamId,d)){let t={bannerType:ea.$.WARN,icon:tV.Z,mainText:(0,M.t)("banner.personal_projects.locked"),description:(0,c.jsx)(c.Fragment,{children:(0,M.tx)("banner.personal_projects.deprecation_message",{learnMoreLink:(0,c.jsx)("a",{href:"/pricing-faq#what-changes-for-me",children:(0,M.tx)("banner.personal_projects.learn_more")})})}),button:{buttonText:(0,M.t)("banner.personal_projects.back_to_files"),onClick:()=>o?.(eT.fv({view:"recentsAndSharing"}))}};return(0,c.jsx)(tt.x,{...e,bannerContent:t})}return null},dataTestId:"personal-project-deprecated-file-banner"},t6={bannerId:ea.EN.EduGracePeriodAccessRestricted,Banner:function(e){let t=(0,l.CA)(),n=(0,eC.V7)(),r=(0,a.v9)(e=>n?e.teams[n]:null),i=(0,Q.xJ)(),o=(0,eG.nO)(),s=(0,a.v9)(e=>e.userEduGracePeriods);if(!n||!i)return null;if(r&&!o?.enabled&&t?.canEditIgnoreEduGracePeriod&&r&&(0,A.XW)(s,(0,A.dE)(i),n,!!r.student_team).showAccessRestricted){let t={bannerType:ea.$.WARN,icon:tV.Z,mainText:(0,M.t)("banner.edu_grace_period.verification_required"),description:(0,M.t)("banner.edu_grace_period.editing_restricted_on_file",{teamName:r.name}),button:{buttonText:(0,M.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>E.ZP.redirect("/education/apply",O.ZP.isIpadNative?void 0:"_blank")}};return(0,c.jsx)(tt.x,{...e,bannerContent:t})}return null},dataTestId:"edu-grace-period-access-restricted-banner"},t8={bannerId:ea.EN.EduGracePeriodShowReminder,Banner:function(e){let t=(0,l.CA)(),n=(0,eC.V7)(),r=(0,a.v9)(e=>n?e.teams[n]:null),i=(0,Q.xJ)(),o=(0,eG.nO)(),s=(0,a.v9)(e=>e.userEduGracePeriods);if(n&&i){let a=r&&!o?.enabled&&t?.canEditIgnoreEduGracePeriod&&r&&(0,A.XW)(s,(0,A.dE)(i),n,!!r.student_team).showReminder,l=(0,A.QS)(s,n);if(a){let t={bannerType:ea.$.INFO,icon:t$.Z,mainText:(0,M.t)("banner.edu_grace_period.verification_required"),description:(0,M.t)("banner.edu_grace_period.grace_period_team_reminder",{teamName:r.name,endDate:l}),dismissible:!0,button:{buttonText:(0,M.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>E.ZP.redirect("/education/apply",O.ZP.isIpadNative?void 0:"_blank")}};return(0,c.jsx)(tt.x,{...e,bannerContent:t})}}return null},dataTestId:"edu-grace-period-show-reminder-banner"};function ne(e){let t;if(!e)return(0,M.t)("banner.multiplayer_session_upgrade.page_out_of_date");switch(e){case X.gg.DESIGN:t=(0,M.t)("general.figma_design");break;case X.gg.WHITEBOARD:t=(0,M.t)("general.figjam");break;case X.gg.SLIDES:t=(0,M.t)("general.figma_slides");break;case X.gg.SITES:t=(0,M.t)("general.figma_sites");break;case X.gg.COOPER:t=(0,M.t)("general.figma_buzz");break;case X.gg.FIGMAKE:t=(0,M.t)("general.figma_rev");break;default:(0,u.vE)(e)}return(0,M.t)("banner.multiplayer_session_upgrade.with_editor_type",{editorType:t})}let nt={bannerId:ea.EN.MultiplayerSessionUpgrade,Banner:function(e){let t=(0,eW.nh)("multiplayerSessionState")!==h.hKT.UNJOINED,n=!(0,eW.nh)("isReadOnly"),i=(0,a.v9)(e=>e.showingUpgradeBanner),o=(0,l.CA)()?.editorType,[s,d]=(0,_.useState)(!1),m=f.dd({open:s,onClose:()=>{},preventUserClose:!0});if(i){let a={bannerType:ea.$.INFO,icon:tV.Z,mainText:(0,r.BZ)().force_client_reloads_fullscreen_banner_string?ne(o):(0,M.t)("banner.multiplayer_session_upgrade.page_out_of_date"),description:n?(0,M.t)("banner.multiplayer_session_upgrade.out_of_date.editor"):(0,M.t)("banner.multiplayer_session_upgrade.out_of_date.viewer"),button:{buttonText:n?(0,M.t)("banner.multiplayer_session_upgrade.save_and_reload"):(0,M.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{(0,w.L9)("Upgrade Banner Clicked"),h.B9x?.startUpgrade(),d(!0)}}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(tt.x,{...e,bannerContent:a}),(0,c.jsx)(tM,{manager:m,userCanEditFile:n,isUserConnected:t})]})}return null},dataTestId:"multiplayer-session-upgrade-banner"},nn={bannerId:ea.EN.ForceClientReload,Banner:function(e){let[t,n]=_.useState(!1),[i,o]=_.useState(!1),s=(0,y.Dv)(eH.n),d=(0,a.v9)(e=>!!e.saveStatus?.hasUnsavedChanges),m=(0,l.CA)()?.editorType;if(_.useEffect(()=>{s&&!i&&(w.RQ.trackDefinedEvent("scenegraph_and_sync.force_client_reload_banner.shown",{}),o(!0))},[s,i]),_.useEffect(()=>{t&&!d&&E.ZP.reload("force client reload banner",{isForceClientReloadBanner:!0})},[t,d]),s){let a={bannerType:ea.$.INFO,icon:tV.Z,mainText:(0,r.BZ)().force_client_reloads_fullscreen_banner_string?ne(m):(0,M.t)("banner.multiplayer_session_upgrade.page_out_of_date"),button:{buttonText:(0,M.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{n(!0),w.RQ.trackDefinedEvent("scenegraph_and_sync.force_client_reload_banner.clicked",{})},disabled:t}};return(0,c.jsx)(tt.x,{...e,bannerContent:a})}return null},dataTestId:"force-client-reload-banner"},na={bannerId:ea.EN.FigJamTryDraftsBanner,Banner:function(e){let t=(0,a.I0)(),n=(0,l.CA)(),r=(0,eG.nO)(),i=(0,Q.xJ)(),o=(0,eY.p)("dismissed_figjam_try_drafts_banner"),s=(0,S.I)("minute");if(!r?.enabled||!n||!i)return null;if(!n.isTryFile&&!n.parentOrgId&&n.folderId===i.drafts_folder_id&&!o){let a=(0,k.Z)(s),i=Math.ceil((0,k.Z)(r.until).diff(a,"hours",!0)),o={bannerType:ea.$.INFO,icon:t$.Z,mainText:i>1?(0,M.t)("figjam_try.drafts_banner_title_more_time",{num_hours:i}):(0,M.t)("figjam_try.drafts_banner_title_1_hour_or_less"),description:(0,M.t)("figjam_try.drafts_banner_description"),onDismiss:()=>t?.(eL.v({dismissed_figjam_try_drafts_banner:!0})),dismissible:!0,button:{buttonText:(0,M.t)("figjam_try.move_file"),onClick:()=>(0,eA.E)({key:n.key,name:n.name,folder_id:n.folderId,team_id:n.teamId,editor_type:n.editorType,parent_org_id:n.parentOrgId},null,t)}};return(0,c.jsx)(tt.x,{...e,bannerContent:o})}return null},dataTestId:"figjam-try-drafts-banner"},nr=(0,y.cn)(!1),ni={bannerId:ea.EN.FigJamTryClaimBanner,Banner:function(e){let t=(0,l.CA)(),{onClaim:n}=(0,tU.Z)(t?.key),a=(0,eG.nO)(),r=(0,Q.xJ)(),[i,o]=(0,y.KO)(nr),s=(0,S.I)("minute"),d=(0,tF.C)(),_=t?.key;if(!t?.isTryFile||O.ZP.isMeetDevice||!r||!a?.enabled||!_||i||d)return null;let m=(0,k.Z)(s),u=Math.ceil((0,k.Z)(a.until).diff(m,"hours",!0)),p={bannerType:ea.$.INFO,icon:t$.Z,mainText:u>1?(0,M.t)("figjam_try_v2.timer_hours_left",{hoursLeft:u}):(0,M.t)("figjam_try.claim_banner_title_1_hour_or_less"),description:(0,M.t)("figjam_try_v2.logged_in.after_that_this_board_will_be_deleted"),onDismiss:()=>o(!0),dismissible:!0,button:{buttonText:(0,M.t)("figjam_try_v2.claim_file_logged_in"),onClick:()=>n()}};return(0,c.jsx)(tt.x,{...e,bannerContent:p})},dataTestId:"figjam-try-claim-banner"},no={bannerId:ea.EN.DowntimeBanner,Banner:function(e){let t=(0,a.v9)(e=>e.showingDowntimeBanner),{payload:n,status:i}=(0,a.v9)(e=>e.downtime);if(!n||!(0,r.BZ)().display_downtime_banner)return null;let o=(0,M.tx)("downtime_banner.warning.description",{minLengthMinutes:n.minLengthMinutes,maxLengthMinutes:n.maxLengthMinutes,startTime:n.downtimeStartDate,helpcenterLink:(0,c.jsx)(D.UU,{target:"_blank",href:n.helpcenterUrl,trusted:!0,children:(0,M.t)("downtime_banner.ongoing_and_warning.learn_more_link")})}),l=(0,c.jsx)("p",{children:(0,M.tx)("downtime_banner.ongoing.description",{minLengthMinutes:n.minLengthMinutes,maxLengthMinutes:n.maxLengthMinutes,helpcenterLink:(0,c.jsx)(D.UU,{target:"_blank",href:n.helpcenterUrl,trusted:!0,children:(0,M.t)("downtime_banner.ongoing_and_warning.learn_more_link")})})}),s=()=>{let e=n.downtimeStartDate.getTime(),t=Date.now();return Math.floor((t<e?Math.floor((e-t)/1e3):0)/60)},d=null;return(t?d={bannerType:ea.$.WARN,icon:tV.Z,dismissible:!1,mainText:(0,M.t)("downtime_banner.ongoing.scheduled_maintenance_will_begin_in_minutes",{minutes:s()}),description:o}:i===e3.l.Ongoing?d={bannerType:ea.$.WARN,icon:tV.Z,dismissible:!1,mainText:(0,M.t)("downtime_banner.ongoing.scheduled_maintenance_in_progress_header"),description:l}:i===e3.l.Imminent&&(d={bannerType:ea.$.WARN,icon:tV.Z,dismissible:!1,mainText:(0,M.t)("downtime_banner.ongoing.scheduled_maintenance_will_begin_in_minutes",{minutes:s()}),description:o}),d)?(0,c.jsx)(tt.x,{...e,bannerContent:d}):null},dataTestId:"downtime-banner"};function nl({hubFile:e}){return(0,eR.r)(e)?(0,M.tx)("banner.freemium_preview.this_is_just_a_preview"):(0,M.tx)("banner.freemium_preview.get_the_full_file_on_community")}function ns({hubFile:e}){return(0,eR.r)(e)?(0,M.tx)("banner.freemium_preview.you_purchased_this_file_already"):(0,M.tx)("banner.freemium_preview.this_is_just_a_preview_of_the_file_you_can_buy_on_community")}function nd({hubFile:e}){let t=(0,eR.r)(e),n=t?"":`?${eU.As}`;return(0,c.jsx)(eD.Ve,{to:`/community/file/${e.id}${n}`,children:(0,c.jsx)(D.pJ,{trackingProperties:{trackingDescriptor:t?eZ.y.OPEN_IN_COMMUNITY:eZ.y.BUY_THE_RESOURCE},children:t?(0,M.tx)("banner.freemium_preview.open_in_community"):(0,M.tx)("banner.freemium_preview.buy_the_resource")})})}let nc={bannerId:ea.EN.FreemiumPreviewBanner,Banner:function(e){let t=(0,l.uC)(),n=(0,a.v9)(e=>t?e.figFileDuplicatedFromHubFile[t]:null),r=(0,a.v9)(e=>n?e.hubFiles[n.hubFileId]:null);return n&&n.isPreview&&r&&r.monetized_resource_metadata?(0,c.jsx)(tt.x,{...e,bannerContent:{bannerType:ea.$.INFO,icon:t$.Z,dismissible:!1,mainText:(0,c.jsx)(nl,{hubFile:r}),description:(0,c.jsx)(ns,{hubFile:r}),button:{type:ea.ri.CUSTOM,element:(0,c.jsx)(nd,{hubFile:r})}}}):null},dataTestId:"freemium-preview-banner"},n_={bannerId:ea.EN.FileCreationFailureBanner,Banner:function(e){if((0,a.v9)(e=>e.showingFileCreationFailureBanner)){let t={bannerType:ea.$.WARN,dismissible:!1,mainText:(0,M.tx)("banner.file_creation_failure.title"),description:(0,M.tx)("banner.file_creation_failure.description")};return(0,c.jsx)(tt.x,{...e,bannerContent:t})}return null},dataTestId:"file-creation-failure-banner"},nm={bannerId:ea.EN.FileIsTeamTemplate,Banner:function(e){let t=(0,a.I0)(),n=(0,eW.Yu)(),i=(0,tl.WT)(),s=(0,ts.Kq)(),d=(0,l.CA)(),_=(0,tl.MX)(),m=(0,tl.qA)(),u=(0,tm.Lj)(),f=(0,o.fg)(),x=(0,tp.IU)(),g=(0,eP.JJ)(),h=(0,o.bR)(),b=(0,Q.xJ)(),v=b?.id&&i&&i.publishedByUserId===b.id,y=(0,tl.uh)(),j=(0,ts.sA)(),w=null!=i&&j(i.fileKey);if(!_||n||!d||!i||u||null===m)return null;let T=m&&y===tl.Vb.CAN_PUBLISH,k=(0,r.BZ)().figjam_a11y_template_banner&&h,C=()=>{if(i&&d)if(g){let e=new URL((0,t_.Z)(f,td.L7.TEAM_TEMPLATE_BANNER,d.libraryKey),document.baseURI).href;E.ZP.redirect(e,"_blank")}else s({templateIdentifier:{type:tc._g.TeamTemplate,file_key:i.fileKey},templateName:i.name,openInNewTab:f===X.gg.FIGMAKE})},N=()=>{(0,tu.pj)(t,i.fileKey,f,"editor-republish-banner")},I=x?(0,M.t)("slides.templates.banner.new_deck_button"):(0,M.t)("whiteboard.delightful_toolbar.custom_template_banner.new_file_button"),S=(0,c.jsx)(to.MG,{editorType:f,libraryKey:d.libraryKey,variant:T&&v?"bannerSecondary":"bannerPrimary"}),O=(0,c.jsx)("div",{...{className:"x1n2onr6"},children:(0,c.jsxs)(p.zx,{variant:"secondary","data-testid":"banner-cta-button",children:[(0,c.jsx)("span",{className:"xlshs6z",children:I}),(0,c.jsx)("span",{...{className:"x10l6tqk xwa60dl x1nrll8i x11lhmoz"},children:(0,c.jsx)(tr.T,{size:"md"})})]})}),A=w?{type:ea.ri.CUSTOM,element:O}:{type:ea.ri.STRUCTURED,onClick:C,trackingDescriptor:eZ.y.USE_IN_NEW_FILE,buttonText:I},D=w?O:(0,c.jsx)("div",{...{className:"x1n2onr6"},children:(0,c.jsx)(ew.CN,{...{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk xmkeg23 x1y0btm7 xau91oi x1tk3asg xt0e3qv xwa2v1s"},onClick:C,trackingProperties:{trackingDescriptor:eZ.y.USE_IN_NEW_FILE,buttonContext:I,productType:f},"data-testid":"buzz-banner-cta-button",children:I})});if(T){if(!v){let t=g?{type:ea.ri.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[D,S]})}:A;return(0,c.jsx)(tt.x,{...e,bannerContent:{dismissible:!1,bannerType:k?ea.$.FPL_BRAND:ea.$.INFO,icon:tf.Z,mainText:(0,M.t)("templates.banner.republish.primary_text"),description:(0,M.t)("templates.banner.republish.secondary_text_not_owner"),button:t}})}let t={type:ea.ri.STRUCTURED,onClick:N,trackingDescriptor:eZ.y.PUBLISH_CHANGES,buttonText:(0,M.t)("templates.banner.republish.republish_action")},n=(0,c.jsx)(ew.CN,{...{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1a33sea"},onClick:N,trackingProperties:{trackingDescriptor:eZ.y.PUBLISH_CHANGES,buttonContext:(0,M.t)("templates.banner.republish.republish_action"),productType:f},children:(0,M.t)("templates.banner.republish.republish_action")}),a=g?{type:ea.ri.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[D,S,n]})}:t;return(0,c.jsx)(tt.x,{...e,bannerContent:{dismissible:!1,bannerType:k?ea.$.FPL_BRAND:ea.$.INFO,icon:tf.Z,mainText:(0,M.t)("templates.banner.republish.primary_text"),description:(0,M.t)("templates.banner.republish.secondary_text"),button:a}})}let R=i.publishedByUser?.handle&&(v?x?(0,M.tx)("slides.templates.banner.republish.you"):(0,M.tx)("templates.banner.made_by_you"):(0,M.tx)("templates.banner.republish.made_by_publisher_name",{publisherName:i.publishedByUser.handle})),B=R?x?(0,M.tx)("slides.templates.banner.republish.made_this",{madeByPublisherName:R}):(0,M.tx)("templates.banner.republish.you_re_viewing_a_template_made_by_publisher_name",{madeByPublisherName:(0,c.jsx)("span",{className:P.B.fontNormal.$,children:R})}):(0,M.t)("templates.banner.republish.you_re_viewing_a_template"),L=g?{type:ea.ri.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[D,S]})}:A;return(0,c.jsx)(tt.x,{...e,bannerContent:{dismissible:!1,bannerType:k?ea.$.FPL_BRAND:ea.$.INFO,icon:(0,c.jsx)(ti.h,{...{0:{className:"xwa2v1s"},1:{}}[0|!!x]}),iconSize:"medium",mainText:B,description:x?(0,M.t)("slides.templates.banner.republish.templates_can_be_used_to_create_a_new_slide_deck"):void 0,button:L}})},dataTestId:"team-templates-banner"},nu={bannerId:ea.EN.TemplatePublishingNudgeBanner,Banner:function(e){let t,n=(0,eW.Yu)(),a=(0,tl.WT)(),r=(0,l.CA)(),i=(0,tl.uh)(),o=(0,ty.p)()&&(0,tl._z)(i),{draftTemplateKeys:s,isCurrentFileDraftTemplate:d,setUserDraftTemplateKeyForCurrentFile:m}=(0,tN.z9)(),{openSlidesPublishFlow:u}=(0,tT.m)(),p=(0,y.Dv)(tv.$b),f=(0,y.Dv)(tk.Zb);(0,_.useEffect)(()=>{(p||f)&&!d()&&m()},[d,p,f,m]);let x=r?.editorType===X.gg.SLIDES,g=r?.editorType===X.gg.COOPER,h=r?.editorType===X.gg.FIGMAKE,b=(0,tg.bQ)()&&(0,tl._z)(i),v=!!r?.editorType&&!a&&!n&&Object.keys(s).length>0&&(d()||p||f)&&!(g&&!o)&&!(h&&!b);return v?(t=g?{type:ea.ri.CUSTOM,element:(0,c.jsx)(tx.U,{mode:"dark",children:(0,c.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x167g77z"},children:[(0,c.jsx)(tS,{}),(0,c.jsx)(tE,{showBanner:v})]})})}:h?{type:ea.ri.CUSTOM,element:(0,c.jsx)(tx.U,{mode:"dark",children:(0,c.jsx)("div",{...{className:"x78zum5 x6s0dn4 x167g77z"},children:(0,c.jsx)(tI,{})})})}:{type:ea.ri.STRUCTURED,onClick:()=>u("editor-pre-publish-banner"),trackingDescriptor:eZ.y.PUBLISH_TEMPLATE,buttonText:(0,M.t)("slides.templates.banner.publish_template_button")},(0,c.jsx)(tt.x,{...e,bannerContent:{dismissible:!1,bannerType:ea.$.INFO,icon:(0,c.jsx)(ti.h,{...{0:{className:"xwa2v1s"},1:{}}[0|!!x]}),iconSize:"medium",mainText:(0,M.t)("slides.templates.banner.making_a_template"),description:(0,M.t)("slides.templates.banner.publish_when_youre_done"),button:t}})):null},dataTestId:"template-publishing-nudge-banner"},np={bannerId:ea.EN.OrgDowngradeBanner,Banner:function(e){let t=(0,eV.V_)(),n=(0,s.Ng)();if(!(0,r.BZ)().org_downgrade_banner||t?.permission!==X.Gu.ADMIN||n?.org_downgrade?.operation_state!=="scheduled")return null;let a=n?.org_downgrade?.scheduled_run_at;if(!a)return null;let i=new Date(a);if(i<new Date)return null;let o={bannerType:ea.$.WARN,dismissible:!1,mainText:(0,M.tx)("banner.org_downgrade.reminder.title",{orgName:n?.name||"",downgradeDate:i}),positionStatic:!0,button:{type:ea.ri.CUSTOM,element:(0,c.jsx)(F.J,{onClick:()=>{(0,T.Ne)("https://help.figma.com/hc/requests/new?ticket_form_id=9707134248215","_blank")},variant:"inverse",children:(0,M.tx)("banner.org_downgrade.reminder.contact_support")})}};return(0,c.jsx)(tt.x,{...e,bannerContent:o})},dataTestId:"org-downgrade-banner"},nf={bannerId:ea.EN.SeatBillingTermsReminder,Banner:function(){return(0,c.jsx)(G.X,{label:"SeatBillingTermsReminderBanner",children:(0,c.jsx)(er,{})})},dataTestId:"seat-billing-terms-banner"},nx={bannerId:ea.EN.TeamAdminOpenInvoiceReminder,Banner:function(){let e=(0,eC.Rs)(),t=(0,eE.vI)(e?.id),n=(0,d.Y)();return e&&t&&n?(0,c.jsx)(eO,{team:e}):null},dataTestId:"team-admin-open-invoice-reminder-banner"},ng={bannerId:ea.EN.DevModeDemoFileUpsellBanner,Banner:function(e){return(0,c.jsx)(G.X,{label:"DevModeDemoFileUpsellBanner",children:(0,c.jsx)(tn,{...e})})},dataTestId:"dev-mode-demo-file-upsell-banner"},nh={bannerId:ea.EN.OrderFormBillingTermsBanner,Banner:function(){let e=(0,a.I0)(),t=(0,Q.xJ)(),n=(0,s.Ng)(),r=(0,ec.eG)(n),[i,o]=_.useState(!1),l=_.createRef();if(!r.data?.isEligible)return null;let{isEligible:d,warningType:m,renewalDate:u}=r.data;if(!(d&&m&&u)||i)return null;let{variant:p,buttonText:f,onDismiss:x}={warning:{variant:"warn",buttonText:(0,M.tx)("order_form_billing_terms.button_text.warn"),onDismiss:()=>o(!0)},error:{variant:"danger",buttonText:(0,M.tx)("order_form_billing_terms.button_text.warn"),onDismiss:void 0}}[m];return(0,c.jsx)(q.Ui,{name:"Order Form Renewal Banner",properties:{userId:t?.id,orgId:n?.id,variant:p},children:(0,c.jsxs)("div",{className:P.B.sticky.top0.$,style:L.sx.add({zIndex:2}).$,children:[(0,c.jsxs)(ei.oV,{variant:p,onDismiss:x,"data-testid":"near-renewal-warning-banner",children:[(0,c.jsx)(eo.v,{title:(0,M.tx)("order_form_billing_terms.headline_banner_text.danger"),children:(0,c.jsx)("p",{children:(0,M.tx)("order_form_billing_terms.description_banner_text.warn",{renewalDate:u.toDate()})})}),(0,c.jsx)(el.z,{onClick:()=>{(0,es.w3)({name:t?.name||null,email:t?.email||null},{ticketForms:["billing"],locale:t?.locale,fields:[{id:0x53d2eb6d8d,value:(0,M.t)("order_form_billing_terms.billing_contact_subject")},{id:0x53d2eb6da1,value:(0,M.t)("order_form_billing_terms.billing_contact_description")},{id:0x8d435084517,value:"b_something_else"}],suppressAnswerBot:!0})},children:f})]}),(0,c.jsx)(ed.K,{ref:l,dispatch:e,userName:t?.name||null,userEmail:t?.email||null})]})})},dataTestId:"order-form-billing-terms-banner"},nb={bannerId:ea.EN.NonAdminBillingTermsBanner,Banner:function(){return(0,c.jsx)(G.X,{label:"NonAdminBillingTermsBanner",children:(0,c.jsx)(ey,{})})},dataTestId:"non-admin-billing-terms-banner"},nv={bannerId:ea.EN.eduRestrictedSitesBanner,Banner:function(e){let t=(0,l.CA)(),n=t?.editorType==="sites",{isEligible:a}=function(){let e=(0,l.CA)(),t=!!e?.canEdit,n=!!(e&&e.teamId&&!t),a=e&&e.teamId?e.teamId:null;return{isEligible:n,canEditTeam:(0,tL.Vz)(a),teamId:a}}(),r=(0,ep.Rm)(),i=r.unwrapOr(null)?.tier||null,o=(0,tA.yA)(),s=i===m.PlanTier.STUDENT&&!o;if(!(a&&n&&s))return null;let d={bannerType:ea.$.FPL_BRAND,icon:tV.Z,mainText:(0,M.tx)("banner.sites_view_only_current_plan"),button:{type:ea.ri.CUSTOM,element:(0,c.jsx)("div",{...{className:"x1qbgpp5"},children:(0,c.jsx)(B.Ip,{href:R.S,newTab:!0,variant:"secondary",children:(0,M.tx)("general.learn_more")})})}};return(0,c.jsx)(tt.x,{...e,bannerContent:d})},dataTestId:"edu-restricted-sites-banner"};ea.EN.DevModeMCPSSEDeprecationBanner,tz.K;let ny={bannerId:ea.EN.SlotsEnablementReload,Banner:function(e){let[t,n]=_.useState(!1),r=(0,e9.N)(),i=(0,a.v9)(e=>!!e.saveStatus?.hasUnsavedChanges);if(_.useEffect(()=>{t&&!i&&E.ZP.reload("slots enablement reload banner",{isSlotsEnablementReloadBanner:!0})},[t,i]),r){let a={bannerType:ea.$.INFO,icon:tV.Z,mainText:(0,c.jsxs)("span",{children:["This file contains slots, but you are not in all the necessary feature flags. Please refresh the page to enable them. See"," ",(0,c.jsx)(D.UU,{href:"https://go/slots-staging",target:"_blank",trusted:!0,children:"this FAQ"})," ","or #feat-slots for more info."]}),button:{buttonText:(0,M.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{n(!0)},disabled:t},dismissible:!0};return(0,c.jsx)(tt.x,{...e,bannerContent:a})}return null},dataTestId:"slots-enablement-reload-banner"},nj={bannerId:ea.EN.SupportShareWarningBanner,Banner:function(e){let t=(0,Q.xJ)(),n=(0,I.Qj)(t?.email);if(!(0,r.BZ)().support_share_enable_warning_banner||!n)return null;let a={bannerType:ea.$.WARN,icon:tV.Z,mainText:(0,c.jsx)("span",{children:"You are viewing this file as the support-share user. Please use caution when making changes as the support-share user."})};return(0,c.jsx)(tt.x,{...e,bannerContent:a})},dataTestId:"support-share-warning-banner"},nw=[no,tW,tJ,nt,nn,...!(0,i.BB)()&&(0,r.BZ)().dse_slots_file_enablement?[ny]:[],tq,nm,nu,tX,t1,t9,t3,t5,t0,t2,t4,t7,t6,t8,nv,na,ni,nc,tY,nj,...(0,i.XO)()?[tK,tH,tQ]:[]],nT=[tJ,nt,nn,ng,t2],nk=[n_],nC=[],nN=[],nI=[np,nf,nh,nb],nE=[nx];function nS(){let e=(0,l.CA)(),t=(0,o.w4)(),n=e?.teamId,r=(0,a.v9)(e=>n?e.teams[n]:null);return e?n&&!r?nC:t?nT:nw:nk}function nO(){let e=(0,d.Y)();return(0,s.$0)()?nI:e?nE:nN}},719193:function(e,t,n){n.d(t,{g:()=>i});var a=n(750357),r=n(853505);let i=r.memo(function({prioritizedBanners:e,location:t}){let{bannerIdToShow:n,registerActiveBanner:i}=function({prioritizedBanners:e}){let[t,n]=(0,r.useState)(()=>new Set);return{registerActiveBanner:(0,r.useCallback)(e=>(n(t=>{if(t.has(e))return t;let n=new Set(t);return n.add(e),n}),()=>{n(t=>{if(t.has(e)){let n=new Set(t);return n.delete(e),n}return t})}),[]),bannerIdToShow:function(e,t=[]){let n=(0,r.useMemo)(()=>t.map(e=>e.bannerId).reduce((e,t,n)=>(e.set(t,n),e),new Map),[t]),a=(0,r.useMemo)(()=>[...e].reduce((e,t)=>{let a=n.get(t)??1/0;return a<e?a:e},1/0),[e,n]);return t[a]?.bannerId??null}(t,e)}}({prioritizedBanners:e});return(0,a.jsx)(a.Fragment,{children:e.map(({bannerId:e,Banner:r,dataTestId:o})=>(0,a.jsx)(r,{bannerId:e,shouldDisplay:e===n,registerAsActive:i,location:t,dataTestId:o},e))})})},892312:function(e,t,n){n.d(t,{Z:()=>b});var a=n(853505),r=n(577851);if(9793==n.j)var i=n(193447);var o=n(492342),l=n(363240);if(9793==n.j)var s=n(203570);var d=n(813381),c=n(469271),_=n(315173),m=n(436218),u=n(242802);if(9793==n.j)var p=n(479852);var f=n(979076),x=n(516167),g=n(958588);let h=!1;function b(e){let t=(0,r.I0)(),n=(0,l.Dv)(_.E),b=(0,u.xJ)(),v=n!==s.Q.LOADING&&n!==s.Q.INIT,y=d.$?.loadingKeyForPayload?.({file_key:e}),j=(0,r.v9)(e=>e.loadingState||{}),w=(0,f.W_)(j,y),T=(0,f.hg)(j,y);a.useEffect(()=>{n===s.Q.INIT&&t((0,m.Qd)(!1))},[t,n]);let k=(0,x.t4)(v&&b?n.plansByUserId[b.id]:[]),C=(0,a.useCallback)(n=>{e&&t(d.$({file_key:e,folder_id:n}))},[t,e]),N=(0,a.useCallback)(()=>{if(e&&!T&&!w)if((0,o.BZ)().dtm_deprecation_plan_picker_for_files)if(v)if(1===k.length){let e=k[0];e.isPlanLocked||!e.draftFolderId||e.isFigJamDisabled||C(e.draftFolderId)}else k.length>1?t((0,c.K4)({type:g.U,data:{payload:{workspaces:k,onSelectWorkspace:e=>{C(e.draftFolderId)},editorType:p.gg.WHITEBOARD,useCase:"figjamTry"}}})):C();else{if(h)return;h=!0;return}else C()},[e,T,w,C,v,k,t]);return(a.useEffect(()=>{h&&v&&(h=!1,N())},[N,v]),e)?{onClaim:N,hasClaimedFigjamFile:w,isClaimingFigjamFile:T}:{onClaim:i.ZT,hasClaimedFigjamFile:w,isClaimingFigjamFile:T}}},341339:function(e,t,n){n.d(t,{$:()=>i,VM:()=>o,fb:()=>y,iT:()=>v});var a,r,i,o,l=n(750357),s=n(853505),d=n(403706),c=n(492342),_=n(53022),m=n.n(_),u=n(342534),p=n(633740),f=n(590914),x=n(479852),g=n(5794),h=n(980705),b=n(695920);let v=s.memo(function(e){return(0,l.jsxs)("div",{onClick:e.onClick,onContextMenu:e.onContextMenu,className:m()(b.cc,e.containerStyle,{[b.dt]:(0,c.BZ)().figjam_a11y_inserts_modal}),children:[(0,l.jsx)("div",{children:e.image}),(0,l.jsx)("div",{className:e.bottomRowStyle??b.wZ,children:e.bottomRow})]})});function y(e){let t={backgroundClip:u.ZP.safari?"padding-box":""};return e.backgroundColor&&(t.backgroundColor=e.backgroundColor),(0,l.jsxs)("div",{className:m()(b.HJ,e.className,e.removeBorder&&h.HR),onClick:e=>{e.preventDefault()},style:t,children:[(0,l.jsx)("div",{className:e.customRatioClassName??h.jB}),(0,l.jsx)("div",{className:h.ZJ,children:e.children})]})}(a=i||(i={})).Center=function(e){return(0,l.jsx)("div",{className:b.YW,children:e.children})},a.Cover=function(e){return(0,l.jsx)("div",{className:b.pP,children:e.children})},a.BottomLeft=function(e){return(0,l.jsx)("div",{className:b.os,children:e.children})},a.BottomRowRight=function(e){return(0,l.jsx)("div",{className:b.uA,children:e.children})},(r=o||(o={})).NameAndFileIconMetadata=function(e){let t=s.useMemo(()=>{switch(e.viewerMode){case x.Zs.WHITEBOARD:return p.I1.WHITEBOARD;case x.Zs.SLIDE_TEMPLATE:return p.I1.SLIDES;case x.Zs.CANVAS:case x.Zs.LIBRARY:return p.I1.DESIGN;case x.Zs.PROTOTYPE:return p.I1.PROTOTYPE;default:return null}},[e.viewerMode]);return(0,l.jsxs)("div",{className:`${b.E3} ${e.className}`,children:[(0,l.jsx)("div",{className:b.tx,children:(0,l.jsx)("div",{className:e.textClassName||b.ZL,children:e.name})}),t&&(0,l.jsx)("div",{className:b.le,children:(0,l.jsx)(p.XV,{type:t,size:16})})]})},r.AvatarAndNameMetadata=function(e){let t=e.publishers&&e.publishers.length>0&&e.publishers[0];return(0,l.jsxs)("div",{className:`${b.E3} ${e.className}`,children:[t&&(0,l.jsx)("div",{className:b.cv,children:(0,l.jsx)(g.Kn,{entity:t,size:32,className:b.Nj})}),(0,l.jsx)("div",{className:b.tx,children:(0,l.jsx)("div",{className:e.textClassName||b.ZL,children:e.name})})]})},r.FullMetadata=function(e){if(!e.publishers||0===e.publishers.length)return null;let{publishers:t,hoverText:n,onClick:a}=e,r=e.name,i=t.length&&t[0]?t[0].name:"",o=t.length-1,s=t.length>1?(0,f.t)("community.cards.pluralize_num_other_publishers",{numOtherPublishers:o}):"",_=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:b.cv,children:(0,l.jsx)(g.Kn,{entity:t[0],size:32,className:b.Nj})}),(0,l.jsxs)("div",{className:b.tx,children:[(0,l.jsx)("div",{className:b.eC,children:r}),(0,l.jsx)("div",{className:n?b.$J:b.q7,children:(0,f.tx)("community.by_publisher_with_suffix",{publisherName:i,publishersSuffix:s})}),n&&(0,l.jsx)("div",{className:b.Z2,children:n})]})]});if((0,c.BZ)().figjam_a11y_inserts_modal){if(a){let e=(n?`${n}, `:"")+(0,f.t)("community.cards.template_name_by_publisher_with_suffix_for_screen_reader",{templateName:r,publisherName:i,publishersSuffix:s});return(0,l.jsx)(d.h,{className:m()(b.E3,{[b.j$]:(0,c.BZ)().figjam_a11y_templates_modal}),onClick:a,"aria-label":e,children:_})}return(0,l.jsx)("div",{className:b.E3,children:_})}return(0,l.jsx)("div",{className:b.E3,onClick:a,children:_})}},979035:function(e,t,n){n.d(t,{N:()=>x});var a=n(750357),r=n(363240),i=n(545449),o=n(590914);if(9793==n.j)var l=n(871567);var s=n(621298),d=n(595475);if(9793==n.j)var c=n(940358);var _=n(913408);if(9793==n.j)var m=n(421177);var u=n(382455),p=n(417027);let f=(0,d.n_)("seen_dtm_deprecation_post_migration_overlay");function x(e){let t=(0,r.Dv)(f),{show:n,isShowing:d,complete:x}=(0,s.I)({overlay:p.NQU,priority:c.b.DEFAULT_MODAL},[t]);(0,i.O)(()=>{n({canShow:e=>!e})});let g=(0,a.jsx)(a.Fragment,{}),h=(0,a.jsx)(a.Fragment,{});if("plan_nav"===e.entryPoint){g=(0,o.tx)("file_browser.drafts_to_move.drafts_to_move_files_have_been_moved");let t=(0,o.tx)("file_browser.drafts_to_move.you_can_find_them_in_the_drafts_section_of_your_org_name_plan",{orgName:e.planName||""}),n=(0,o.tx)("file_browser.drafts_to_move.any_files_from_that_section_are_now_in_a_new_free_starter_team"),a=(0,o.tx)("file_browser.drafts_to_move.you_can_now_find_them_in_drafts_section_of_team_name",{teamName:e.planName||""});h=e.isOrg?t:e.starterTeamCreated?n:a}else{let t=(0,o.tx)("file_browser.drafts_to_move.drafts_to_move_files_are_right_here"),n=(0,o.tx)("file_browser.drafts_to_move.your_drafts_to_move_files_are_right_here");g=e.isOrg?(0,o.tx)("file_browser.drafts_to_move.your_drafts_to_move_files_are_right_here"):e.starterTeamCreated?t:n;let a=(0,o.tx)("file_browser.drafts_to_move.we_created_a_new_free_starter_team_for_them"),r=(0,o.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_previously_deleted_files_will_appear_in_trash");h=e.isOrg?(0,o.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_previously_deleted_files_will_appear_in_trash"):e.starterTeamCreated?a:r}return(0,a.jsx)(_.ZZ,{arrowPosition:u.xI.LEFT_TITLE,description:(0,a.jsx)("p",{children:h}),emphasized:!0,isShowing:d,onClose:x,primaryCta:{label:e.navigateToPlan?(0,o.tx)("file_browser.drafts_to_move.show_me"):(0,o.tx)("file_browser.modal.got_it"),type:"button",onClick:()=>{e.navigateToPlan&&e.navigateToPlan(),x()},ctaTrackingDescriptor:l.y.DONE},secondaryCta:{label:(0,o.tx)("file_browser.drafts_to_move.viewbar_learn_more_link"),type:"link",href:"https://help.figma.com/hc/articles/18409526530967",ctaTrackingDescriptor:l.y.LEARN_MORE},targetKey:e.targetKey||"dtm_deprecation_post_migration_overlay_drafts_key",title:g,trackingContextName:"Dtm Deprecation Post Migration Overlay",width:300,zIndex:m.c.MODAL})}},282909:function(e,t,n){n.d(t,{Z:()=>A});var a=n(750357),r=n(853505),i=n(577851),o=n(400363);if(9793==n.j)var l=n(810973);var s=n(492342),d=n(363240),c=n(574059),_=n(484299);if(9793==n.j)var m=n(936248);var u=n(590914),p=n(469271),f=n(121142);if(9793==n.j)var x=n(871567);var g=n(919601),h=n(621298),b=n(13021),v=n(595475);if(9793==n.j)var y=n(940358);var j=n(838706),w=n(281310),T=n(900326),k=n(417027);let C=9793==n.j?864e5:null,N=()=>Date.now()-C,I=e=>{let t=(0,c.ZP)()?.iso_code,n=(0,c.ZP)()?.user_data?.signup_locale;if(!(null!=e&&e.getTime()<N()))return!1;if("es-es"===n)return!0;let a=(0,j.nJ)();return"latam"!==a&&("spain"===a||!(t&&m.A6.includes(t))&&!!(t&&m.P5.includes(t)))},E=e=>{let t=(0,c.ZP)()?.iso_code,n=(0,c.ZP)()?.user_data?.signup_locale,a=null!=e&&e.getTime()<N(),r="es-es"===n||"ES"===t||navigator.languages.some(e=>m.B2.includes(e)),i="es-la"===n||t&&m.A6.includes(t)||navigator.languages.some(e=>m.U3.includes(e));return a&&r?"spain":a&&i?"non_spain":void 0};function S(e){let t=(0,i.I0)(),n=(0,g.Fg)(),r=e.isSpainVariant?(0,u.tx)("es_es_announcement.spain.description"):(0,u.tx)("es_es_announcement.nonspain.description");return(0,a.jsx)(w.zR,{isShowing:e.isShowing,trackingContextName:"es_es_launch_announcement_spain",onClose:e.onClose,title:(0,u.tx)("es_es_announcement.title"),description:(0,a.jsxs)(a.Fragment,{children:[r,(0,a.jsx)("br",{}),(0,a.jsx)(l.r,{href:"https://www.figma.com/figma-ahora-en-espanol/",trusted:!0,newTab:!0,children:(0,u.tx)("es_es_launch_announcement.learn_more")})]}),primaryCta:{label:(0,u.tx)("es_es_announcement.cta_button"),type:"button",onClick:()=>{t((0,p.K4)({type:T.gp,data:{source:T.kk.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:x.y.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(_.oG,{width:332,height:404,src:(0,c.o1)("dark"===n?"d5144836652ddb3ef93938b550364428430fbdf2":"2c6b6c235309104ec7fe7c99d6d85cc3c8a91e8e"),alt:(0,u.t)("es_es_launch_announcement.image_alt_text")})})}let O=(0,v.n_)("has_tried_es_es");function A(){let e=(0,i.I0)(),t=(0,d.Dv)(O),n=(0,d.Dv)(b.JT),l="loaded"===n.status&&"loaded"===t.status,{show:_,isShowing:m,complete:u}=(0,h.I)({overlay:k.MtL,priority:y.b.SECONDARY_MODAL},[n,t]);if((0,r.useEffect)(()=>{(0,c.ZP)().user_data?.locale===o.go.ES_ES&&"loaded"===t.status&&!1===t.data&&e(f.v({has_tried_es_es:!0}))},[e,t]),(0,r.useEffect)(()=>{if(!l)return;let e=!1;e=(0,s.BZ)().i18n_es_la_announcement_modal?I(n.data):!!E(n.data),(0,c.ZP)().user_data?.locale!==o.go.ES_ES&&e&&!t.data&&_()},[e,_,l,n,t]),!l)return null;let p=E(n.data);if((0,s.BZ)().i18n_es_la_announcement_modal){if(!I(n.data))return null}else if(void 0===p)return null;return(0,a.jsx)(S,{isShowing:m,onClose:u,isSpainVariant:!!(0,s.BZ)().i18n_es_la||"spain"===p})}},838706:function(e,t,n){n.d(t,{ZP:()=>S,nJ:()=>k});var a=n(750357),r=n(853505),i=n(577851),o=n(400363),l=n(492342),s=n(363240),d=n(574059),c=n(484299);if(9793==n.j)var _=n(936248);var m=n(590914),u=n(469271),p=n(121142);if(9793==n.j)var f=n(871567);var x=n(919601),g=n(621298),h=n(13021),b=n(595475);if(9793==n.j)var v=n(940358);var y=n(281310),j=n(900326),w=n(417027);let T=9793==n.j?864e5:null;function k(){let e=new Set(_.U3),t=new Set(_.B2);for(let n of navigator.languages){if(e.has(n))return"latam";if(t.has(n))return"spain"}}let C=(e,t,n)=>{let a=(0,d.ZP)()?.iso_code,r=(0,d.ZP)()?.user_data?.signup_locale;if(!(!t&&null!=e&&e.getTime()<Date.now()-T))return;if("es-la"===r)return n?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement";let i=k();if("latam"===i||"spain"!==i&&a&&_.A6.includes(a))return n?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement"};function N(e){let t=(0,i.I0)(),n=(0,x.Fg)(),r=e.hasSeenEsEsModal?(0,m.tx)("es_la_announcement.seen_es_es_description"):(0,m.tx)("es_la_announcement.not_seen_es_es_description");return(0,a.jsx)(y.zR,{isShowing:e.isShowing,trackingContextName:"es_la_launch_announcement",onClose:e.onClose,title:(0,a.jsx)(a.Fragment,{children:(0,m.tx)("es_la_announcement.title")}),description:r,primaryCta:{label:(0,m.tx)("es_la_announcement.cta_button"),type:"button",onClick:()=>{t((0,u.K4)({type:j.gp,data:{source:j.kk.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:f.y.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(c.oG,{width:332,height:404,src:(0,d.o1)("dark"===n?"d0bae5ffbf320d1ec97034348702b49fd549969e":"28a10c6e6bb3668d3cc281fda53dd7a6f7f27ad8"),alt:(0,m.t)("es_la_launch_announcement.image_alt_text")})})}let I=(0,b.n_)("has_tried_es_la"),E=(0,b.n_)("seen_es_es_launch_announcement");function S(){let e=(0,i.I0)(),t=(0,s.Dv)(I),n=(0,s.Dv)(E),c=(0,s.Dv)(h.JT),_="loaded"===t.status&&"loaded"===c.status&&"loaded"===n.status,{show:m,isShowing:u,complete:f}=(0,g.I)({overlay:w.cUr,priority:v.b.SECONDARY_MODAL},[c,t,n]);if((0,r.useEffect)(()=>{(0,d.ZP)().user_data?.locale===o.go.ES_LA&&"loaded"===t.status&&!1===t.data&&e(p.v({has_tried_es_la:!0}))},[e,t]),(0,r.useEffect)(()=>{_&&(0,l.BZ)().i18n_es_la_announcement_modal&&(0,d.ZP)().user_data?.locale!==o.go.ES_LA&&C(c.data,t.data,n.data)&&m()},[e,m,_,t,c,n]),!_||!(0,l.BZ)().i18n_es_la_announcement_modal)return null;let x=C(c.data,t.data,n.data);return void 0===x?null:(0,a.jsx)(N,{isShowing:u,onClose:f,hasSeenEsEsModal:"has_seen_es_es_announcement"===x})}},701762:function(e,t,n){n.d(t,{u:()=>i});let a=9793==n.j?864e5:null,r=()=>Date.now()-14*a;function i({userCreatedAt:e,lastUsedFigjamDate:t,hasSeenOverlayV2:n}){return!!(e.getTime()<=r()&&(null==t||t.getTime()<=r()))&&!n}},429028:function(e,t,n){n.d(t,{s:()=>j});var a=n(750357),r=n(577851),i=n(363240),o=n(545449),l=n(574059),s=n(590914),d=n(469271);if(9793==n.j)var c=n(871567);var _=n(621298),m=n(13021),u=n(595475),p=n(242802);if(9793==n.j)var f=n(940358);var x=n(281310),g=n(900326),h=n(417027);let b=9793==n.j?864e5:null,v="seen_japanese_launch_announcement",y=(0,u.n_)(v);function j(){let e=(0,r.I0)(),t=(0,p.dO)(),n=(0,i.Dv)(m.JT),u=(0,i.Dv)(y),j=(0,_.I)({overlay:h.gI9,priority:f.b.DEFAULT_MODAL},[n,u]);return(0,o.O)(()=>{let e=(0,l.ZP)()?.iso_code==="JP",t=(0,l.ZP)()?.user_data?.locale==="ja";e&&!t&&j.show({canShow:(e,t)=>!t&&null!=e&&e.getTime()<Date.now()-b})}),(0,a.jsx)(x.zR,{isShowing:j.isShowing,title:(0,s.tx)("rcs.japanese_launch_modal.title"),description:(0,s.tx)("rcs.japanese_launch_modal.body"),media:(0,a.jsx)("img",{width:408,src:(0,l.o1)("aa243114f8307af99f0c1728ada3182f8568a919"),alt:""}),primaryCta:{type:"button",label:(0,s.tx)("rcs.japanese_launch_modal.button"),onClick:()=>{e((0,d.K4)({type:g.gp,data:{source:g.kk.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:c.y.UPDATE_LANGUAGE_SETTINGS,trackingProperties:{userId:t}},trackingContextName:"Japanese Launch Announcement Modal",userFlagOnShow:v,onClose:j.complete})}},990938:function(e,t,n){n.d(t,{Z:()=>C});var a=n(750357),r=n(853505),i=n(577851),o=n(400363),l=n(363240),s=n(574059),d=n(484299);if(9793==n.j)var c=n(936248);var _=n(590914),m=n(469271),u=n(121142);if(9793==n.j)var p=n(871567);var f=n(919601),x=n(621298),g=n(13021),h=n(595475);if(9793==n.j)var b=n(940358);var v=n(281310),y=n(900326),j=n(417027);let w=9793==n.j?864e5:null;function T(e){let t=(0,i.I0)(),n=(0,f.Fg)();return(0,a.jsx)(v.zR,{isShowing:e.isShowing,trackingContextName:"ko_kr_launch_announcement",onClose:e.onClose,title:(0,_.tx)("ko_kr_announcement.title"),description:(0,_.tx)("ko_kr_announcement.description"),primaryCta:{label:(0,_.tx)("ko_kr_announcement.cta_button"),type:"button",onClick:()=>{t((0,m.K4)({type:y.gp,data:{source:y.kk.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:p.y.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(d.oG,{width:332,height:404,src:(0,s.o1)("dark"===n?"18dcbb2ade042dcce59156457f26cf74bff4c14a":"705f5bf3c6cdb84a903c3a2fcd7e70de3294fc96"),alt:(0,_.t)("ko_kr_launch_announcement.image_alt_text")})})}let k=(0,h.n_)("has_tried_ko_kr");function C(){let e=(0,i.I0)(),t=(0,l.Dv)(k),n=(0,l.Dv)(g.JT),d="loaded"===t.status&&"loaded"===n.status,{show:_,isShowing:m,complete:p}=(0,x.I)({overlay:j.ikd,priority:b.b.SECONDARY_MODAL},[n,t]);return((0,r.useEffect)(()=>{(0,s.ZP)().user_data?.locale===o.go.KO_KR&&"loaded"===t.status&&!1===t.data&&e(u.v({has_tried_ko_kr:!0}))},[e,t]),(0,r.useEffect)(()=>{d&&(0,s.ZP)().user_data?.locale!==o.go.KO_KR&&((e,t)=>{let n=(0,s.ZP)()?.iso_code,a=(0,s.ZP)()?.user_data?.signup_locale,r=!t&&null!=e&&e.getTime()<Date.now()-w,i="ko-kr"===a||n&&c.vL.includes(n)||navigator.languages.some(e=>c.cC.includes(e));return r&&i})(n.data,t.data)&&_()},[e,_,d,t,n]),d)?(0,a.jsx)(T,{isShowing:m,onClose:p}):null}},877435:function(e,t,n){n.d(t,{Y:()=>L});var a=n(750357),r=n(853505),i=n(577851),o=n(451410),l=n(514177),s=n(317429),d=n(5929),c=n(363240),_=n(444947),m=n(545449),u=n(342534),p=n(739842),f=n(240473),x=n(590914),g=n(935058),h=n(121142),b=n(926941),v=n(621298),y=n(260251),j=n(242802),w=n(237335),T=n(940358),k=n(728548),C=n(6323),N=n(192724),I=n(894918),E=n(957187),S=n(930956),O=n(417027),A=n(996679),D=n(502726),R=n(764162),P=n(118960),B=n(457366);let M="Job Title Prompt";function L({source:e}){let t=function(){let e=(0,P.Mz)("useIsEligibleForJobTitleReprompt"),t=(0,P.KO)(e).unwrapOr(!1),n=(0,j.XU)(),a=(0,R.Ng)(),i=n.profile.job_title,o=(0,D.Yb)(i);return(0,r.useCallback)(()=>{if(a&&a.k12_google_org||n.email.endsWith(".edu")||t||(0,A.Z)(n.email_validated_at).add(14,"day").isAfter((0,A.Z)(Date.now())))return!1;if(i)return"something_else"===i?!!(0,A.Z)(n.email_validated_at).isBefore((0,A.Z)(new Date("2024-12-10"))):"other"===o&&(!a||!a.saml_sso_only);return!0},[a,t,o,i,n.email,n.email_validated_at])}(),n=(0,c.b9)(C.Yd),i=(0,c.b9)(C.sz),o=(0,c.b9)(C.Kz),l=(0,j.XU)().name,s=!!(0,w.p)("submitted_job_title_prompt_overlay"),{show:d,complete:_,isShowing:p}=(0,v.I)({overlay:O.YWn,priority:T.b.OVERRIDING_MODAL});return((0,m.O)(()=>{(0,u.yf)()||window.matchMedia("(max-width: 840px)").matches||s||d({canShow:t,onShow:()=>{n([N.nq.WHAT_DO_YOU_DO]),i(0),o(l)}})}),p)?(0,a.jsx)(k.R,{testId:"job-title-prompt-overlay",isShowing:p,children:(0,a.jsx)(F,{isShowing:p,dismissModal:_,overlaySource:e})}):null}function F({isShowing:e,dismissModal:t,overlaySource:n}){let m=(0,i.I0)(),u=(0,j.XU)(),v=u.id,w=u.profile.job_title,[T,k]=(0,c.KO)(C.RM),[N,O]=r.useState(""),{questionKey:A,options:D,questionTitle:R,questionSubtitle:P,getOptionDisplay:L}=(0,S.Nb)(),F=Array.from(D).toString(),U=o.dd({open:e,onClose:({source:e})=>{(0,y.T6)({trackingContext:M,text:"Dismiss Job Title Prompt",source:e,view:n,jobTitleList:F}),t()}}),z=T.has("something_else")&&!N;return(0,a.jsx)(b.Ui,{name:M,properties:{jobTitleList:F,source:n},children:(0,a.jsx)(l.fC,{manager:U,width:"fit-content",height:"fixed",children:(0,a.jsx)(s.Z_,{children:(0,a.jsxs)("div",{className:"job_title_prompt_overlay--container--b2lpj",children:[(0,a.jsxs)("div",{className:"job_title_prompt_overlay--leftContainer--Zflt6",children:[(0,a.jsx)(f.n,{svg:B.Z,useOriginalSrcFills_DEPRECATED:!0,autosize:!0,height:"32px",width:"24px"}),(0,a.jsx)(p.Ki,{multiple:3}),(0,a.jsx)("h1",{children:R}),(0,a.jsx)(p.Ki,{multiple:.5}),(0,a.jsx)("p",{className:"job_title_prompt_overlay--jobTitleSubheading--Y6qLI",children:P}),(0,a.jsx)(p.Ki,{multiple:3}),(0,a.jsx)(I.y,{isSingleSelect:!0,questionKey:A,options:D,selectedOptions:T,onItemsChange:k,getOptionDisplay:L,endingOption:T.has("something_else")?(0,a.jsx)(p.Sc,{autoFocus:!0,dataTestId:"custom_job_title_input",className:"job_title_prompt_overlay--otherInput--ovN32",placeholder:(0,x.t)("user_onboarding_signals.v1.answer.other.placeholder"),value:N,onChange:e=>O(e.currentTarget.value)}):void 0,variant:"compact"}),(0,a.jsx)(p.Ki,{multiple:3}),(0,a.jsx)("span",{className:"job_title_prompt_overlay--submitButton--NMGhN",children:(0,a.jsx)(d.DR,{variant:"primary",onClick:()=>{let[e]=T,t=e,n="job_title_prompt_selection";"something_else"===t&&N.length>0&&(t=N,n="job_title_prompt_custom"),m(g.gz({user:{id:v,job_title:t,job_title_source:n},userInitiated:!0})),_.RQ.trackDefinedEvent("activation.job_title_changed",{newJobTitle:t,prevJobTitle:w,source:n,jobTitleSeenList:F}),(0,y.T6)({trackingContext:M,text:"Submit Job Title",jobTitle:t,prevJobTitle:w,jobTitleList:F}),m(h.v({submitted_job_title_prompt_overlay:!0})),U.props.close({source:"other"})},disabled:0===T.size||z,children:(0,x.tx)("rcs.surveys.submit")})})]}),(0,a.jsx)("div",{className:"job_title_prompt_overlay--rightContainer--nfEHi",children:(0,a.jsx)(E.p,{isInModal:!0})})]})})})})}},577442:function(e,t,n){n.d(t,{Z:()=>N});var a=n(750357),r=n(853505),i=n(577851),o=n(400363),l=n(363240),s=n(574059),d=n(484299);if(9793==n.j)var c=n(936248);var _=n(590914),m=n(469271),u=n(121142);if(9793==n.j)var p=n(871567);var f=n(919601),x=n(621298),g=n(13021),h=n(595475);if(9793==n.j)var b=n(940358);var v=n(281310),y=n(900326),j=n(417027);let w=9793==n.j?864e5:null,T=e=>{let t=(0,s.ZP)()?.iso_code,n=(0,s.ZP)()?.user_data?.signup_locale,a=null!=e&&e.getTime()<Date.now()-w,r=[...c._I,...c.aT],i=[...c.v5,...c.uK],o="pt-br"===n||t&&i.includes(t)||navigator.languages.some(e=>r.includes(e));if(a&&o)return t&&c.v5.includes(t)||navigator.languages.some(e=>c._I.includes(e))?"brazilian":"non_brazilian"};function k(e){let t=(0,i.I0)(),n=(0,f.Fg)(),r=e.isBrazilianVariant?(0,_.tx)("pt_br_announcement.description"):(0,_.tx)("pt_br_announcement.non_brazilian.description");return(0,a.jsx)(v.zR,{isShowing:e.isShowing,trackingContextName:"pt_br_launch_announcement",onClose:e.onClose,title:(0,_.tx)("pt_br_announcement.title"),description:r,primaryCta:{label:(0,_.tx)("pt_br_announcement.cta_button"),type:"button",onClick:()=>{t((0,m.K4)({type:y.gp,data:{source:y.kk.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:p.y.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(d.oG,{width:332,height:404,src:(0,s.o1)("dark"===n?"1f8cff5121905a8bd088cf9dc7759e22322a90ef":"e9552341c3ffb2f3090e2cd95e29faaddf7b8397"),alt:(0,_.t)("pt_br_launch_announcement.image_alt_text")})})}let C=(0,h.n_)("has_tried_pt_br");function N(){let e=(0,i.I0)(),t=(0,l.Dv)(C),n=(0,l.Dv)(g.JT),d="loaded"===t.status&&"loaded"===n.status,{show:c,isShowing:_,complete:m}=(0,x.I)({overlay:j.jIQ,priority:b.b.SECONDARY_MODAL},[n,t]);if((0,r.useEffect)(()=>{(0,s.ZP)().user_data?.locale===o.go.PT_BR&&"loaded"===t.status&&!1===t.data&&e(u.v({has_tried_pt_br:!0}))},[e,t]),(0,r.useEffect)(()=>{d&&(0,s.ZP)().user_data?.locale!==o.go.PT_BR&&T(n.data)&&!t.data&&c()},[e,c,d,t,n]),!d)return null;let p=T(n.data);return void 0===p?null:(0,a.jsx)(k,{isShowing:_,onClose:m,isBrazilianVariant:"brazilian"===p})}},199076:function(e,t,n){n.d(t,{AS:()=>P,SU:()=>D});var a=n(750357),r=n(853505),i=n(577851),o=n(410802),l=n(641857),s=n(363240),d=n(444947),c=n(458780),_=n(991613),m=n(240473),u=n(555792),p=n(367949),f=n(590914),x=n(404639),g=n(356403),h=n(409365),b=n(953760),v=n(834761),y=n(428785),j=n(847020),w=n(628517),T=n(775508);let k="memory_warning--memoryUsageContainer--BKKHo";var C=n(501164),N=n(215234),I=n(238256),E=n(355134),S=n(492156),O=n(384787);function A(e){let t,n,r,o,s,d=(0,i.v9)(e=>!e.openFile?.canEdit),c=(0,h.BG)(),_=(0,i.v9)(e=>e.mirror.appModel.activeCanvasEditModeType===l.Nw4.HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId),u=e.warningLevel,x=(u===b.H5.WARNING?(s=(0,f.tx)("fullscreen.pages_panel.memory_usage_try_removing_unneeded_content"),c?s=(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):d&&!_?s=(0,f.tx)("fullscreen.pages_panel.memory_usage_warning_edit_access_needed"):d&&_?s=(0,f.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!d&&_&&(s=(0,f.tx)("fullscreen.pages_panel.memory_usage_warning_edit_view_version_history"))):u===b.H5.ERROR?(s=(0,f.tx)("fullscreen.pages_panel.memory_usage_to_avoid_losing_file_access"),c?s=(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):d&&!_?s=(0,f.tx)("fullscreen.pages_panel.memory_usage_error_contact_file_owner"):d&&_?s=(0,f.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!d&&_&&(s=(0,f.tx)("fullscreen.pages_panel.memory_usage_error_edit_view_version_history"))):u===b.H5.SAFE&&e.hasHadUnsafeWarningLevel&&(s=(0,f.tx)("fullscreen.pages_panel.memory_usage_this_file_has_enough_memory"),c&&(s=(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low_content"))),s);if(u===b.H5.WARNING)t="memory_warning--warningMemoryContentContainerWarning--FlSrK memory_warning--warningMemoryContentContainer--ipRK0",n="memory_warning--memoryWarningContentIconWarning--mUi4h",r=c?E.Z:N.Z,o=c?(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,f.tx)("fullscreen.pages_panel.memory_usage_memory_running_low");else if(u===b.H5.ERROR)t="memory_warning--warningMemoryContentContainerError--r5Vx8 memory_warning--warningMemoryContentContainer--ipRK0",n="memory_warning--memoryWarningContentIconError--Gk8Zq",r=c?E.Z:S.Z,o=c?(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,f.tx)("fullscreen.pages_panel.memory_usage_almost_out_of_memory");else{if(u!==b.H5.SAFE||!e.hasHadUnsafeWarningLevel)return null;t="memory_warning--warningMemoryContentContainerSafe--Pvu78 memory_warning--warningMemoryContentContainer--ipRK0",n="memory_warning--memoryWarningContentIconSafe--fRIf-",r=C.Z,o=c?(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low"):(0,f.tx)("fullscreen.pages_panel.memory_usage_youre_good_to_go")}return(0,a.jsx)("div",{className:"memory_warning--memoryWarningContentBetaContainer--pa-3-",children:(0,a.jsxs)("div",{className:t,children:[(0,a.jsx)("div",{className:"memory_warning--memoryWarningContentIconContainer--Gp48G",children:(0,a.jsx)(m.n,{className:n,svg:r})}),(0,a.jsxs)("div",{className:"memory_warning--memoryWarningContentBodyHeader--xrFtu",children:[(0,a.jsx)("div",{className:"memory_warning--memoryWarningContentHeader---O05e",children:o}),(0,a.jsxs)("p",{children:[x," ",(u===b.H5.ERROR||u===b.H5.WARNING)&&(0,a.jsx)(p.s8,{newTab:!0,className:u===b.H5.ERROR?"memory_warning--learnMoreLinkError--AsoHe":"memory_warning--learnMoreLinkWarning--BPVSf",href:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files",trusted:!1,trackingEventName:"memory_warning_learn_more_clicked",children:(0,f.tx)("fullscreen.pages_panel.memory_usage_learn_more")})]})]})]})})}function D(e){let t=e.showSidePercentage,n=e.warningLevel&&e.warningLevel>=b.H5.ERROR;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"memory_warning--usageBarContainer--gH-7o",children:[(0,a.jsx)(m.n,{style:{left:`${b.K$}%`},className:"memory_warning--icon--PgUQc",svg:I.Z}),(0,a.jsx)("div",{className:t&&n?"memory_warning--usageBarBorderDanger--NJeIt memory_warning--usageBarBorder--6ktmL":"memory_warning--usageBarBorder--6ktmL",children:(0,a.jsx)("div",{className:t&&n?"memory_warning--usageBarFillDanger--1r0sU memory_warning--usageBarFill--iUjTc":"memory_warning--usageBarFill--iUjTc",style:{width:`${e.memoryUsagePercent}%`}})})]}),t&&(0,a.jsx)("div",{className:n?"memory_warning--usageBarTextDanger--Zqjc0 memory_warning--usageBarText--lDYn4":"memory_warning--usageBarText--lDYn4",children:`${Math.trunc(e.memoryUsagePercent).toString()}%`})]})}let R=(0,v.gI)(()=>(0,s.cn)(b.H5.SAFE));function P(e){let t=(0,i.I0)(),{toggleManageMemoryModal:n,closeManageMemoryModal:o}=function(){let e=(0,w.Z$)(),t=(0,h.BG)(),n=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{t&&!n.current&&(n.current=!0,e.open(T.e_),l.O$1?.uiState().showMemoryUsage.set(!0))},[t,e]),(0,r.useMemo)(()=>({toggleManageMemoryModal(){let t=(0,b.fU)();(0,d.L9)("toggle_manage_memory_modal",{memoryUsedPercent:t,totalLayers:l.a5C?.getFileNodeCount(),pageContentPct:t-(0,b.sq)()}),e.toggle(T.e_)},closeManageMemoryModal(){e.close(T.e_)}}),[e])}(),c=(0,s.Dv)(b.FS),m=(0,s.Dv)(b.aZ),u=(0,s.Dv)(b.Wq),p=function({warningLevel:e}){let t=e!==b.H5.SAFE,[n,a]=(0,r.useState)(t);return(0,r.useEffect)(()=>{t&&a(!0)},[t]),n}({warningLevel:u}),f=(0,g.yD)(),x=(0,h.BG)(),[v,y]=(0,r.useState)(x);!function({warningLevel:e,usingTestMemory:t,memoryUsedPercent:n,fileKey:a}){let[o,l]=(0,s.KO)(R),d=(0,i.oR)(),c=(0,_.d)(()=>{var t;let r=d.getState(),i=!r.openFile?.canEdit,o=r.mirror.appModel.topLevelMode;t={warningLevel:b.H5[e],memoryUsedPercent:n,topLevelMode:o,isReadOnly:i},(0,j.NF)({warningEvent:"BANNER_LEVEL_CHANGE",fileKey:a},{warningOnPct:b.K$,errorOnPct:b.Td,...t})}),m=e!==o&&!t;(0,r.useEffect)(()=>{m&&(l(e),c.current())},[e,m,l,c])}({warningLevel:u,usingTestMemory:m,memoryUsedPercent:c,fileKey:e.fileKey}),function({warningLevel:e,hasHadUnsafeWarningLevel:t}){let n=e===b.H5.SAFE&&t;(0,r.useEffect)(()=>{if(n){let e=()=>{"hidden"===document.visibilityState&&(l.O$1?.uiState().showMemoryUsage.set(!1),document.removeEventListener("visibilitychange",e))};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}},[n])}({warningLevel:u,hasHadUnsafeWarningLevel:p}),function({warningLevel:e}){(0,r.useEffect)(()=>{let t=e!==b.H5.SAFE;l.O$1?.uiState().showInFileMemoryPercentage.set(t),t&&l.O$1?.uiState().showMemoryUsage.set(!0)},[e])}({warningLevel:u});let k=(0,h.Mm)();return k||x?(0,a.jsx)(B,{closeManageMemoryModal:o,dispatch:t,editorType:f,fileKey:e.fileKey,hasHadUnsafeWarningLevel:p,memoryUsedPct:c,recoveryMemDisplay:v,setRecoveryMemDisplay:y,showMemoryUsage:k,toggleManageMemoryModal:n,warningLevel:u}):null}function B(e){let{warningLevel:t,hasHadUnsafeWarningLevel:n,memoryUsedPct:r,showMemoryUsage:i,editorType:s,recoveryMemDisplay:_}=e,p=t===b.H5.ERROR,g=(0,h.BG)();return(0,a.jsx)(a.Fragment,{children:(i||_)&&(0,a.jsxs)("div",{className:k,id:k,children:[(0,a.jsxs)("div",{className:"memory_warning--memoryUsageHeader--RkuGj",children:[(0,a.jsx)("div",{className:"memory_warning--memoryUsageHeaderTitle--F3Wdj",children:(0,f.tx)("fullscreen.pages_panel.memory_usage")}),(0,a.jsx)("div",{className:"memory_warning--memoryUsageCloseIcon--7OZIL",children:!p&&(0,a.jsx)(o.h,{"aria-label":(0,f.t)("common.close"),onClick:()=>{(0,d.L9)("manage_memory_modal_closed",{currentAllocatedBytes:l.QIK?.getTotalUsedHeapMemory(),maxAllocatedBytes:l.QIK?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),l.O$1?.uiState().showMemoryUsage.set(!1),l.O$1?.uiState().showInFileMemoryPercentage.set(!1),e.closeManageMemoryModal(),e.setRecoveryMemDisplay(!1)},children:(0,a.jsx)(m.n,{svg:O.Z})})})]}),(0,a.jsx)("div",{className:p?"memory_warning--memoryUsageBodyContainerError--lg4rU":"memory_warning--memoryUsageBodyContainer--Fic1u",children:(0,a.jsx)(D,{memoryUsagePercent:r,showSidePercentage:!0,warningLevel:t})}),(0,a.jsx)(A,{warningLevel:t,hasHadUnsafeWarningLevel:n}),(()=>{let t=(0,f.t)("manage_memory_modal.manage_memory_button");return(0,a.jsx)("div",{className:"memory_warning--memoryWarningButtonContainer--4t1jZ",children:(0,a.jsx)(u.mB,{variant:"secondary",onClick:()=>void e.toggleManageMemoryModal(),trackingProperties:{buttonContext:t},children:t})})})(),g&&r<b.mK&&(0,a.jsx)("div",{className:i?"memory_warning--recoveryModeBannerExitButtonContainer--d23xf":"memory_warning--recoveryModeExitButtonContainer--PS-yG",children:(0,a.jsx)(u.mB,{variant:"primary",onClick:()=>(t=>{let n={view:"fullscreen",editorType:t===y.TU.Design?y.TU.Design:y.TU.Whiteboard,fileKey:e.fileKey,isRecoveryMode:!1};(0,d.L9)("exit_recovery_mode",{currentAllocatedBytes:l.QIK?.getTotalUsedHeapMemory(),maxAllocatedBytes:l.QIK?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),e.dispatch(x.fv(n)),c.ZP.reload("Memory warning panel")})(s),children:(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_exit")})})]})})}},989230:function(e,t,n){n.d(t,{Lk:()=>D});var a=n(750357),r=n(577851),i=n(492342),o=n(53022),l=n.n(o),s=n(458780),d=n(45190),c=n(158639),_=n(342534),m=n(475565),u=n(696200),p=n(498869),f=n(739842),x=n(240473),g=n(661193),h=n(590914),b=n(453393),v=n(469271),y=n(404756),j=n(926941),w=n(396231),T=n(845277),k=n(242802),C=n(237335),N=n(479852),I=n(10553),E=n(712824),S=n(68634),O=n(956555);function A(e){var t;let n,o=(0,k.xJ)(),c=(0,r.I0)(),u=(0,T.A6)(),p=(0,d.mU)((0,I.vEc)({})),E=(0,d.mU)((0,I.BDT)({teamId:e.teamId||""}),{enabled:!!e.teamId}),A=!!(0,C.p)("edu_hide_verification"),D=(0,w.UR)();if("loaded"!==p.status||"loaded"!==E.status||!o)return null;let R=p.data?.currentUser?.eduPeriodEnd,P=(0,w.Bw)(R,D),B=(0,m.di)(R);if(B===1/0||!E.data?.team)return null;let M=E.data.team.isOwner,L=(0,a.jsx)(f.Z6,{href:"https://help.figma.com/hc/articles/360041061214-Figma-for-Education#apply",target:"_blank",trusted:!0,children:(0,h.tx)("edu.banner.learn_more")}),F=B>0?(0,h.tx)("edu.all_education_accounts_are_required",{offboardingDate:D,linkLearnMore:L}):(0,h.tx)("edu.sidebar_section.all_education_accounts_are_required",{linkLearnMore:L}),U=(0,i.BZ)().edu_in_app_offboarding_reverification_copy,z=B>0?function(e){if(e.studentTeamState!==N.QX.STUDENT_TEAM_CURRENT)return null;let t=null;return e.isOwner?t=(0,h.tx)("edu.offboarding_modal.the_team_you_own_will_become_view_only_for_all_members_once_your_plan_expires",{teamName:(0,a.jsx)("span",{className:g.B.fontBold.$,children:e.name})}):e.canEdit&&(t=(0,h.tx)("edu.offboarding_modal.you_ll_lose_edit_access_to_team_once_your_plan_expires",{teamName:(0,a.jsx)("span",{className:g.B.fontBold.$,children:e.name})})),t}(E.data.team):U?null:(t=E.data.team,n=null,t.isOwner?n=(0,h.tx)("edu.offboarding_modal.the_team_you_own_is_now_view_only_for_all_members",{teamName:(0,a.jsx)("span",{className:g.B.fontBold.$,children:t.name})}):t.canView&&(n=(0,h.tx)("edu.offboarding_modal.you_can_no_longer_edit_team",{teamName:(0,a.jsx)("span",{className:g.B.fontBold.$,children:t.name})})),n);if(null===z&&!U)return null;let Z=()=>{c(v.hV())},G=()=>{Z(),c(b.Nf({}))},$=()=>{Z(),c(y.F2({teamId:e.teamId||null,selectedView:u}))};return(0,a.jsx)(j.Ui,{name:P?"Edu Offboarding Modal New Reverification":"Edu Offboarding Modal",children:(0,a.jsxs)(S.xm,{title:(0,h.t)("edu.offboarding_modal.your_education_status"),maxWidth:381,onClose:Z,children:[(0,a.jsxs)("div",{className:l()(g.B.flex.itemsCenter.p8.$,g.B.if(B>0,g.B.colorBgWarningTertiary,g.B.colorBgDangerTertiary).$),children:[(0,a.jsx)(x.n,{className:g.B.p8.colorIcon.$,svg:O.Z}),(0,a.jsx)("p",{className:g.B.fontBold.$,children:B>0?(0,h.tx)("edu.offboarding_modal.your_education_plan_expires_in_days",{daysLeft:B}):(0,h.tx)("edu.offboarding_modal.your_education_status_has_expired")})]}),(0,a.jsxs)("div",{className:g.B.px16.pt8.pb12.$,children:[P&&(0,a.jsx)("p",{className:g.B.if(!!z,g.B.pb16).$,children:F}),z&&(0,a.jsx)("p",{children:z}),(0,a.jsxs)("div",{className:g.B.pt16.flex.$,children:[(0,a.jsx)("div",{className:g.B.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:g.B.fontBold.$,children:(0,h.tx)("edu.offboarding_modal.if_you_graduated")}),P?(0,h.tx)("edu.offboarding_modal.upgrade_link_to_continue_using_the_professional_plan",{upgradeLink:(0,a.jsx)(f.Z6,{onClick:$,trusted:!0,children:(0,h.tx)("edu.offboarding_modal.upgrade_your_team")})}):M?(0,h.tx)("edu.offboarding_modal.continue_below_to_upgrade_your_team_s_to_the_professional_plan_or",{createProTeamLink:(0,a.jsx)(f.Z6,{onClick:G,trusted:!0,children:(0,h.tx)("edu.offboarding_modal.create_a_new_professional_team")})}):(0,h.tx)("edu.offboarding_modal.create_a_new_professional_team_and_start_fresh")]})]}),!A&&(0,a.jsxs)("div",{className:g.B.pt16.flex.$,children:[(0,a.jsx)("div",{className:g.B.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:g.B.fontBold.$,children:(0,h.tx)("edu.offboarding_modal.if_you_re_still_in_education")}),(0,h.tx)("edu.offboarding_modal.verify_your_status_to_keep_collaborating_with_your_teams",{verifyStatusLink:(0,a.jsx)(f.Z6,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,h.tx)("edu.offboarding_modal.verify_your_status")})})]})]}),(0,a.jsxs)("div",{className:g.B.pt16.flex.$,children:[(0,a.jsx)("div",{className:g.B.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:g.B.fontBold.$,children:(0,h.tx)("edu.offboarding_modal.to_save_your_work")}),M?(0,h.tx)("edu.offboarding_modal.duplicate_or_move_files_to_your_drafts_to_save_them_for_later_and_consider_transferring_ownership_of_your_team_s",{transferringOwnershipLink:(0,a.jsx)(f.Z6,{href:"https://help.figma.com/hc/articles/360038512093",target:"_blank",trusted:!0,children:(0,h.tx)("edu.offboarding_modal.transferring_ownership")})}):(0,h.tx)("edu.offboarding_modal.duplicate_or_move_files_to_your_drafts_to_save_them_for_later")]})]}),(0,a.jsx)("div",{className:g.B.flex.flexColumn.itemsEnd.pt32.$,children:P?(0,a.jsx)(f.RS,{onClick:()=>{Z(),s.ZP.redirect("/education/apply",_.ZP.isIpadNative?void 0:"_blank")},children:(0,h.tx)("edu.offboarding_modal.verify_your_status")}):M?(0,a.jsx)(f.RS,{onClick:$,children:(0,h.tx)("edu.offboarding_modal.upgrade_to_professional")}):(0,a.jsx)(f.RS,{onClick:G,children:(0,h.tx)("edu.offboarding_modal.create_a_new_professional_team_cta")})})]})]})})}let D=(0,E.Y3)(function(e){return(0,a.jsx)(c.X,{label:"EduOffboardingModal",children:(0,a.jsx)(u.U,{boundaryKey:"edu-offboarding-modal",loadingFallback:null,errorFallback:p.NY.NONE_I_KNOW_WHAT_IM_DOING,children:(0,a.jsx)(A,{...e})})})},"EDU_OFFBOARDING_MODAL")},2065:function(e,t,n){n.d(t,{X:()=>T});var a=n(750357),r=n(577851),i=n(45190),o=n(195787),l=n(158639),s=n(739842),d=n(240473),c=n(590914),_=n(469271),m=n(404756),u=n(70523),p=n(871567),f=n(926941),x=n(845277),g=n(10553),h=n(672650),b=n(712824),v=n(155969),y=n(573151),j=n(384787);function w(e){let{teamId:t}=e,n=(0,r.I0)(),l=(0,x.A6)(),b=(0,r.v9)(e=>e.folders),w=(0,i.DG)(g.rAQ,{teamId:t}),T=(0,u.bq)(),k=(0,o.Wg)(w.data?.team?.teamFileCounts?.totalFileCount)??0,C=w.data?.team?.teamFileCounts?.designFileCount??0,N=w.data?.team?.teamFileCounts?.whiteboardFileCount??0,I=(0,r.v9)(e=>e.teams[t]),E=e=>{e.preventDefault(),n(_.eI())},S=C>h.Hf&&!T,O=N>h.Hf&&!T,A=k>h.Hf&&T,D=Object.keys(b).filter(e=>b[e]?.is_view_only).map(e=>b[e]),R=Object.keys(b).filter(e=>b[e]?.is_invite_only).map(e=>b[e]);return(0,a.jsx)(f.Ui,{name:"LockedTeamUsageModal",properties:{teamId:t},children:(0,a.jsxs)(v.A2,{className:"locked_team_usage_modal--modal---ltnU",size:"medium",children:[(0,a.jsx)("div",{className:"locked_team_usage_modal--modalBar--Sz2VH",children:(0,a.jsx)(d.n,{className:"locked_team_usage_modal--modalCloseX--LcMaq",svg:j.Z,onClick:E})}),(0,a.jsx)("h3",{className:"locked_team_usage_modal--headerText--mRYvk",children:(0,c.tx)("payments_modal.to_meet_the_limits_for_your_starter_plan")}),(0,a.jsxs)("ul",{children:[A&&(0,a.jsx)("li",{children:(0,c.tx)("payments_modal.move_figma_files_to_drafts",{numFigmaFiles:k-h.Hf})}),S&&(0,a.jsx)("li",{children:(0,c.tx)("payments_modal.move_figma_files_to_drafts",{numFigmaFiles:C-h.Hf})}),O&&(0,a.jsx)("li",{children:(0,c.tx)("payments_modal.move_figjam_files_to_drafts",{numFigJamFiles:N-h.Hf})}),(0,a.jsx)(function(){return!I?.projects||I.projects<=h.kl?null:(0,a.jsx)("li",{children:(0,c.tx)("payments_modal.remove_projects",{numProjects:I.projects-h.kl})})},{}),D.length>0&&(0,a.jsx)("li",{children:(0,c.tx)("payments_modal.remove_view_only_permissions_from_all_projects")}),R.length>0&&(0,a.jsx)("li",{children:(0,c.tx)("payments_modal.remove_invite_only_permissions_from_all_projects")})]}),(0,a.jsx)("p",{children:(0,c.tx)("payments_modal.if_you_would_rather_keep_the_current_limits",{upgradeToProfessional:(0,a.jsx)(s.Z6,{onClick:e=>{e.preventDefault(),n(_.eI()),n(m.F2({teamId:t,selectedView:l}))},trackingProperties:{trackingDescriptor:p.y.UPGRADE_TO_PROFESSIONAL},trusted:!0,children:(0,c.tx)("payments_modal.upgrade_to_professional")})})}),(0,a.jsx)("div",{className:`${y.UN} locked_team_usage_modal--buttonRow--0SFC1`,children:(0,a.jsx)(s.HG,{onClick:E,trackingProperties:{teamId:t},children:(0,c.tx)("payments_modal.okay")})})]})})}let T=(0,b.Y3)(function(e){return(0,a.jsx)(l.X,{label:"LockedTeamUsageModal",children:(0,a.jsx)(w,{...e})})},"LockedTeamUsageModal")},548442:function(e,t,n){n.d(t,{h:()=>r});var a,r=9793==n.j?((a=r||{})[a.WARN=0]="WARN",a[a.WARN_SOFT=1]="WARN_SOFT",a[a.ANNOUNCEMENT=2]="ANNOUNCEMENT",a[a.EVENT=3]="EVENT",a):null},524438:function(e,t,n){n.d(t,{M:()=>r});var a=n(853505);function r({containerRef:e,targetRef:t,targetKey:n,onIntersectionChange:r,rootMargin:i,threshold:o}){let l=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(window.IntersectionObserver)return l.current=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&r(e)})},{root:e?.current,rootMargin:i,threshold:o}),t.current&&l.current.observe(t.current),()=>{l.current&&l.current.disconnect()}},[n,r,i,o,e,t])}},683045:function(e,t,n){n.d(t,{S:()=>a,e:()=>r});let a="https://help.figma.com/hc/articles/360041061214#faqs",r="https://help.figma.com/hc/articles/31722591905559-Figma-Make-FAQs"},864244:function(e,t,n){n.d(t,{t:()=>o});var a=n(750357);if(9793==n.j)var r=n(740436);var i=n(296247);function o(){return(0,a.jsx)(i.Xp,{helpUrlVariant:r.v6.CODE_CHAT})}},105682:function(e,t,n){n.d(t,{CA:()=>T,Cj:()=>C,fO:()=>k,oJ:()=>E});var a=n(750357),r=n(853505),i=n(577851),o=n(363240);n(607906);var l=n(574059),s=n(484299),d=(n(367949),n(590914)),c=n(225094),_=n(404639),m=n(121142);if(9793==n.j)var u=n(871567);var p=n(621298),f=n(595475);if(9793==n.j)var x=n(940358);var g=n(281310),h=n(335205),b=n(417027);if(9793==n.j)var v=n(271609);if(9793==n.j)var y=n(864244);let j="acknowledged_figmake_ai_tos_onboarding",w=(0,f.n_)(j);function T(){return(0,o.Dv)(w)}function k(e){let t=(0,i.I0)(),n=r.useCallback(e=>{t(m.v({[j]:e}))},[t]),a=r.useCallback(()=>{n(!0),e()},[n,e]),o=r.useCallback(()=>{t(_.fv({view:"recentsAndSharing"}))},[t]);return{onAcknowledge:a,onClose:r.useCallback(()=>{n(!1),o()},[n,o])}}function C(){let e=T(),{figmakeInFullscreen:t}=(0,v.MW)(),n=(0,h.j)(),{show:i,isShowing:o,complete:l}=(0,p.I)({overlay:b.NO$,priority:x.b.HIGH_PRIORITY_MODAL-1},[e]),{onAcknowledge:s,onClose:_}=k(l);return r.useEffect(()=>{t||n||i({canShow:e=>!e&&!1})},[t,n,i,!1]),(0,a.jsx)(g.zR,{description:(0,d.tx)("figmake.legal_onboarding_modal.body"),disclaimerFooter:(0,a.jsx)(E,{}),isShowing:o,media:(0,a.jsx)(N,{}),onClose:_,preventUserClose:!0,primaryCta:{type:"button",label:(0,a.jsx)(c.x,{fontSize:11,children:(0,d.tx)("figmake.legal_onboarding_modal.try_figmake_button")}),onClick:s,ctaTrackingDescriptor:u.y.NEXT},secondaryCta:{type:"button",label:(0,d.tx)("figmake.legal_onboarding_modal.back_to_files"),onClick:_,ctaTrackingDescriptor:u.y.CLOSE},title:(0,a.jsx)(I,{}),trackingContextName:"Rev Onboarding > Terms of Service"})}function N(){return(0,a.jsx)(s.oG,{src:(0,l.o1)("d158cef30c1ce26cce260c1051ecdf35dd527c94"),alt:"Figma Rev Terms of Service",width:332})}function I(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{...{className:"xeq5yr9 xod5an3"},children:(0,a.jsx)(y.t,{})}),(0,d.tx)("figmake.legal_onboarding_modal.title")]})}function E(){return null}},87529:function(e,t,n){n.d(t,{d:()=>I});var a=n(750357),r=n(853505),i=n(577851),o=n(492342),l=n(363240);n(607906);var s=n(574059),d=n(342534),c=n(484299),_=n(122610),m=n(590914),u=n(225094),p=n(733265);if(9793==n.j)var f=n(871567);var x=n(621298),g=n(13021);if(9793==n.j)var h=n(479852);var b=n(118960),v=n(798649);if(9793==n.j)var y=n(940358);var j=n(281310),w=n(417027);if(9793==n.j)var T=n(864244);var k=n(105682);let C=9793==n.j?{button:{kaIpWk:"x1sxf85j",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"xu5wzci",kMwMTN:"x1tk3asg",k1xSpc:"x78zum5",kAzted:"x21xpn4",k8WAf4:"xla58y3",kLKAdn:null,kGO01o:null,kg3NbH:"xaope02",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kGNEyG:"x6s0dn4",k9WMMc:"x2b8uid",kMv6JI:"xclx6tv",kGuDYH:"x17akokd",kKX8nH:"x1j61x8r",k63SB2:"x1qxcl5b",kLWn49:"xno9bf3",kb6lSQ:"xqp8s7e",$$css:!0}}:null;function N(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{...{className:"xeq5yr9 xod5an3"},children:(0,a.jsx)(T.t,{})}),(0,m.tx)("figmake.marketing_modal.body")]})}function I(){let e=(0,k.CA)(),t=(0,o.BZ)().marketing_promo_modal_figmake_launch,n=(0,i.v9)(e=>e.user?.drafts_folder_id),{data:s,status:c}=(0,_.RY)(n),T=!!s?.canCreateFigmakeFileWithReasons.result,I=(0,b.Mz)("FigmakePromoModalOverlay"),S=I.unwrapOr(null)?.tier||null,O=S&&([h.Lz.PRO,h.Lz.ORG,h.Lz.ENTERPRISE].includes(S)||S===h.Lz.STARTER&&(0,o.BZ)().bake_starter_limit),A=(0,l.Dv)(g.JT),D=(0,d.yf)(),R=(0,p.r)({isDraftsFolder:!0,editorType:h.gg.FIGMAKE,newFileFrom:v.L7.FIGMAKE_PROMO_MODAL,contextClicked:"figmake_marketing_modal"}),{show:P,isShowing:B,complete:M}=(0,x.I)({overlay:w.S3t,priority:y.b.DEFAULT_MODAL},[e,A]),{onAcknowledge:L}=(0,k.fO)(M);return r.useEffect(()=>{!0===t&&T&&O&&P({canShow:(e,t)=>(S!==h.Lz.STARTER||!!function(e){let t=Date.now();return e.getTime()<=t-864e5}(t))&&!D&&!e})},[P,t,T,O,S,D]),(0,a.jsx)(j.zR,{closeButtonColor:"dark",description:(0,m.tx)("figmake.marketing_modal.subtitle"),disclaimerFooter:(0,a.jsx)(k.oJ,{}),isShowing:B,media:(0,a.jsx)(E,{}),onClose:M,primaryCta:{type:"button",label:(0,a.jsx)(u.x,{children:(0,m.tx)("figmake.marketing_modal.button")}),onClick:()=>{L(),R()},ctaTrackingDescriptor:f.y.OPEN_FIGMAKE,variantOverride:"custom",customVariantStyles:C.button},title:(0,a.jsx)(N,{}),trackingContextName:"Figmake Promo Modal",trackingProperties:{planTier:S}})}function E(){return(0,a.jsx)("div",{...{className:"x165vjil x14ggrba"},children:(0,a.jsx)(c.oG,{src:(0,s.o1)("0b908885241f3422b8940078d7f3be979a8fece0"),alt:"Figma Make promotional image",width:332})})}},815306:function(e,t,n){n.d(t,{BO:()=>h,VT:()=>T,e5:()=>g,iP:()=>b,rY:()=>x});var a,r,i=n(750357),o=n(853505),l=n(577851),s=n(53022),d=n.n(s),c=n(209213),_=n(128517),m=n(242802),u=n(976163),p=n(64336),f=n(156492),x=((a=x||{})[a.FULL=0]="FULL",a[a.ADD_ONLY=1]="ADD_ONLY",a),g=((r=g||{})[r.TILE_CONTENT=0]="TILE_CONTENT",r[r.TILE_POST=1]="TILE_POST",r[r.DETAIL_POST=2]="DETAIL_POST",r[r.DETAIL_COMMENT_NO_REACTION=3]="DETAIL_COMMENT_NO_REACTION",r[r.DETAIL_COMMENT_WITH_REACTION=4]="DETAIL_COMMENT_WITH_REACTION",r[r.FILE_POPOVER=5]="FILE_POPOVER",r);function h(e){let t=(0,l.I0)(),n=(0,m.xJ)(),{existingReactionIdForCurrentUser:a}=j(e.feedReactions,n),r=o.useCallback(({emoji:n,addOnly:r})=>{let i=a(n);i?r||t(c.oZ({feedPostUuid:e.postUuid,emoji:n,reactionId:i})):t(c.FK({feedPostUuid:e.postUuid,feedPostId:e.postId,emoji:n}))},[t,a,e.postUuid,e.postId]);return(0,i.jsx)(v,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:r,feedResource:{type:"post",id:e.postUuid},feedReactions:e.feedReactions})}function b(e){let t=(0,l.I0)(),n=(0,m.xJ)(),{existingReactionIdForCurrentUser:a}=j(e.feedReactions,n),r=o.useCallback(({emoji:n,addOnly:r})=>{let i=a(n);i?r||t(c.t8({commentUuid:e.commentUuid,emoji:n,reactionId:i})):t(c.ax({commentUuid:e.commentUuid,commentId:e.commentId,emoji:n}))},[t,a,e.commentUuid,e.commentId]);return(0,i.jsx)(v,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:r,feedResource:{type:"comment",id:e.commentUuid},feedReactions:e.feedReactions})}function v(e){let t=(0,m.xJ)(),{toggleReaction:n}=e,{reactionsWithSelected:a}=j(e.feedReactions,t),r=o.useCallback((e,t)=>{t.stopPropagation(),n({emoji:e.emoji,addOnly:!1})},[n]),l=o.useCallback(e=>{n({emoji:e,addOnly:!0})},[n]),s=(0,i.jsx)(y,{type:e.type,feedResource:e.feedResource,source:e.source,onAddReaction:l,hideAddReactionButton:e.hideAddReactionButton});return 1===e.type?s:(0,i.jsx)("div",{className:f.QY,children:(0,i.jsx)(p.XS,{reactions:a,collapseOverflow:!1,onClickExisting:r,prependToList:e.prependToList,children:s})})}function y(e){let t=o.useRef(null),{isReactionPickerVisible:n,toggleReactionPicker:a,emojiPicker:r}=k(e.feedResource,e.source,t,e.onAddReaction);return e.hideAddReactionButton&&!n?(0,i.jsx)("div",{className:f.dU}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:t,className:d()(1===e.type?f.As:f.k3),children:(0,i.jsx)(p.Uk,{onClick:a,selected:n,styleClassName:f.dU,selectedStyleClassName:f.Gl})}),n&&r]})}let j=(e,t)=>{let n=o.useMemo(()=>{let n={};if(!t)return n;for(let a of e)a.user.id===t.id&&(n[a.emoji]=a.id);return n},[e,t]),a=o.useCallback(e=>n[e],[n]);return{reactionsWithSelected:o.useMemo(()=>{let t={};for(let n of e){let{emoji:e,user:r,createdAt:i}=n;t[e]||(t[e]={emoji:e,users:[],selected:!!a(e),createdAt:i.getTime(),skinTonesToUsers:{}}),t[e].createdAt=Math.min(t[e].createdAt,i.getTime()),t[e].users.push({handle:r.handle,id:r.id,img_url:r.imgUrl})}return Object.values(t).sort((e,t)=>e.createdAt-t.createdAt||e.emoji.localeCompare(t.emoji))},[e,a]),existingReactionIdForCurrentUser:a}},w=(e,t)=>`FEED_TILE_EMOJI_PICKER-${e}${t?`-${t}`:null}`;function T(e,t){return(0,_.xN)(w(t,e?.id)).showing}let k=(e,t,n,a)=>{let r=(0,_.xN)(w(t,e?.id)),l=o.useCallback(e=>{a(e.shortcodes),r.hide()},[r,a]),s=n.current&&(0,i.jsx)(u.y,{onInsert:l,onCancel:r.hide,targetRect:n.current.getBoundingClientRect()});return{isReactionPickerVisible:r.showing,toggleReactionPicker:r.toggle,emojiPicker:s}}},480040:function(e,t,n){n.d(t,{$9:()=>b,KE:()=>y,Le:()=>v});var a,r=n(750357),i=n(853505),o=n(577851),l=n(444947),s=n(681768),d=n(879370),c=n(590914),_=n(469271),m=n(209213),u=n(242802),p=n(118960),f=n(712824),x=n(155969),g=n(343216);let h=(0,f.Y3)(function(e){let t=(0,c.tx)("fig_feed.delete_confirmation");return e.numComments&&e.numReactions?t=(0,c.tx)("fig_feed.delete_confirmation_with_comments_and_reactions",{numCommentsAndReactions:e.numComments+e.numReactions}):e.numComments?t=(0,c.tx)("fig_feed.delete_confirmation_with_comments",{numComments:e.numComments}):e.numReactions&&(t=(0,c.tx)("fig_feed.delete_confirmation_with_reactions",{numReactions:e.numReactions})),(0,r.jsx)(x.Jd,{destructive:!0,confirmationTitle:(0,c.tx)("fig_feed.delete_post"),confirmText:(0,c.tx)("fig_feed.delete"),onConfirm:e.onConfirm,popStack:!0,children:(0,r.jsx)("p",{children:t})})},"PostConfirmDeleteModal");var b=9793==n.j?((a=b||{}).USER="user_post_context_menu",a.SYSTEM="system_post_context_menu",a):null;function v(e){let t=(0,o.I0)(),n=i.useCallback(()=>t(m.cV()),[t]),{feedPost:a}=e,{canDelete:f,canAdminDelete:x}=(e=>{let t=(0,u.xJ)(),n=(t&&t.id===e.creator.id)??!1,a=(0,p.Rt)("useUserPostPermissions");return{canDelete:n,canAdminDelete:(0,p.N1)(a).unwrapOr(!1)}})(a),b=a.comments.length,v=a.reactions.length,j=i.useCallback(()=>{t((0,_.VG)()),s.ZP.del(`/api/feed_posts/post_uuid/${a.publicUuid}`).then(()=>{(0,l.L9)("Team Feed Post Deleted",{postUuid:a.publicUuid}),n()})},[t,a.publicUuid,n]),w=i.useCallback(()=>{t((0,_.K4)({type:h,data:{onConfirm:j,numComments:b,numReactions:v},showModalsBeneath:!0}))},[t,j,b,v]);if(!f&&!x)return null;let T=f?(0,c.tx)("fig_feed.delete_ellipsis"):(0,c.tx)("fig_feed.delete_admin_ellipsis"),k=[(!!f||!!x)&&(0,r.jsx)(d.Wx,{onClick:w,children:T},"delete")];return(0,r.jsx)(g.n,{dropdownId:y("user_post_context_menu",e.feedPost.publicUuid,e.source),options:k,hideTarget:e.hideTarget,lean:"left",maxWidth:120})}let y=(e,t,n)=>e+t+n},220722:function(e,t,n){n.d(t,{K5:()=>T});var a=n(750357),r=n(853505),i=n(577851),o=n(486020),l=n(944365),s=n(467827),d=n(574059),c=n(555792),_=n(590914),m=n(996373),u=n(121142),p=n(190743),f=n(549129),x=n(479852),g=n(798649),h=n(954703),b=n(421177);function v(e){switch(e){case"developer":return{title:(0,_.tx)("whiteboard.whats_new.diagram.title"),carousel:[(0,d.o1)("d17ad024cc18607d4a8b1a00d5e2c2d9c33f7124"),(0,d.o1)("6c43de4a393f0c6a62c810c9e624475937af46b1"),(0,d.o1)("39e86727a54bf46978d4893784240e752197b537")],body:(0,_.tx)("whiteboard.whats_new.engineer.control.body")};case"researcher":return{title:(0,_.tx)("whiteboard.whats_new.workshop.title"),carousel:[(0,d.o1)("3875dfbdfc499dfc81addcc2cb4c425432e4d83c"),(0,d.o1)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,d.o1)("d32d06accd71ec34d461ebeb0683d372ce3c4e86")],body:(0,_.tx)("whiteboard.whats_new.research.control.body")};case"designer":return{title:(0,_.tx)("whiteboard.whats_new.brainstorm.title"),carousel:[(0,d.o1)("86daaf50ff13c8defd9b675fbfabffe8fe2b6913"),(0,d.o1)("4d374f6472949a2b2b6428ea45e6e09d4608b5b2"),(0,d.o1)("532f390ae672946525645d4b0bdaaf4d84a2d1e5")],body:(0,_.tx)("whiteboard.whats_new.design.control.body")};case"marketer":return{title:(0,_.tx)("whiteboard.whats_new.workshop.title"),carousel:[(0,d.o1)("86daaf50ff13c8defd9b675fbfabffe8fe2b6913"),(0,d.o1)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,d.o1)("5828c6e302bd2cf83170176485c5cae9a7e09fa9")],body:(0,_.tx)("whiteboard.whats_new.marketing.control.body")};case"product-manager":return{title:(0,_.tx)("whiteboard.whats_new.meeting.title"),carousel:[(0,d.o1)("07a2696df083d2dcbbc25f3c1b184c88b72ed4a6"),(0,d.o1)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,d.o1)("d42ae46e1e5c846580f4cfa3d275a0a4fde6c482")],body:(0,_.tx)("whiteboard.whats_new.product.control.body")};default:return{title:(0,_.tx)("whiteboard.whats_new.diagram.title"),carousel:[(0,d.o1)("c58d5f4a37c974b72777d0d482b5e168819ed339"),(0,d.o1)("87363e4551c98cc4dd5c2eb17c8a1c216b4df558"),(0,d.o1)("17e4b5731b359b5da1cc9498bee8d19a574ecb39")],body:(0,_.tx)("whiteboard.whats_new.other.control.body")}}}function y(){let e=v((0,p.f)({rolesToDefaultToOther:["education"]})).carousel,t=(0,r.useRef)(null),[n,i]=(0,r.useState)(1),o=(0,r.useCallback)(()=>(t.current&&(1===n?t.current.style.transition="none":t.current.style.transition="transform 0.4s ease-in-out"),n===2*e.length-2)?i(1):i(e=>e+1),[e.length,n]);return(0,r.useEffect)(()=>{setTimeout(()=>{setTimeout(()=>{o(),t.current&&(t.current.style.transform=`translateX(-${210*n-45}px)`)},1===n?400:3e3)},0)},[n,o,45]),(0,a.jsx)("div",{className:"whats_new_v2_carousel--carouselContainer--VSzVl",children:(0,a.jsxs)("div",{className:"whats_new_v2_carousel--slideTrack--o8RtL",ref:t,children:[(0,a.jsx)("img",{src:e[2],alt:"clone of last thumbnail"}),(0,a.jsx)("img",{src:e[0],alt:"first thumbnail"}),(0,a.jsx)("img",{src:e[1],alt:"second thumbnail"}),(0,a.jsx)("img",{src:e[2],alt:"last thumbnail"}),(0,a.jsx)("img",{src:e[0],alt:"clone of first thumbnail"}),(0,a.jsx)("img",{src:e[1],alt:"clone of second thumbnail"})]})})}let j=(0,d.o1)("d67cccad0bd5d4d8f50d8cac15b5ed848027e0a8"),w=(0,d.o1)("f9217dd1dac2a765d218e1de9eb6fcbb32a454ec");function T(e){let t=(0,i.I0)(),n=(0,f.J)(),o=(0,p.f)({rolesToDefaultToOther:["education"]}),[l,d]=r.useState(!0),T=`Design to FigJam What's New v2 > ${o} > ${e.context}`,{title:C,body:N}=v(o),{onClose:I}=e,E=(0,r.useCallback)(()=>{t(u.v({dont_show_figjam_updates_in_figma_design:!l})),I()},[l,t,I]);return(0,a.jsx)(h.d,{trackingContextName:T,position:b.X.BOTTOM_RIGHT,title:C,onClose:E,description:N,media:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:w,alt:"",className:"whats_new_v2--newBadge--KQs1z"}),(0,a.jsx)("img",{src:j,alt:"",className:"whats_new_v2--peaceIcon--tu8j2"}),(0,a.jsx)(y,{})]}),overrideFooter:(0,a.jsxs)("div",{className:"whats_new_v2--ctaRow--2eaSS",children:[(0,a.jsx)(s.U,{brand:"whiteboard",children:(0,a.jsx)(c.XT,{onClick:()=>{E(),t(u.v({interacted_figjam_whats_new_v2_cta:!0})),t(m.ae({state:n,editorType:x.gg.WHITEBOARD,team:void 0,from:g.L7.FIGJAM_WHATS_NEW_MODAL,openNewFileIn:g.JD.NEW_TAB}))},children:(0,_.tx)("rcs.whats_new_in_figjam.try_fig_jam")})}),"editor"===e.context&&(0,a.jsx)("div",{className:"whats_new_v2--checkboxRow--6SmIk",children:(0,a.jsx)(k,{checked:l,setChecked:()=>d(!l)})})]}),userFlagOnShow:"seen_whats_new_v2_modal",isShowing:e.isShowing})}function k({checked:e,setChecked:t}){return(0,a.jsx)(o.X,{label:(0,a.jsx)(l._,{children:(0,_.t)("rcs.whats_new_in_figjam.show_fig_jam_updates")}),checked:e,onChange:t})}},931821:function(e,t,n){n.d(t,{g:()=>o});var a=n(370273),r=n(853505),i=n(750357);let o=(0,r.memo)(function(e){return(0,a.s)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16.354 13.854a.5.5 0 0 1-.708 0L12 10.207l-3.646 3.647a.5.5 0 0 1-.708-.708l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M15.854 13.854a.5.5 0 0 1-.708 0L11.5 10.207l-3.646 3.647a.5.5 0 0 1-.708-.708l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708",clipRule:"evenodd"})})})},985727:function(e,t,n){n.d(t,{o:()=>i});var a=n(853505),r=n(750357);let i=(0,a.memo)(function(e){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,r.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8 6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V9.5a.5.5 0 0 0-1 0V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h3a.5.5 0 0 0 0-1zm9 0a5.5 5.5 0 0 0-5.5 5.5v1.793l-1.646-1.647a.5.5 0 0 0-.708.708l2.5 2.5a.5.5 0 0 0 .708 0l2.5-2.5a.5.5 0 0 0-.708-.708L12.5 13.293V11.5A4.5 4.5 0 0 1 17 7h.5a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})})},19894:function(e,t,n){n.d(t,{h:()=>i});var a=n(853505),r=n(750357);let i=(0,a.memo)(function(e){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,r.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6 6h12a1 1 0 0 1 1 1v3H5V7a1 1 0 0 1 1-1m-1 5v6a1 1 0 0 0 1 1h3v-7zm5 7h8a1 1 0 0 0 1-1v-6h-9zM4 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",clipRule:"evenodd"})})})},433557:function(e,t,n){n.d(t,{z:()=>o});var a=n(370273),r=n(853505),i=n(750357);let o=(0,r.memo)(function(e){return(0,a.s)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.722 7.5h.414l.293-.293.935-.935a.9.9 0 0 1 1.272 0l.935.935.293.293H15.6a.9.9 0 0 1 .9.9v1.736l.293.293.935.935a.9.9 0 0 1 0 1.272l-.935.935-.293.293V15.6a.9.9 0 0 1-.9.9h-1.736l-.293.293-.934.934a.9.9 0 0 1-1.273 0l-.935-.934-.293-.293H8.4a.9.9 0 0 1-.9-.9v-1.736l-.293-.293-.934-.935-.708.708.708-.708a.9.9 0 0 1 0-1.272l.934-.935.293-.293V8.4a.9.9 0 0 1 .9-.9zm-4.157 3.156a1.9 1.9 0 0 0 0 2.688l.935.934V15.6c0 1.05.85 1.9 1.9 1.9h1.322l.935.935a1.9 1.9 0 0 0 2.687 0l.934-.935H15.6a1.9 1.9 0 0 0 1.9-1.9v-1.322l.935-.934a1.9 1.9 0 0 0 0-2.687l-.935-.935V8.4a1.9 1.9 0 0 0-1.9-1.9h-1.322l-.934-.935a1.9 1.9 0 0 0-2.687 0l-.935.935H8.4a1.9 1.9 0 0 0-1.9 1.9v1.322zm7.351-1.379a.5.5 0 1 0-.832-.554l-2 3a.5.5 0 0 0 .416.777h2.066l-1.482 2.223a.5.5 0 1 0 .832.554l2-3a.5.5 0 0 0-.416-.777h-2.066z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.22 6.997h.413l.293-.293.934-.935a.9.9 0 0 1 1.273 0l.935.935.292.293h1.737a.9.9 0 0 1 .9.9v1.736l.293.293.934.935a.9.9 0 0 1 0 1.272l-.934.935-.293.293v1.736a.9.9 0 0 1-.9.9H13.36l-.293.293-.935.935a.9.9 0 0 1-1.272 0l-.936-.936-.293-.292H7.898a.9.9 0 0 1-.9-.9V13.36l-.293-.293-.935-.935a.9.9 0 0 1 0-1.272l.935-.935.293-.293V7.897a.9.9 0 0 1 .9-.9zm0-1 .933-.935a1.9 1.9 0 0 1 2.687 0l.935.935h1.322c1.05 0 1.9.85 1.9 1.9v1.322l.935.934a1.9 1.9 0 0 1 0 2.688l-.935.934v1.322a1.9 1.9 0 0 1-1.9 1.9h-1.322l-.935.935a1.9 1.9 0 0 1-2.687 0l-.935-.935H7.897a1.9 1.9 0 0 1-1.9-1.9v-1.322l-.935-.934a1.9 1.9 0 0 1 0-2.687l.935-.935V7.897c0-1.05.85-1.9 1.9-1.9zm3.193 2.78a.5.5 0 0 0-.832-.554l-2 3a.5.5 0 0 0 .416.777h2.066l-1.482 2.223a.5.5 0 1 0 .832.554l2-3a.5.5 0 0 0-.416-.777H10.93z",clipRule:"evenodd"})})})}}]);

//# debugId=ee944f37-99d8-57b2-bf71-ca9f9458af8a

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/77e34831a4d703b443d92ab77e249d713bf08808/390-4c69f70a7bcf610f.min.js.map