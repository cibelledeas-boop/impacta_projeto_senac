"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8b250931-6d87-55a5-be2a-3cc6b1b73b1b")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["3990"],{174496:function(e,t,i){i.d(t,{Si:()=>l,Ul:()=>u,_E:()=>m});var n=i(641857),a=i(389981);if(9793==i.j)var r=i(424642);var o=i(330153);function l(e){let{consumedVariable:t}=(0,o.tN)([e]);return!t||(0,r.nK)(t)||t.type!==n.M6J.CMS_ALIAS||t.resolvedType!==n.QC$.LINK?"":t.value.collectionId}function s(e){let t=(0,a.getActiveTSSceneGraph)().get(e);if(!t)return null;let i=t?.getVariableConsumptionMap()?.HYPERLINK;return!i||i.isMixed||i.type!==n.M6J.CMS_ALIAS?null:i.value.fieldSchemaId}function c(e){let t=(0,a.getActiveTSSceneGraph)().get(e);if(!t)return null;let i=t.prototypeInteractions.find(e=>e.event?.interactionType==="ON_CLICK");return i&&i.actions&&1===i.actions.length?i.actions[0]?.linkParam?.value?.cmsAliasValue?.fieldId??null:null}function d(e,t){let i=Object.keys(e);if(0===i.length)return null;let n=i[0];if(!n)return null;let a=t(n);return a&&i.every(e=>e===n||t(e)===a)?a:null}function u(e){return d(e,s)}function m(e){return d(e,c)}},116085:function(e,t,i){i.d(t,{P:()=>G});var n=i(750357),a=i(853505),r=i(577851),o=i(311019),l=i(193447),s=i(967832),c=i(29260),d=i(921988),u=i(80415),m=i(388136),_=i(444947),f=i(202410),p=i(45190),h=i(484299),x=i(259946),b=i(558089),v=i(232656),w=i(590914),k=i(491420),g=i(469271),j=i(734835),y=i(516670),T=i(695038),C=i(576643),N=i(152909),A=i(242802),B=i(10553),D=i(300413),I=i(256937),R=i(627325),P=i(168669),E=i(436048),F=i(956887),M=i(265490),S=i(295604),O=i(644078);let L="thread_view--column--lzuCC",U="thread_view--fileName--R5q0r",H="thread_view--headerButton--olwf9",V=new class{get file(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get fileFollower(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get comments(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}},q=null,G=(0,a.forwardRef)((e,t)=>{let i=(0,p.DG)(B.OUS,{fileKey:e.quickReplyInfo.fileKey,rootId:e.quickReplyInfo.threadId});return(0,n.jsx)("div",{className:"thread_view--container--cTKy7",ref:t,children:(0,n.jsxs)("div",{className:L,children:[(0,n.jsxs)("div",{className:"thread_view--header--09jNq",children:[(0,n.jsx)("div",{className:H,children:!e.fileBrowser&&(0,n.jsx)(v.S,{"aria-label":(0,w.t)("quick_reply.navigate_back"),onClick:e.onClose,children:(0,n.jsx)(s.C,{})})}),e.fileBrowser?(0,n.jsx)("div",{className:U,children:"loaded"===i.status&&i.data.file&&i.data.file.name}):(0,n.jsx)("h2",{className:U,children:"loaded"===i.status&&i.data.file&&i.data.file.name}),(0,n.jsx)("div",{className:H,children:e.fileBrowser?(0,n.jsx)(v.S,{"aria-label":(0,w.t)("quick_reply.close"),onClick:e.onClose,children:(0,n.jsx)(c.t,{})}):(0,n.jsx)("div",{style:{display:"none"},children:(0,n.jsx)(v.S,{"aria-label":(0,w.t)("quick_reply.more"),children:(0,n.jsx)(d.O,{})})})})]}),(0,n.jsx)(z,{quickReplyInfo:e.quickReplyInfo,result:i,inFileBrowser:e.fileBrowser})]})})});function z(e){let t=(0,A.xJ)();return t?"loading"===e.result.status||"disabled"===e.result.status?(0,n.jsx)(x.jz,{size:"medium"}):"errors"===e.result.status||null==e.result.data.file?(0,n.jsx)("div",{className:"thread_view--errorState--7WP7h",children:(0,w.t)("quick_reply.unable_to_load_thread")}):(0,n.jsx)(W,{quickReplyInfo:e.quickReplyInfo,result:e.result,user:t,inFileBrowser:e.inFileBrowser}):null}function W(e){let{quickReplyInfo:t,result:i,user:l}=e,{fileKey:s,threadId:c}=t,d=(0,T.oK)({args:{fileKey:s,rootId:c},subscription:i}),m=(0,r.I0)(),{file:p}=i.data,x=(0,a.useMemo)(()=>(0,D.$g)({currentOrgId:p.parentOrgId,teamId:p.teamId,fileKey:s,users:[]}),[p.parentOrgId,p.teamId,s]),{mobileCommentThread:b}=p,{currentUserCommentReadStatus:k}=p,g=b.find(e=>e.id===c),A=a.useMemo(()=>b.reduce((e,t)=>t.createdAt.getTime()>e.createdAt.getTime()?t:e).thumbnailUrl,[b]),B=(0,r.v9)(e=>e.comments.savingCommentUuids),I=(0,r.v9)(e=>e.comments.lgPendingUuidToServerIdMap);if(!g)return(0,n.jsx)("div",{children:(0,w.t)("quick_reply.unable_to_load_thread")});let R=b.map(e=>(0,C.NO)(l.id,g,e,k??C.fh,B,I,e.attachments)),P={id:g.id,key:s,anchored:!1,canvasPosition:null,selectionAnchorCanvasPosition:null,comments:R,messageMeta:R[0].message_meta,page:g.clientMeta?.pageId||null,isActive:!0,replyCount:b.length-1,isCanvasMention:!1,pageName:g.clientMeta?.pageId||null,sidebarItemType:N.hL.COMMENT_THREAD},E={api:d,status:i.status,data:V,threads:{status:i.status,data:[P],errors:i.errors},errors:i.errors,isResolvedLoaded:!0,isUnresolvedLoaded:!0};return(0,n.jsx)(y.x8,{value:E,children:(0,n.jsxs)("div",{className:"thread_view--mouseContainer--SW4DP",onMouseEnter:()=>{let e=R.some(e=>e.isUnread);q=setTimeout(()=>{d.commentReceipts&&e&&(m(j.rR({receiptsAPI:d.commentReceipts,thread:P})),(0,_.L9)("Comment Thread Read",{commentThreadId:c,threadType:"file_browser_quick_reply"}))},1e3)},onMouseLeave:()=>{q&&clearTimeout(q)},children:[(0,n.jsxs)("div",{className:"thread_view--preview--N6rm9",children:[(0,n.jsx)(f.R,{children:(0,n.jsx)(h.oG,{src:A||void 0,className:"thread_view--previewImage--OqH10",style:{backgroundColor:(0,o.fileBackgroundColor)(p.checkpointClientMeta)},alt:"thumbnail"})}),(0,n.jsx)("div",{className:"thread_view--openFileButton--rVjXS",children:(0,n.jsx)(v.S,{"aria-label":(0,w.t)("quick_reply.open_file"),onClick:()=>{let e=t.deeplink??`/file/${s}?fuid=${l.id}&#${c}`;window.location.href=e},children:(0,n.jsx)(u.M,{})})})]}),(0,n.jsx)(Z,{loadedComments:R,user:l,quickReplyInfo:t,commentMentionables:x,inFileBrowser:e.inFileBrowser})]})})}function Z(e){let{loadedComments:t,user:i,quickReplyInfo:o,commentMentionables:s,inFileBrowser:c}=e,{fileKey:d,threadId:u}=o,_=(0,r.I0)();(0,a.useEffect)(()=>{_(j.Iv({threadId:u}))},[_,u]);let f=(0,r.v9)(e=>e.comments.typeahead),p=(0,r.v9)(e=>e.comments.editingComment),h=(0,r.v9)(e=>e.comments.activeThread?.id),x=(0,r.v9)(e=>e.comments.threads),v=h&&x[h]||null,T=v?.reply.messageMeta||[],{submitReply:C,updateMessage:A,submitEdit:B}=function(e){let t=(0,r.I0)(),i=(0,y.Wj)().writeAPI,n=(0,y.O7)()?.threads,o=a.useCallback(e=>{if(!i)return void console.error("Calling submitReply with no write API");n&&"loaded"===n.status&&n.data.find(t=>t.id===e.threadId)&&(e.onCommentValidationFailure=(n,a,r,o)=>j.ei(i,t,n,a,r,o,e.uuid,S.V),t(j.Xi({...e,commentsWriteApi:i,commentsConfiguration:S.V,trackingContext:{feature:"web_quick_reply_screen"}})))},[t,n,i]);return{submitReply:o,updateMessage:a.useCallback(i=>{t(j.pp({threadId:e,messageMeta:i}))},[t,e]),submitEdit:a.useCallback((e,i)=>{t(j.cC({comment:e,messageMeta:i}))},[t])}}(u),D=(0,R.ji)(),U=a.useRef(null),H=a.useRef(null),V=a.useRef(null),[q,G]=a.useState(null),[z,W]=a.useState(a.useRef(null)),Z=a.useRef(null),X=0,K=0,Y=0;Z.current&&Z.current.offsetParent&&(X=Z.current.offsetWidth,K=Z.current.offsetLeft,Y=Z.current.offsetParent.clientHeight-Z.current.offsetTop);let $=e=>e||{x:0,y:0},J=a.useRef(null);(0,a.useEffect)(()=>{J.current&&J.current.scrollToBottom()},[]);let Q=(0,a.useCallback)(e=>{_((0,g.K4)({type:M.f,data:{comment:e,onConfirm:()=>{_(j.d0({comment:e}))}}}))},[_]),ee=[...new Set(t.map(e=>e.user.handle))],et=t.find(e=>e.id===u);return et?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:k.sx.flex1.$}),(0,n.jsx)(b.l,{className:"thread_view--bottomAnchoredScrollContainer--MFvWn",useBottomPinning:!0,ref:J,enableScrollShadow:!0,children:(0,n.jsx)("div",{className:L,children:t.slice().map((e,a)=>(0,n.jsx)(P.n,{allowAttachments:!1,comment:e,dispatch:_,editingComment:p,editorOnClear:D.editorOnClear,editorOnInsert:D.editorOnInsert,editorRef:V,editorType:"comment-editor-thread",hideEmojiPicker:!1,hideReactions:!1,hideResolve:!1,hyperlinkLocation:q,index:a,isQuickReplyThreadView:!0,mentionables:s,mountInputFocused:!0,onDelete:Q,overflowMenuActions:c?[]:void 0,prevAuthor:0===a?null:t[a-1].user_id,setHyperlinkEditorRef:W,setHyperlinkLocation:G,setIsEditorFocused:l.ZT,setResolved:l.ZT,showEditedIndicator:!!e.edited_at,submitEdit:B,thread:{comments:t,key:d,id:u},threadPosition:{x:0,y:0},typeahead:f,user:i,viewportPositionFromClientPosition:$},`thread-comment-${e.id}`))})}),(0,n.jsx)(E.M,{allowAttachments:!1,authorNames:ee,className:O.Ip,dispatch:_,editingExistingComment:!1,editorOnClear:D.editorOnInsert,editorOnInsert:D.editorOnClear,editorRef:H,editorType:"comment-editor-reply",fileKey:d,hideEmojiPicker:!1,hyperlinkLocation:q,isDisabled:!1,isEmojiPickerDisabled:null!==p,mentionables:s,messageMeta:T,mountInputFocused:e.inFileBrowser??!1,onCancel:l.ZT,onComposeFocus:void 0,onSubmit:()=>{C({threadId:u,threadUuid:et.uuid||void 0,uuid:(0,m.k)()})},placeholderText:(0,w.t)("comments.reply"),recordingKey:N.PH.quickReply,replyContainerRef:Z,setHyperlinkEditorRef:W,setHyperlinkLocation:G,setIsEditorFocused:l.ZT,submitText:(0,w.t)("comments.reply"),threadId:u,threadPosition:null,typeahead:f,updateMessage:A,user:i,viewportPositionFromClientPosition:$}),(0,n.jsx)(I.ge,{decoratorsRef:U,onClear:D.onClear,onInsert:D.onInsert,width:X,direction:F.Vk.UPWARDS,positionFromBottom:{left:K,bottom:Y}})]}):null}},883574:function(e,t,i){i.d(t,{j:()=>c});var n=i(853505),a=i(577851),r=i(388136),o=i(45190),l=i(10553),s=i(761050);function c(){let e=n.useMemo(()=>(0,r.k)(),[]),t=(0,a.v9)(s.kL),i=(0,o.DG)(l.bf3,{cacheNonce:e});return n.useMemo(()=>{if("loaded"===i.status){let e=i.data?.lockClient;if(e)return e.lock}return t},[i,t])}},449179:function(e,t,i){i.d(t,{$:()=>l,EN:()=>o,ri:()=>s});var n,a,r,o=9793==i.j?((n=o||{})[n.eduRestrictedSitesBanner=0]="eduRestrictedSitesBanner",n[n.TestThemeBanner=1]="TestThemeBanner",n[n.TestWarningBanner=2]="TestWarningBanner",n[n.TestOOMBanner=3]="TestOOMBanner",n[n.TestInfoBanner=4]="TestInfoBanner",n[n.StarterTeamOverFreeLimitAndLocked=5]="StarterTeamOverFreeLimitAndLocked",n[n.EduGracePeriodAccessRestricted=6]="EduGracePeriodAccessRestricted",n[n.EduGracePeriodShowReminder=7]="EduGracePeriodShowReminder",n[n.OrphanedOrgDraftsFile=8]="OrphanedOrgDraftsFile",n[n.TeamAbandonedDraftsFile=9]="TeamAbandonedDraftsFile",n[n.TeamAdminOpenInvoiceReminder=10]="TeamAdminOpenInvoiceReminder",n[n.PersonalProjectDeprecatedFile=11]="PersonalProjectDeprecatedFile",n[n.ProTeamPastDue=12]="ProTeamPastDue",n[n.ProTeamChargeFailed=13]="ProTeamChargeFailed",n[n.ProTeamNoMonthlySubEditorCountExceeded=14]="ProTeamNoMonthlySubEditorCountExceeded",n[n.ProTrialsExpiryBanner=15]="ProTrialsExpiryBanner",n[n.MultiplayerSessionUpgrade=16]="MultiplayerSessionUpgrade",n[n.AdminI18nLocalWarnBanner=17]="AdminI18nLocalWarnBanner",n[n.FigJamTryDraftsBanner=18]="FigJamTryDraftsBanner",n[n.FigJamTryClaimBanner=19]="FigJamTryClaimBanner",n[n.CommunityResourceCTANuxBanner=20]="CommunityResourceCTANuxBanner",n[n.communityM10nApprovalBanner=21]="communityM10nApprovalBanner",n[n.communityM10nFinishSetupBanner=22]="communityM10nFinishSetupBanner",n[n.communityM10nAdtlInfoNeededBanner=23]="communityM10nAdtlInfoNeededBanner",n[n.communityResourceInReviewBanner=24]="communityResourceInReviewBanner",n[n.CommunityResourceCreatorBanner=25]="CommunityResourceCreatorBanner",n[n.ExternalContentControlBanner=26]="ExternalContentControlBanner",n[n.MemoryWarningBanner=27]="MemoryWarningBanner",n[n.MemoryErrorBanner=28]="MemoryErrorBanner",n[n.MemorySafeBanner=29]="MemorySafeBanner",n[n.AdminUserDisposableDomainWarningBanner=30]="AdminUserDisposableDomainWarningBanner",n[n.FileIsTeamTemplate=31]="FileIsTeamTemplate",n[n.DowntimeBanner=32]="DowntimeBanner",n[n.FreemiumPreviewBanner=33]="FreemiumPreviewBanner",n[n.FileCreationFailureBanner=34]="FileCreationFailureBanner",n[n.DevModePaywallBanner=35]="DevModePaywallBanner",n[n.DevModeInTrialBanner=36]="DevModeInTrialBanner",n[n.devModeStarterTrialBanner=37]="devModeStarterTrialBanner",n[n.DesktopDownloadBanner=38]="DesktopDownloadBanner",n[n.BrowserDeprecationBanner=39]="BrowserDeprecationBanner",n[n.FragmentTextSearchQualityBanner=40]="FragmentTextSearchQualityBanner",n[n.Gen1DesignViewerBanner=41]="Gen1DesignViewerBanner",n[n.DesktopDeprecationBanner=42]="DesktopDeprecationBanner",n[n.LoggedOutCta=43]="LoggedOutCta",n[n.SeatBillingTermsReminder=44]="SeatBillingTermsReminder",n[n.CooperOldFileBanner=45]="CooperOldFileBanner",n[n.InteropPagesBanner=46]="InteropPagesBanner",n[n.ForceClientReload=47]="ForceClientReload",n[n.TemplatePublishingNudgeBanner=48]="TemplatePublishingNudgeBanner",n[n.DevModeDemoFileUpsellBanner=49]="DevModeDemoFileUpsellBanner",n[n.OrderFormBillingTermsBanner=50]="OrderFormBillingTermsBanner",n[n.NonAdminBillingTermsBanner=51]="NonAdminBillingTermsBanner",n[n.OrgDowngradeBanner=52]="OrgDowngradeBanner",n[n.DevModeMCPSSEDeprecationBanner=53]="DevModeMCPSSEDeprecationBanner",n[n.SlotsEnablementReload=54]="SlotsEnablementReload",n[n.SupportShareWarningBanner=55]="SupportShareWarningBanner",n):null,l=9793==i.j?((a=l||{}).INFO="info",a.WARN="warn",a.SUCCESS="success",a.ERROR="error",a.WARN_SOFT="warn_soft",a.CONFIDENTIALITY="confidentiality",a.BRAND_STRONG="brand_strong",a.DANGER="danger",a.INFO_SOFT="info_soft",a.FPL_DEFAULT="fpl_default",a.FPL_DANGER="fpl_danger",a.FPL_BRAND="fpl_brand",a.FPL_SUCCESS="fpl_success",a.FPL_WARN="fpl_warn",a):null,s=9793==i.j?((r=s||{}).STRUCTURED="structured",r.CUSTOM="custom",r):null},821527:function(e,t,i){i.d(t,{FX:()=>_,GX:()=>d,Gk:()=>u,I5:()=>r,IQ:()=>o,Ue:()=>a,Zc:()=>m,Ze:()=>n,jI:()=>l,ss:()=>s,x1:()=>c});let n="new-design-file-button",a="new-figjam-file-button",r="new-slides-file-button",o="new-sites-file-button",l="new-cooper-file-button",s="new-figmake-file-button",c="search-input",d="recent-file-row",u="search-result",m="see-all-search-results",_="browse-more"},944279:function(e,t,i){i.d(t,{VH:()=>s,XU:()=>l,jv:()=>o});var n,a,r,o=9793==i.j?((n=o||{})[n.FEATURE_DISABLED=0]="FEATURE_DISABLED",n[n.READ_ONLY_FILE=1]="READ_ONLY_FILE",n):null,l=9793==i.j?((a=l||{})[a.MOBILE_NATIVE_NAVBAR=0]="MOBILE_NATIVE_NAVBAR",a):null,s=9793==i.j?((r=s||{})[r.BEGAN=0]="BEGAN",r[r.MOVED=1]="MOVED",r[r.ENDED=2]="ENDED",r[r.CANCELLED=3]="CANCELLED",r[r.MOVED_COALESCED=4]="MOVED_COALESCED",r):null},232656:function(e,t,i){i.d(t,{S:()=>o});var n=i(750357),a=i(853505),r=i(403706);let o=a.forwardRef(function({children:e,...t},i){return(0,n.jsx)(r.h,{...t,ref:i,className:"icon_button_32--iconButton--E0ZHG",children:(0,n.jsx)("span",{"aria-hidden":!0,className:"icon_button_32--icon---5uYV",children:e})})})},213806:function(e,t,i){i.d(t,{w:()=>r});var n=i(853505),a=i(193447);let r=n.createContext({onClick:()=>!1,toggleQuickReply:a.ZT,onMouseMove:a.ZT,onRemove:a.ZT,inDesktopTray:!1})},351201:function(e,t,i){i.d(t,{wm:()=>eQ,zN:()=>e0,c1:()=>n,WL:()=>e$,OL:()=>eJ});var n,a=i(750357),r=i(853505),o=i(577851),l=i(870102),s=i(210426),c=i(202066),d=i(303501),u=i(403706),m=i(53022),_=i.n(m),f=i(661897),p=i(880987),h=i(458780),x=i(991613),b=i(689342),v=i(681768),w=i(558089),k=i(590914),g=i(1093),j=i(453393),y=i(404639),T=i(70523),C=i(260251),N=i(62261),A=i(416792),B=i(764162),D=i(956964),I=i(242802),R=i(998324),P=i(218669),E=i(773103),F=i(7731),M=i(337),S=i(5929),O=i(309374),L=i(35896),U=i(410802),H=i(355002),V=i(501390),q=i.n(V),G=i(472922),z=i(574059),W=i(44332),Z=i(733791),X=i(842600),K=i(659461),Y=i(260016),$=i(5794),J=i(742420),Q=i(213806),ee=i(337341);let et="block_kit_row--rowContainer--e1-Q6",ei="block_kit_row--rowWidth--UCvuX",en="block_kit_row--metadataContainer--vz-3r",ea="block_kit_row--usersContainerStructuredView--Cu-gt",er="block_kit_row--quickReplyChevronContainerBase---hFMz",eo="block_kit_row--quickReplyChevronContainerDesktop--mircq block_kit_row--quickReplyChevronContainerBase---hFMz",el="block_kit_row--imagePreview--UQE30";function es(e){return`notification-${e.notification_id}`}function ec(e){return(0,a.jsx)("span",{className:"block_kit_row--htmlTextBlock--tGKuu",dangerouslySetInnerHTML:{__html:q().sanitize(e.block.html_text)}})}function ed(e){let t=(0,G.WG)(e.block.emoji_shortcode)[0];return t.meta?(0,a.jsx)("span",{className:"block_kit_row--emojiUnicode--eXGLS",children:t.unicode}):(0,a.jsx)(a.Fragment,{})}function eu(e){return e?e.map((e,t)=>"HtmlTextBlock"===e._block_type?(0,a.jsx)(ec,{block:e},t):(0,a.jsx)(ed,{block:e},t)):[]}function em(e){let{block:t,size:i}=e;return(0,a.jsx)($.Kn,{entity:{...t,id:t.entity_id},size:i,hideFallbackInitial:!1,shape:t.shape.toUpperCase()})}function e_(e){let{block:t}=e;return(0,a.jsx)("div",{className:`${el} thumbnail_DEPRECATED--tileThumbnail--NKIj6`,style:{background:`url(${(0,Y.Z)()})`},children:(0,a.jsx)("div",{className:"thumbnail_DEPRECATED--thumbnailContainer--OtJbl",style:{backgroundColor:(e=>{if(!e||0===e.alpha)return"transparent";let{red:t,green:i,blue:n,alpha:a}=e;return`rgba(${255*t|0}, ${255*i|0}, ${255*n|0}, ${a})`})(t.background_color)},children:(0,a.jsx)("div",{className:"thumbnail_DEPRECATED--thumbnail--5lUPd thumbnail_DEPRECATED--baseThumbnail--GkgtJ",style:{backgroundImage:`url(${t.img_url})`}})})})}function ef(e){let{block:t}=e;return(0,a.jsx)("div",{className:"block_kit_row--square--r4-LH",children:(0,a.jsx)("div",{className:el,style:{backgroundImage:`url(${t.img_url})`}})})}function ep(e){let{avatars:t,icon:i}=e;return 0===t.length?null:t.length>1?(0,a.jsxs)("div",{className:ea,children:[(0,a.jsx)("div",{className:"block_kit_row--secondaryUser--GfwAX",children:(0,a.jsx)(em,{block:t[1],size:K.DZ.MEDIUM})}),(0,a.jsx)("div",{className:"block_kit_row--primaryUser--gdi9o",children:(0,a.jsx)(em,{block:t[0],size:K.DZ.MEDIUM})}),i&&(0,a.jsx)(eh,{icon:i})]}):(0,a.jsxs)("div",{className:ea,children:[(0,a.jsx)(em,{block:t[0],size:K.DZ.LARGE}),i&&(0,a.jsx)(eh,{icon:i})]})}function eh(e){let{icon:t}=e,i=new Set([(0,z.o1)("fc8b3d0c889b51bd8800945089e8b473ff4d619d")]);return(0,a.jsx)("div",{className:"block_kit_row--icon--yvc2A",children:"ImageThumbnailBlock"===t._block_type?(0,a.jsx)("img",{className:`block_kit_row--iconImg--MdORE ${!i.has(t.img_url)?"block_kit_row--iconInvert--tcrGj":""} `,src:t.img_url,alt:""}):"ReacjiBlock"===t._block_type?(0,a.jsx)(ed,{block:t}):"AvatarBlock"===t._block_type?(0,a.jsx)(em,{block:t,size:K.DZ.SMALL16}):void 0})}function ex(e){let t=(0,o.I0)(),{block:i,callbacks:n,isPrimary:r=!0,isDisabled:l,setIsDisabled:s}=e,c=async e=>{try{s(!0);let a=(await n.buildNotificationActionRequest(i.notification_action)).data.meta.updated_notification_blob;e&&t(g.R.enqueue({message:e,error:!1,role:"status"})),i.hide_after_action?n.hideNotification():(n.followLinkIfPossible(),a&&n.updateNotification(a.notification_id,a))}catch(n){let e=n.message||("resolve"===i.notification_action?(0,k.t)("user_notification.an_error_occurred_while_clicking_this_notification"):(0,k.t)("user_notification.an_error_occurred_while_removing_this_notification"));t(Z.l.error(e))}finally{s(!1)}},d=eu([i.text]);return(0,a.jsx)(S.ps,{variant:r?"primary":"secondary",onClick:()=>{c(i.screenreader_action_success_announcement)},disabled:l,"aria-describedby":e.describedById,children:d})}function eb(e){let{block:t,actionBlockCallbacks:i,describedById:n}=e,[o,l]=r.useState(!1);return(0,a.jsxs)("div",{className:"block_kit_row--rowBottom--xG8xA",children:[(0,a.jsx)(ex,{block:t.secondary_action,callbacks:i,isPrimary:!1,isDisabled:o,setIsDisabled:l,describedById:n}),(0,a.jsx)(ex,{block:t.primary_action,callbacks:i,isPrimary:!0,isDisabled:o,setIsDisabled:l,describedById:n})]})}function ev(e){let{block:t,plan:i,shouldShowChevron:n,userLastViewedTimestamp:r,inDesktopTray:o,openQuickReply:l}=e;switch(t._block_type){case"BodyAndThumbnailBlock":return(0,a.jsx)(ew,{block:t,plan:i,shouldShowChevron:n});case"SplitlineTitleAndBodyBlock":return(0,a.jsx)(ek,{block:t,shouldShowChevron:n,userLastViewedTimestamp:r,inDesktopTray:o,openQuickReply:l})}}function ew(e){let{block:t,plan:i,shouldShowChevron:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"block_kit_row--contentContainer--mCC0g text--fontPos11--rO47d text--_fontBase--VaHfk",children:(0,a.jsxs)("div",{className:"block_kit_row--content--GeQID",children:[(0,a.jsx)("div",{children:eu(t.title)}),(0,a.jsxs)("div",{className:en,children:[(0,a.jsxs)("div",{className:"block_kit_row--textContainer---LLlR",children:[t.description&&(0,a.jsx)("div",{className:"block_kit_row--notificationDescription--SgSPD ellipsis--ellipsisAfter3Lines--eBD0M ellipsis--_ellipsisAfterNLines--5f-ox",children:eu(t.description)}),(0,a.jsxs)("div",{className:"block_kit_row--fromNow--Mp-be",children:[i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.E,{entityId:i.id.toString(),entityName:i.name,imgUrl:i.img_url||void 0}),(0,P.OI)(i.name,21),(0,a.jsx)("div",{className:"block_kit_row--planDivider--pr3-5",children:"\xb7"})]}),(0,a.jsx)(W.Lt,{date:t.created_at,style:"short"})]})]}),n&&(0,a.jsx)("div",{className:"block_kit_row--quickReplyChevron--79tbi",children:(0,a.jsx)(H.M,{})})]})]})}),(()=>{if(!t.thumbnail)return null;let e=t.thumbnail;switch(e._block_type){case"AvatarBlock":return(0,a.jsx)(em,{block:e,size:K.DZ.XLARGE});case"ImageThumbnailBlock":return(0,a.jsx)(ef,{block:e});case"FileThumbnailBlock":return(0,a.jsx)(e_,{block:e})}})()]})}function ek(e){let{block:t,shouldShowChevron:i,userLastViewedTimestamp:n,inDesktopTray:r,openQuickReply:o}=e;return(0,a.jsxs)("div",{className:"block_kit_row--contentContainerRevamp--4-XsW text--fontPos11--rO47d text--_fontBase--VaHfk",children:[(0,a.jsxs)("div",{className:"block_kit_row--titleAndTimestamp--oAOqq",children:[(0,a.jsx)("div",{className:"block_kit_row--title--wN-Cx",children:eu(t.title)}),(0,a.jsx)(eC,{createdAt:t.created_at,lastSeenTimestamp:n})]}),(0,a.jsxs)("div",{className:en,children:[(0,a.jsx)("div",{className:"block_kit_row--subtitle--vq-x-",children:eu(t.subtitle)}),t.description&&(0,a.jsx)("div",{className:"block_kit_row--notificationDescriptionStructuredView--XX-Rw ellipsis--ellipsisAfter3Lines--eBD0M ellipsis--_ellipsisAfterNLines--5f-ox",children:eu(t.description)}),i&&o&&(0,a.jsx)("div",{className:_()(r?eo:er,"block_kit_row--quickReplyGradient--AHjB2")})]})]})}function eg(e){let{notification:t}=e,i=(0,k.t)("user_notifications.unread_notifcation_sr");return(0,a.jsxs)("div",{className:_()("block_kit_row--rowTop--ZJJFO",ei),id:es(t),children:[t.is_unread?(0,a.jsx)("div",{className:"block_kit_row--unreadDotStructuredView--lGcxO"}):null,(0,a.jsx)(ep,{avatars:t.avatars,icon:t.icon}),t.is_unread?(0,a.jsx)(O.u,{children:i}):null,e.children]})}function ej(e){let{attachment:t,notification:i,dontShowPlanIcon:n}=e;return(0,a.jsx)(eg,{notification:i,children:(0,a.jsx)(ev,{block:t.body,plan:!0===n?void 0:i.plan,userLastViewedTimestamp:i.filters.user_last_viewed_timestamp})})}function ey(e){let{attachment:t,notification:i,dontShowPlanIcon:n,openQuickReply:o}=e,{inDesktopTray:l}=r.useContext(Q.w);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.Dx,{children:(0,a.jsx)(eg,{notification:i,children:(0,a.jsx)(ev,{block:t.body,plan:!0===n?void 0:i.plan,userLastViewedTimestamp:i.filters.user_last_viewed_timestamp,inDesktopTray:l,shouldShowChevron:(0,ee.JP)(i),openQuickReply:o})})}),(0,ee.JP)(i)&&o&&(0,a.jsx)("div",{className:l?eo:er,children:(0,a.jsx)(L.vj,{children:(0,a.jsx)(U.h,{onClick:o,htmlAttributes:{"data-testid":"quick-reply-chevron"},"aria-label":(0,k.t)("user_notifications.open_quickreply"),children:(0,a.jsx)(H.M,{})})})})]})}function eT(e){let{attachment:t,notification:i,actionBlockCallbacks:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eg,{notification:i,children:(0,a.jsx)(ev,{block:t.body,plan:i.plan,userLastViewedTimestamp:i.filters.user_last_viewed_timestamp})}),(0,a.jsx)(eb,{block:t.actions,actionBlockCallbacks:n,describedById:es(i)})]})}function eC(e){let{createdAt:t,lastSeenTimestamp:i}=e,n=eN(t,i),r=(0,W.zL)(t,"narrow");if("today"!==n&&"new"!==n){let e=new Date(t),i={};i=!function(e){let t=new Date;return t.setDate(t.getDate()-365),e>=t}(e)?{month:"short",day:"numeric",year:"numeric"}:{month:"short",day:"numeric"},r=new Intl.DateTimeFormat((0,X.Kd)().getPrimaryLocale(!1),i).format(e)}return(0,a.jsx)("div",{className:"block_kit_row--timestamp--gtrx5",children:r})}function eN(e,t){var i;let n=new Date(e),a=new Date,r=new Date(a);if(r.setDate(a.getDate()-1),t&&new Date(t)<n)return"new";if(eA(n,a))return"today";if(eA(n,r))return"yesterday";if(n>=new Date((i=a).getFullYear(),i.getMonth(),i.getDate()-7))return"last_week";return"older"}function eA(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}let eB={new:(0,k.tx)("user_notifications.new"),today:(0,k.tx)("user_notifications.today"),yesterday:(0,k.tx)("user_notifications.yesterday"),last_week:(0,k.tx)("user_notifications.last_7_days"),older:(0,k.tx)("user_notifications.older")};function eD(e){return e.preferred_attachments.length>0&&"ActionableAttachment"===e.preferred_attachments[0]._block_type}let eI={actionable:(0,k.tx)("user_notifications.pending"),actioned:(0,k.tx)("user_notifications.done")};var eR=i(850340),eP=i(444947),eE=i(840239),eF=i(766647);function eM(e){let t=e.preferred_attachments.find(e=>eF.L.BlockKit.Block.ATTACHMENT_TYPES.has(e._block_type));if(void 0===t)throw Error(`Unable to render attachment. Hiding notification ${e.notification_id}`);return t}function eS(e){var t;let i,n=(0,o.I0)(),[l,s]=(0,r.useState)(!1),c=(0,o.v9)(e=>e.selectedView.view),{onClick:d,toggleQuickReply:m,onMouseMove:f,onRemove:p,inDesktopTray:h}=r.useContext(Q.w),x=e.notification;r.useEffect(()=>()=>{p(x)},[p,x]);try{i=eM(e.notification)}catch(e){return console.error(`Unsupported Notification: ${e}`),null}let b=t=>{let i=c+"_quickreply";m(t,x,async()=>{try{await E.g1.markNotificationAsRead({notification_id:x.notification_id,currentView:i}),e.updateNotificationCallback(x.notification_id,{...x,is_unread:!1})}catch(e){(0,eE.YD)("Error marking notification as read",e)}})},v=e=>{f(e)},w=async t=>{(0,eP.L9)("file_browser_notification_clicked",{notification_id:x.notification_id,notification_type:x.notification_type,actionable:"ActionableAttachment"===i._block_type,selectedView:c,plan_filter:e.currentPlanFilter,notification_filter:e.currentNotificationFilter}),g(t);let a=d(x);try{await E.g1.markNotificationAsRead({notification_id:x.notification_id,currentView:c}),a||e.followLinkOnClickCallback(),e.updateNotificationCallback(x.notification_id,{...x,is_unread:!1})}catch(e){n(Z.l.error((0,k.t)("user_notification.an_error_occurred_while_clicking_this_notification")))}},g=e=>{e.stopPropagation()},j=()=>{s(!0),e.onHide&&e.onHide()},y=(t,i=c)=>{switch(eP.RQ.trackDefinedEvent("notification.file_browser_notification_actioned",{notification_id:x.notification_id,notification_type:x.notification_type,notification_action:t,selectedView:c,plan_filter:e.currentPlanFilter||void 0,notification_filter:e.currentNotificationFilter}),t){case"resolve":return E.g1.acceptNotification({notification_id:x.notification_id,currentView:i});case"reject":return E.g1.rejectNotification({notification_id:x.notification_id,currentView:i});default:(0,eR.vE)(t)}},T=(t,i,n)=>{try{switch(t._block_type){case"ActionableAttachment":{let n={updateNotification:e.updateNotificationCallback,hideNotification:j,followLinkIfPossible:e.followLinkOnClickCallback,buildNotificationActionRequest:y};return(0,a.jsx)(eT,{attachment:t,notification:i,actionBlockCallbacks:n})}case"ClientActionableAttachment":return(0,a.jsx)(ey,{attachment:t,notification:i,openQuickReply:n});case"BodyAndThumbnailAttachment":case"BodyAttachment":return(0,a.jsx)(ej,{attachment:t,notification:i,dontShowPlanIcon:e.dontShowPlanIcon})}}catch(e){console.error(`Unable to render attachment: ${t}`),j()}},C="ActionableAttachment"===(t=i)._block_type?(0,a.jsx)("article",{className:et,onMouseMove:v,children:T(t,x)}):"ClientActionableAttachment"===t._block_type?(0,a.jsxs)(L.fC,{className:et,children:[(0,a.jsx)(L.c7,{className:"block_kit_row--clientActionableRowFocus--KpScN",onClick:w,htmlAttributes:{onMouseEnter:h?void 0:b,onMouseMove:v,"data-testId":"client-actionable-button",role:"link"}}),T(t,x,b)??(0,a.jsx)(a.Fragment,{})]}):(0,a.jsx)(u.h,{className:_()(et,ei),htmlAttributes:{onMouseEnter:h?void 0:b,onMouseMove:v,role:"link"},onClick:w,children:T(t,x)});return!l&&C||null}var eO=i(193447),eL=i(63493),eU=i(492342),eH=i(22998),eV=i(837777),eq=i(378111),eG=i(116085);let ez=class e{constructor(){this.circularBuffer=new eH.P(e.BUFFER_CAPACITY),this.lastTimestamp=0}clear(){this.circularBuffer.clear()}push(t,i){i-this.lastTimestamp>e.THROTTLE_DURATION_MS&&(this.circularBuffer.push(t),this.lastTimestamp=i)}getLocation50msAgo(){let e=this.circularBuffer.toArray();return e.length>0?e[0]:new eq.OW(window.innerWidth,window.innerHeight)}};function eW(e){let[t,i]=(0,r.useState)(null),[n,o]=(0,r.useState)(0),l=(0,A.CA)(),s=r.useRef(eO.ZT),c=r.useRef(eO.ZT),d=r.useRef(null),u=r.useRef(null),m=(0,ee.J5)(l,t),_=r.useRef({notificationId:"",mouseLocationHistory:new ez,scheduledShowQuickReply:void 0,scheduledMarkAsRead:void 0});(0,r.useEffect)(()=>{u.current&&u.current.addEventListener("mouseover",e=>{clearTimeout(_.current?.scheduledShowQuickReply)})},[t]);let f=r.useMemo(()=>{function e(e,t,n){let a=window.innerWidth>900&&window.innerHeight>650;_.current.notificationId=e.notification_id,a&&(0,ee.JP)(e)?(i((0,ee.K3)(e)),o(t),s.current=n):(i(null),s.current=eO.ZT),_.current.mouseLocationHistory.clear()}return{onClick:e=>!1,toggleQuickReply:(t,i,n)=>{let a=!1;if(i.notification_id!==_.current.notificationId&&u.current&&t instanceof MouseEvent){let e=u.current.getBoundingClientRect(),i=new eq.OW(e.left,e.top),n=new eq.OW(e.left,e.bottom),r=[_.current.mouseLocationHistory.getLocation50msAgo(),i,n];a=(0,eV.c)(new eq.OW(t.clientX,t.clientY),r)}let r=t.target;if(a)clearTimeout(_.current?.scheduledShowQuickReply),_.current&&(_.current.scheduledShowQuickReply=setTimeout(()=>{e(i,r.getBoundingClientRect().bottom,n)},500));else clearTimeout(_.current?.scheduledShowQuickReply),e(i,r.getBoundingClientRect().bottom,n)},onMouseMove:e=>{_.current.mouseLocationHistory.push(new eq.OW(e.clientX,e.clientY),e.timeStamp)},onRemove:e=>{e.notification_id===_.current.notificationId&&i(null)},inDesktopTray:!1}},[u]);if(!(0,eU.BZ)().desktop_quickreply_filebrowser)return(0,a.jsx)(a.Fragment,{children:e.children});let p=Math.max(0,n-(d.current?.getBoundingClientRect().y??0)-(u.current?.getBoundingClientRect().height??640));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"quick_reply_switcher--hoverContainer--06-L-",ref:d,children:t&&!m&&(0,a.jsx)("div",{className:"quick_reply_switcher--quickReplyContainer--CWkQI","data-testid":"quick-reply-container",style:{top:p,maxHeight:640,minHeight:450},onMouseEnter:()=>{clearTimeout(_.current?.scheduledMarkAsRead),_.current.scheduledMarkAsRead=setTimeout(()=>{c.current=s.current},1e3)},onMouseLeave:()=>{clearTimeout(_.current?.scheduledMarkAsRead),c.current(),c.current=eO.ZT,s.current=eO.ZT},children:(0,a.jsx)(eL.L,{children:(0,a.jsx)(eG.P,{quickReplyInfo:t,onClose:()=>i(null),fileBrowser:!0,ref:u})})})}),(0,a.jsx)(Q.w.Provider,{value:f,children:e.children})]})}ez.BUFFER_CAPACITY=10,ez.DESIRED_DURATION_MS=50,ez.THROTTLE_DURATION_MS=ez.DESIRED_DURATION_MS/ez.BUFFER_CAPACITY;let eZ="user_notifications_dropdown--arrowRight--sAQvV",eX="user_notifications_dropdown--dropdownContainerEmptyState--k5Fhh user_notifications_dropdown--dropdownContainer--W42re text--fontPos11--rO47d text--_fontBase--VaHfk",eK="user_notifications_dropdown--dateHeader--Z3pNH",eY="user_notifications_dropdown--markAllReadButton--l4S7s text--fontPos11--rO47d text--_fontBase--VaHfk";function e$(e,t){let i=(0,o.I0)(),n=(0,o.v9)(e=>e.user.id),a=(0,o.v9)(e=>e.user.community_profile_id),s=(0,o.v9)(e=>e.authedUsers.byId[n]?.plans),c=r.useMemo(()=>void 0!==s&&(new Map(s.map(e=>[e.plan_id,e.is_org])).get(t)||!1),[s,t]),d=(0,o.v9)(e=>e.userNotifications.communityProfileBellStates),u=(0,o.v9)(e=>e.selectedView.view),[m,_]=(0,r.useState)(()=>new Map),[p,h]=(0,r.useState)(!0),b=(0,x.d)(d);r.useEffect(()=>{let r=(0,l.D)(()=>{e?a&&(b.current[a]&&i((0,P.jL)({isBellStateHigh:!1,userInitiated:!0,profileId:a})),E.g1.getCommunityServerDriven({currentView:u}).then(({data:e})=>{w(e.meta)}).catch(e=>{i(g.R.enqueue({message:(0,k.t)("user_notification.an_error_occurred_while_fetching_your_community_notifications"),type:"user-notification",error:!0})),i(y.kp())})):((0,P.Z4)(!1,P.U8,n),E.g1.getServerDrivenPlan({currentPlanId:t,currentView:u,isPlanOrg:c}).then(({data:e})=>{w(e.meta)}).catch(e=>{i(g.R.enqueue({message:(0,k.t)("user_notification.an_error_occurred_while_fetching_your_notifications"),type:"user-notification",error:!0})),i(y.kp())}))},800,!0);h(!0),r()},[t,b,u,i,e,c,a,n]);let w=e=>{let t=new Map,i=!1;e.forEach(e=>{t.set(e.notification_id,e),!i&&e.filters.is_priority&&(i=!0)}),_(t),h(!1)};return{notificationFeedMap:m,isFetchingNotifications:p,markAllAsReadFn:()=>{(e?v.ZP.post("/api/user_notifications/community/mark_read",{currentView:u,source:f.Gu?"desktopbell":"web"}):v.ZP.post("/api/user_notifications/mark_read/plan",{current_plan_id:t,currentView:u,is_plan_org:c,source:f.Gu?"desktopbell":"web"})).then(()=>{_(new Map(Array.from(m,([e,t])=>(t.is_unread=!1,[e,t]))))}).catch(()=>{i(g.R.enqueue({message:(0,k.t)("user_notification.an_error_occurred_marking_all_as_read"),type:"user-notification",error:!0}))})},updateNotification:(e,t)=>{_(new Map(m.set(e,t)))}}}function eJ(e,t){return e.filter(e=>!t.includes(e.notification_id))}function eQ(e){return e.some(e=>e.filters.is_priority)}function e0(e){let{inCommunity:t,containerClassName:i,arrowRight:o}=e,[l,s]=(0,r.useState)(P.U8),{notificationFeedMap:c,isFetchingNotifications:d,markAllAsReadFn:u,updateNotification:m}=e$(!!t,l),f=r.useCallback(e=>{e===M.U&&(e=P.U8),(0,C.U6)(e,"notifications",void 0),s(e)},[s]);return d?(0,a.jsxs)(n.Container,{classNameProp:_()(eX,i,{[eZ]:o}),children:[(0,a.jsx)(n.Header,{selectedPlan:l,onPlanFilterUpdate:f,inCommunity:!!t,inDesktopTray:!1}),(0,a.jsx)(n.LoadingFeed,{})]}):(0,a.jsx)(e1,{...e,selectedPlan:l,planFilterFn:f,notificationFeedMap:c,markAllAsReadFn:u,updateNotification:m})}function e1({containerClassName:e,arrowRight:t,inCommunity:i,selectedPlan:o,planFilterFn:l,notificationFeedMap:c,markAllAsReadFn:d,updateNotification:u}){let[m,f]=(0,r.useState)([]),p=o===P.U8?M.U:o,h=eJ([...c.values()],m),x=eQ(h),v=(0,P.Lx)(h),w=(0,T.Kp)(x&&v),[k,g,j]=s.m.useTabs({all:!0,priority:x,unread:!0},{defaultActive:()=>w?"priority":"all"}),y=(0,b.D9)(j.activeTab),N=(0,P.dl)(h);r.useEffect(()=>{j.activeTab!==y&&(0,C.EB)({name:"user_notifications_filter_viewed",filter_type:j.activeTab,dropdown_location:"web",hasUnreadSeatUpgradeNotif:v,hasUnreadPriorityNotif:N})},[y,j.activeTab,v,N]);let A=r.useMemo(()=>h.filter(e=>e.filters.is_priority),[h]),B=r.useMemo(()=>h.filter(e=>e.is_unread),[h]),D=e=>(0,a.jsx)(n.Feed,{notifications:e,currentPlanFilter:p,currentNotificationFilter:j.activeTab,hiddenNotificationIds:m,setHiddenNotificationIds:f,inCommunity:i,fillParent:!1,updateNotificationCallback:u});return(0,a.jsx)(n.Container,{classNameProp:_()(0!==c.size?"user_notifications_dropdown--dropdownContainer--W42re text--fontPos11--rO47d text--_fontBase--VaHfk":eX,e,{[eZ]:t}),children:(0,a.jsxs)(eW,{children:[(0,a.jsx)(n.Header,{selectedPlan:o,onPlanFilterUpdate:e=>l(e),inCommunity:!!i,inDesktopTray:!1}),(0,a.jsx)(n.FilterToggle,{notificationFilter:j.activeTab,toggleNotificationFilter:e=>{(0,C.T6)({filter_type:e},"user_notifications_filter_clicked")},notifications:h,markAllAsReadFn:d,tabManager:j,tabPropsMap:k}),(0,a.jsx)(s.m.TabPanel,{...g.all,children:D(h)}),(0,a.jsx)(s.m.TabPanel,{...g.priority,children:D(A)}),(0,a.jsx)(s.m.TabPanel,{...g.unread,children:D(B)})]})})}var e5=n||(n={});function e2(e){return(0,a.jsx)("h3",{className:eK,children:eB[e.notificationDateGroup]})}function e4(e){return(0,a.jsx)("h3",{className:eK,children:eI[e.notificationPriorityGroup]})}function e3(e){return e.some(e=>e.is_unread)}e5.Container=function({children:e,classNameProp:t}){return(0,a.jsx)(c.S,{eventListeners:["onClick","onMouseDown"],children:(0,a.jsx)("div",{className:t,"data-onboarding-key":F.O3,children:e})})},e5.LoadingFeed=function(){return(0,a.jsx)("div",{className:"user_notifications_dropdown--loadingContainer--EqjyM",children:(0,a.jsx)(d.T,{})})},e5.Feed=function(e){let t=(0,I.XU)(),i=(0,o.v9)(e=>t?e.authedUsers.byId[t.id]?.plans:null),n=(0,o.oR)(),l=(0,o.I0)(),s=(0,D.Mn)(),c=(0,A.CA)(),d=(0,B.Ng)(),u=!1;if(t&&!e.inCommunity&&i?.length===1&&(u=!0,e.currentPlanFilter===M.U)){let t=i[0].plan_id;for(let i of e.notifications)if(i.plan?.id.toString()!==t){u=!1;break}}let m=r.useCallback(t=>()=>{var i,a;if(!t.deeplink)return;let r=new URL(t.deeplink.href),o=r.pathname;if(o.includes("project"))i=o.split("project/")[1],(0,C.Qs)("file_browser_folder_click",i,null,s,{selectedView:"notifications",planFilterId:e.currentPlanFilter===M.U?null:e.currentPlanFilter});else if(o.includes("team"))a=o.split("team/")[1],(0,C.H)("file_browser_team_click",a,s,{selectedView:"notifications",planFilterId:e.currentPlanFilter===M.U?null:e.currentPlanFilter});else if((0,p.x7)(o)){let t=(0,p.BX)(o);t&&l(j.ku({fileKey:t,entrypoint:"notifications",currentPlanFilter:{planId:e.currentPlanFilter===M.U?void 0:e.currentPlanFilter||void 0}}))}l(y.kp());let u=!!c&&c.key===(0,p.BX)(r.pathname);if(!f.YO&&u)l((0,N.B)({params:r.searchParams.toString(),hash:r.hash}));else if(t.deeplink.use_unsafe)h.ZP.unsafeRedirect(r.href,f.YO?void 0:"_blank");else if(e.inDesktopTray)h.ZP.redirect(r.href);else try{let e=(0,R.eP)(n.getState(),o);if("teamFeed"===e.view)return void(d&&t.plan?.id.toString()===d.id?l(y.fv(e)):h.ZP.redirect(r.href,f.YO?void 0:"_blank"));return void h.ZP.redirect(r.href,f.YO?void 0:"_blank")}catch{h.ZP.redirect(r.href,f.YO?void 0:"_blank")}},[l,c,e.currentPlanFilter,e.inDesktopTray,s,n,d]);if(0===e.notifications.length)return(0,a.jsx)("div",{className:"user_notifications_dropdown--emptyRow--TbCuQ",children:(0,k.tx)("user_notifications.dropdown.no_notifications")});{var _;let t,i;"priority"===e.currentNotificationFilter&&e.notifications.sort((e,t)=>Number(eD(t))-Number(eD(e)));let n=e.inCommunity?"user_notifications_dropdown--scrollContainer---Rell":"user_notifications_dropdown--scrollContainerWithPlan--zfiPd",o=eN((_=e.notifications)[0].preferred_attachments[0].body.created_at,_[0].filters.user_last_viewed_timestamp)===eN(_[_.length-1].preferred_attachments[0].body.created_at,_[0].filters.user_last_viewed_timestamp);return(0,a.jsx)(w.l,{className:`${!e.fillParent?n:""}`,children:(0,a.jsx)("div",{children:e.notifications.map(n=>{let l=null;return l="priority"===e.currentNotificationFilter?(e=>{let t=null,n=eD(e)?"actionable":"actioned";return n!==i&&(i=n,t=(0,a.jsx)(e4,{notificationPriorityGroup:n},`priority-${e.notification_id}`)),t})(n):(e=>{let i,n=null;if(!o)try{i=eM(e);let r=eN(i.body.created_at,e.filters.user_last_viewed_timestamp);r!==t&&(t=r,n=(0,a.jsx)(e2,{notificationDateGroup:r},`date-${e.notification_id}`))}catch(e){console.error("Skipping date header, unsupported notification")}return n})(n),(0,a.jsxs)(r.Fragment,{children:[l,(0,a.jsx)(eS,{notification:n,updateNotificationCallback:e.updateNotificationCallback,dontShowPlanIcon:u,currentPlanFilter:e.currentPlanFilter,currentNotificationFilter:e.currentNotificationFilter,inDesktopTray:e.inDesktopTray,onHide:()=>{var t;return t=n.notification_id,void e.setHiddenNotificationIds([...e.hiddenNotificationIds,t])},followLinkOnClickCallback:m(n)},`row-${n.notification_id}`)]},`row-container-${n.notification_id}`)})})})}},e5.UnreadBar=function(e){return e3(e.notifications)?(0,a.jsxs)("div",{className:"user_notifications_dropdown--unreadToggleBar--QJMlN",children:[function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return(0,a.jsx)("div",{className:"user_notifications_dropdown--unread--n9TRK",children:(0,k.t)("user_notifications.unread_count",{unreadCount:t})})}(e.notifications),e3(e.notifications)&&(0,a.jsx)(u.h,{onClick:e.markAllAsReadFn,className:eY,children:(0,k.tx)("user_notifications.dropdown.mark_all_as_read")})]}):null},e5.DateHeader=e2,e5.PriorityHeader=e4,e5.Header=function(e){let t=!e.inDesktopTray;return(0,a.jsxs)("div",{className:"user_notifications_dropdown--header--1Z4T9",children:[e.inCommunity?(0,a.jsx)("div",{className:"user_notifications_dropdown--orgName--nbgTM ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk",children:(0,k.t)("user_notification.community_notifications")}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(M.p,{currentPlanFilter:e.selectedPlan===P.U8?M.U:e.selectedPlan,onPlanFilterUpdate:e.onPlanFilterUpdate,displaySettings:t})}),e.children]})},e5.FilterToggle=function(e){let t=(0,a.jsxs)(s.m.TabStrip,{manager:e.tabManager,children:[(0,a.jsx)(s.m.Tab,{...e.tabPropsMap.all,children:(0,k.t)("user_notification.all")}),(0,a.jsx)(s.m.Tab,{...e.tabPropsMap.priority,children:function(e){let t=e.reduce((e,t)=>e+Number(eD(t)),0);return 0===t?(0,k.t)("user_notifications.requests_empty"):(0,k.t)("user_notifications.requests_toggle_count",{actionableCount:t})}(e.notifications)}),(0,a.jsx)(s.m.Tab,{...e.tabPropsMap.unread,children:function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return 0===t?(0,k.t)("user_notifications.unread_empty"):(0,k.t)("user_notifications.unread_toggle_count",{unreadCount:t})}(e.notifications)})]});return(0,a.jsxs)("div",{className:"user_notifications_dropdown--filterToggleBar--hk648 user_notifications_dropdown--unreadToggleBar--QJMlN",children:[t,e3(e.notifications)&&(0,a.jsx)(u.h,{onClick:e.markAllAsReadFn,className:eY,children:(0,k.tx)("user_notifications.dropdown.mark_all_as_read")})]})}},337:function(e,t,i){i.d(t,{p:()=>A,U:()=>N});var n=i(750357),a=i(853505),r=i(577851),o=i(211839),l=i(410802),s=i(862047),c=i(406954),d=i(403706),u=i(85127),m=i(240473),_=i(590914),f=i(404639),p=i(469271),h=i(260251),x=i(416792),b=i(242802),v=i(293111),w=i(218669),k=i(519642),g=i(260736),j=i(221373);let y="notifs_plan_filter--boldTitle--6AAsI",T="notifs_plan_filter--planFilterContainer--DKxKe";var C=i(335489);let N="ALL_PLANS_FILTER";function A(e){let{currentPlanFilter:t,onPlanFilterUpdate:i}=e,[A,B]=a.useState(N),D=(0,r.I0)(),I=(0,x.CA)(),R=(0,a.useRef)(null),{getTriggerProps:P,manager:E}=o.H9(),F=(0,b.xJ)(),M=(0,r.v9)(e=>e.plans),S=(0,r.v9)(v.G),O=(0,r.v9)(e=>e.orgById),L=()=>{D(f.kp()),(0,h.T6)({userId:F?.id,fileKey:I?.key,eventName:"Notification Settings Button Clicked"}),D(p.K4({type:j.p,data:{tab:j.m.NOTIFICATIONS}}))};if(!F||!M||M.length<=1)return(0,n.jsxs)("div",{className:T,children:[(0,n.jsx)("h1",{className:y,children:(0,_.t)("user_notification.all_notifications")}),e.displaySettings&&M?.length===1&&(0,n.jsx)(l.h,{"aria-label":(0,_.t)("user_notifications.settings"),htmlAttributes:{"data-dropdown-tooltip":(0,_.t)("user_notifications.settings"),"data-tooltip-type":g.fR.TEXT,"data-tooltip-show-above":!0},onClick:L,children:(0,n.jsx)(u.v,{})})]});let U=M.map(e=>e.plan_id);U.unshift(N);let H=(e,t)=>e===N?(0,_.t)("user_notification.all_notifications"):t[e],V=M.reduce((e,t)=>{if("plan_type"in t){let i="";if(t.plan_type===k.k.ORG){let e=O[t.plan_id];i=e?.name??i}else{let e=S[t.plan_id];i=e?.name??i}e[t.plan_id]=i}else"name"in t&&(e[t.plan_id]=t.name);return e},{}),q=U.map(e=>(0,n.jsx)(s.mJ,{value:e,children:H(e,V)},e));return(0,n.jsxs)("div",{className:T,ref:R,children:[(0,n.jsx)(c.fE,{children:(0,n.jsxs)(o.fC,{manager:E,children:[(0,n.jsxs)(d.h,{"aria-label":(0,_.t)("user_notifications.notif_filter_label",{planName:H(t,V)}),className:"notifs_plan_filter--dropdownButton--YQozm",...P(),children:[(0,n.jsx)("span",{className:[y,"notifs_plan_filter--autoTruncate--3lS3f ellipsis--ellipsis--70pHK"].join(" "),children:(0,w.OI)(H(t,V),35)}),(0,n.jsx)(m.n,{svg:C.Z,className:"notifs_plan_filter--chevronIcon--G7ev8"})]}),(0,n.jsx)(o.W2,{children:(0,n.jsx)(s.Ee,{title:null,onChange:e=>{i(e),B(e)},value:A,children:q})})]})}),e.displaySettings&&(0,n.jsx)(l.h,{"aria-label":(0,_.t)("user_notifications.settings"),htmlAttributes:{"data-dropdown-tooltip":(0,_.t)("user_notifications.settings"),"data-tooltip-type":g.fR.TEXT,"data-tooltip-show-above":!0},onClick:L,children:(0,n.jsx)(u.v,{})})]})}},763667:function(e,t,i){i.d(t,{Tp:()=>Z});var n=i(750357),a=i(853505),r=i(577851),o=i(406954),l=i(732530),s=i(403706),c=i(514177),d=i(317429),u=i(944365),m=i(473550),_=i(451410),f=i(512039),p=i(339093),h=i(641857),x=i(363240),b=i(388136),v=i(53022),w=i.n(v),k=i(862398),g=i(229519),j=i(775925),y=i(555792),T=i(590914),C=i(225094),N=i(469271),A=i(926941),B=i(562675),D=i(363090),I=i(242802),R=i(752212),P=i(511705),E=i(428785),F=i(95238),M=i(712824),S=i(144949),O=i(506457),L=i(410090),U=i(389147),H=i(859340),V=i(12967);let q="edit_color_palette_modal--modalLabel--R2SPI text--fontPos11--rO47d text--_fontBase--VaHfk",G="edit_color_palette_modal--circleButton--5XzrZ";function z({color:e,setColor:t,index:i,isColorPickerOpen:a,setColorPickerOpen:r,removeColor:c,theme:d,dropperDisabled:u}){let{getContainerProps:m,getTriggerProps:_}=o.Sv({isOpen:a,onOpenChange:r,type:"menu",softDismiss:!0});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.W2,{...m(),children:(0,n.jsx)(U.F,{color:e,theme:d,currentTool:h.UAh.NONE,dropdownShown:null,onColorChange:t,dropperDisabled:u})}),(0,n.jsxs)("div",{className:"edit_color_palette_modal--colorCircleOuter--803GZ",children:[(0,n.jsx)(l.C,{"aria-label":(0,T.t)("whiteboard.colors.palette.hexadecimal",{hex:(0,k.colorToHex)(e)}),className:G,..._(),children:(0,n.jsx)(L.T0,{size:"large",value:e,selectionState:a?"selected":"unselected",paletteType:"base",background:"light"},e+"-"+i)}),(0,n.jsx)(s.h,{className:w()({"edit_color_palette_modal--deleteColorButton--KNRme":!0,"edit_color_palette_modal--deleteColorButtonDisabled--78qNl":a}),onClick:()=>c(),"aria-label":(0,T.t)("whiteboard.color_palettes.modal.remove_color",{color_name:(0,T.t)("whiteboard.colors.palette.hexadecimal",{hex:(0,k.colorToHex)(e)})}),"data-testid":`delete-color-button-${i}`,children:(0,n.jsx)(f.J,{className:"edit_color_palette_modal--deleteColorIcon--d-4TT"})})]},"wrapper"+e+"-"+i)]})}function W({onSave:e,onCancel:t,palette:i,enableSubmitWithNoChanges:o,manager:s,isPaletteEyedropperActive:_,theme:f}){let v=(0,r.I0)(),[w,A]=a.useState(i?.name||""),[D,F]=(0,x.KO)(V.jc),M=a.useCallback(()=>-1!==D&&(F(-1),!0),[D,F]);(0,B.jI)(M,B.Yw.OVERLAY);let U=a.useMemo(()=>i?.baseColors||(0,O.mn)(),[i?.baseColors]),[W,X]=(0,x.KO)(V.Ur),K=(0,x.b9)(S.Pl),Y=!(0,g._T)(U,W)||o,[$,J]=a.useState(!1);a.useEffect(()=>(F(-1),X(U),K(h.hGO.EDIT_PALETTE_MODAL),()=>{F(-1),X(U),K(h.hGO.SELECTION)}),[F,X,K,U]);let Q=(0,r.v9)(e=>{let t=e.selectedView;return"fullscreen"!==t.view||t.editorType!==E.TU.Whiteboard}),ee=a.useCallback(e=>{X([...W,e])},[W,X]),et=a.useCallback((e,t)=>{X([...W.slice(0,e),t,...W.slice(e+1)])},[W,X]),ei=a.useCallback(e=>{v(N.bF({type:Z.type,data:{palette:{uuid:e,name:w,baseColors:W},enableSubmitWithNoChanges:!0,theme:f}}))},[v,w,W,f]),en=(0,R.V7)(),ea=(0,I.dO)(),er=(0,H.F1)(),eo=a.useCallback(()=>{let t=W.some((e,t)=>W.some((i,n)=>t!==n&&(0,g.l7)(e,i)));if(J(t),t)return;let n=W.map(e=>(0,k.colorToHex)(e,1));if(w&&ea&&n.length){let t=i?.uuid||(0,b.k)();i?(0,V.s5)({name:w,teamId:en,baseColors:n,uuid:t},v,()=>ei(t)):((0,V.UJ)({name:w,teamId:en,uuid:t,baseColors:n,creatorId:ea,isTeamDefault:!1,canRead:!0},v,()=>ei(t)),er(t,n.length,!0)),e()}},[W,w,ea,i,e,en,v,ei,er]),el=function(e){let t=(0,g.NI)(j.B6.MULTIPLAYER_PURPLE)||g.E5;if(!e)return t;let i=(0,p.pV)(e),n=360*i.h,a={...i,h:(n+40)%360/360};return(0,p.aw)(a)}(W.length>0?W[W.length-1]:null),es=W.length>=P.bE,ec=w&&w.trim()&&W.length>0&&(!i||Y||w!==i.name),ed=i?(0,T.t)("whiteboard.color_palettes.modal.edit_palette"):(0,T.t)("whiteboard.color_palettes.modal.create_palette");return(0,n.jsx)(c.fC,{width:"fit-content",height:"dynamic",manager:s,children:(0,n.jsxs)(d.AU,{allowOverflow:!0,children:[(0,n.jsx)(d.h4,{children:(0,n.jsx)(d.Dx,{children:ed})}),(0,n.jsxs)(d.uT,{style:{overflow:"visible"},children:[(0,n.jsx)(u._,{htmlFor:"palette-name-input",className:q,children:(0,T.tx)("whiteboard.color_palettes.modal.name")}),(0,n.jsx)("div",{className:"edit_color_palette_modal--nameInput--w0zz2",children:(0,n.jsx)(m.I,{id:"palette-name-input",placeholder:(0,T.t)("whiteboard.color_palettes.modal.palette_name"),value:w||"",onChange:e=>A(e.slice(0,100)),size:"lg","data-testid":"palette-name-input"})}),(0,n.jsxs)("div",{className:"edit_color_palette_modal--colorsContainer--Y0HUV",children:[(0,n.jsx)("h3",{className:q,children:(0,T.tx)("whiteboard.color_palettes.modal.colors")}),(0,n.jsx)("p",{className:"edit_color_palette_modal--modalDescription--ZCWCF text--fontPos11--rO47d text--_fontBase--VaHfk",children:(0,T.tx)("whiteboard.color_palettes.modal.choose_up_to_9_colors")}),$&&(0,n.jsx)("p",{className:"edit_color_palette_modal--modalDescriptionError--OnjHk text--fontPos11--rO47d text--_fontBase--VaHfk",children:(0,T.tx)("whiteboard.color_palettes.modal.duplicate_colors")}),(0,n.jsxs)("div",{className:"edit_color_palette_modal--colorPaletteContainer--dq5EX",children:[W.map((e,t)=>(0,n.jsx)(z,{color:e,setColor:e=>et(t,e),index:t,isColorPickerOpen:!_&&D===t,setColorPickerOpen:e=>F(e?t:-1),removeColor:()=>{X([...W.slice(0,t),...W.slice(t+1)])},dropperDisabled:Q,theme:f},"editbutton-"+e+"-"+t)),!es&&(0,n.jsx)(l.C,{"aria-label":(0,T.t)("whiteboard.color_palettes.modal.add_color"),"aria-haspopup":!0,"aria-expanded":!1,"data-testid":"add-color-button",className:G,onClick:()=>{F(W.length),ee(el)},children:(0,n.jsx)(L.VI,{size:"large",value:L.R7,swatchStyle:{boxShadow:"0px 0px 0px 1px rgba(0, 0, 0, 0.2) inset"},fallbackSvg:L.uT})})]})]})]}),(0,n.jsx)(d.$_,{children:(0,n.jsxs)(d.Dj,{children:[(0,n.jsx)(C.x,{color:"secondary",children:(0,T.tx)("whiteboard.color_palettes.modal.palettes_visible_to_everyone")}),(0,n.jsx)(y.XT,{variant:"secondary",onClick:t,children:(0,T.tx)("whiteboard.color_palettes.modal.cancel")}),(0,n.jsx)(y.XT,{variant:"primary",disabled:!ec,type:"submit",onClick:eo,htmlAttributes:{"data-testid":"save-button"},children:(0,T.tx)("whiteboard.color_palettes.modal.save_palette")})]})})]})})}let Z=(0,M.Y3)(function({palette:e,theme:t,enableSubmitWithNoChanges:i,...o}){let l=(0,r.I0)(),s=(0,I.dO)(),c=(0,R.V7)(),d=_.dd({open:o.open,onClose:o.onClose}),u=(0,D.ob)(),m=(0,x.Dv)(S.Pl),f=u===h.UAh.DROPPER_COLOR&&m===h.hGO.EDIT_PALETTE_MODAL,p=a.useCallback(()=>{l(N.eI())},[l]);return(0,n.jsx)("div",{className:w()("edit_color_palette_modal--headerModalTransitionContainer--EDIvH",{"edit_color_palette_modal--hidden--bhTTI":f}),children:(0,n.jsx)(A.Ui,{name:F.V4.FIGJAM_EDIT_PALETTE_MODAL,properties:{userId:s,teamId:c,type:e?"edit palette":"new palette"},children:(0,n.jsx)(W,{onSave:p,onCancel:p,palette:e,enableSubmitWithNoChanges:i,manager:d,isPaletteEyedropperActive:f,theme:t})})})},"EditColorPaletteModal")},833038:function(e,t,i){i.d(t,{P:()=>L});var n=i(750357),a=i(577851),r=i(451410),o=i(514177),l=i(317429),s=i(303501),c=i(739640),d=i(410802),u=i(825900),m=i(99988),_=i(903132),f=i(158639),p=i(555792),h=i(590914),x=i(864197),b=i(469271),v=i(926941),w=i(750779),k=i(242802),g=i(10553),j=i(752212),y=i(511705),T=i(260736),C=i(95238),N=i(712824),A=i(155969),B=i(12967),D=i(573151);let I=(0,N.Y3)(function({paletteUuid:e}){let t=(0,a.I0)();return(0,n.jsx)(A.Jd,{size:300,confirmText:(0,h.t)("whiteboard.color_palettes.modal.delete_color_palette_button"),confirmationTitle:(0,h.t)("whiteboard.color_palettes.modal.delete_color_palette_confirmation_modal_title"),popStack:!0,destructive:!0,onConfirm:()=>{(0,B.fX)(e,t)},children:(0,n.jsx)("div",{className:D.Tr,children:(0,h.tx)("whiteboard.color_palettes.modal.delete_color_palette_confirmation_modal_content")})})},"DeleteColorPaletteConfirmationModal");var R=i(506457),P=i(410090),E=i(859340),F=i(763667);let M=(0,N.Y3)(function({paletteName:e,paletteUuid:t}){let i=(0,a.I0)(),r=(0,j.V7)(),o=(0,a.v9)(e=>e.teams[r]?.name);return o||console.error("No team name found for team id",r),(0,n.jsx)(A.Jd,{size:360,confirmationTitle:(0,h.t)("whiteboard.color_palettes.make_default_confirmation_modal.title"),confirmText:(0,h.t)("whiteboard.color_palettes.make_default_confirmation_modal.confirm_button"),content:(0,h.t)("whiteboard.color_palettes.make_default_confirmation_modal.description",{teamName:o,paletteName:e||(0,h.t)("whiteboard.color_palettes.make_default_confirmation_modal.this_palette")}),onConfirm:()=>{t===y.TX?(0,B.hR)(r,i):(0,B.tR)(r,t,i)},popStack:!0})},"MakePaletteTeamDefaultConfirmationModal");function S({showMakeDefaultButton:e,entryPoint:t,theme:i,...c}){let d=(0,k.dO)(),u=(0,j.V7)(),m=r.dd({open:c.open,onClose:c.onClose}),f=(0,a.I0)(),[x]=(0,_.aM)((0,g.Nm0)({teamId:u}),{enabled:!!u});return(0,n.jsx)(v.Ui,{name:C.V4.FIGJAM_MANAGE_PALETTES_MODAL,properties:{entryPoint:t,userId:d,teamId:u},children:(0,n.jsx)(o.fC,{width:"fit-content",height:"dynamic",manager:m,children:(0,n.jsxs)(l.AU,{children:[(0,n.jsx)(l.h4,{children:(0,n.jsx)(l.Dx,{children:(0,h.t)("whiteboard.color_palettes.manage_modal.color_palettes")})}),(0,n.jsxs)(l.uT,{padding:16,children:[(0,n.jsxs)("div",{className:"manage_color_palettes_modal--subheader--0tMxG",children:[(0,n.jsx)("div",{className:"manage_color_palettes_modal--manageText--Obimw",children:(0,h.tx)("whiteboard.color_palettes.manage_modal.manage_your_teams_color_palettes")}),(0,n.jsx)(p.XT,{variant:"primary",onClick:()=>{f(b.bF({type:F.Tp.type,data:{theme:i}}))},htmlAttributes:{"data-testid":"create-color-palette-button"},children:(0,h.tx)("whiteboard.color_palettes.manage_modal.create_new_palette")})]}),(0,n.jsx)("div",{className:"manage_color_palettes_modal--paletteRowsOuter--5kxen","aria-busy":"loading"===x.status,children:"loaded"===x.status&&x.data.colorPalettesForTeam?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O,{palette:{uuid:y.TX,name:(0,h.t)("whiteboard.color_palettes.figjam_colors"),baseColors:(0,R.Mo)("base").map(e=>w.Co.format(e)),isTeamDefault:x.data.colorPalettesForTeam.every(e=>!e.isTeamDefault)},theme:i,showMakeDefaultButton:e},y.TX),x.data.colorPalettesForTeam.map(t=>(0,n.jsx)(O,{palette:t,theme:i,showMakeDefaultButton:e},t.uuid))]}):(0,n.jsx)(s.T,{size:"lg",htmlAttributes:{"data-testid":"loading-spinner"}})})]})]})})})}function O({palette:e,theme:t,showMakeDefaultButton:i}){let r=(0,a.I0)(),o=e.uuid===y.TX,l=e.name||(0,h.t)("whiteboard.color_palettes.unnamed_palette");return(0,n.jsxs)(x.j,{width:"fill-parent",direction:"vertical",spacing:"4px",children:[(0,n.jsxs)(x.j,{direction:"horizontal",spacing:"8px",children:[(0,n.jsx)("h3",{children:l}),e.isTeamDefault&&(0,n.jsx)(c.C,{variant:"brandOutline",children:(0,h.t)("whiteboard.color_palettes.manage_modal.default")})]}),(0,n.jsxs)(x.j,{direction:"horizontal",width:"fill-parent",horizontalAlignItems:"space-between",children:[(0,n.jsx)(x.j,{direction:"horizontal",width:"hug-contents",spacing:"0px",children:e.baseColors.map(e=>(0,n.jsx)(P.T0,{value:w.Co.parse(e),paletteType:"base",background:"light",role:"img",ariaLabel:(0,h.t)("whiteboard.colors.palette.hexadecimal",{hex:e})},e))}),(0,n.jsxs)(x.j,{direction:"horizontal",width:"hug-contents",spacing:"8px",children:[!o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.h,{onClick:()=>{r(b.bF({type:F.Tp.type,data:{palette:{uuid:e.uuid,name:e.name,baseColors:(0,E.gf)(e?.baseColors),isTeamDefault:e.isTeamDefault},theme:t}}))},"aria-label":(0,h.t)("whiteboard.color_palettes.modal.edit_named_palette_tooltip",{palette_name:l}),htmlAttributes:{"data-testid":"edit-color-palette-button-"+e.uuid,"data-tooltip-type":T.fR.TEXT,"data-tooltip":(0,h.t)("whiteboard.color_palettes.modal.edit_named_palette_tooltip",{palette_name:l})},children:(0,n.jsx)(u.l,{})}),(0,n.jsx)(d.h,{onClick:()=>{r(b.bF({type:I.type,data:{paletteUuid:e.uuid}}))},"aria-label":(0,h.t)("whiteboard.color_palettes.modal.delete_named_palette_tooltip",{palette_name:l}),htmlAttributes:{"data-testid":"delete-color-palette-button-"+e.uuid,"data-tooltip-type":T.fR.TEXT,"data-tooltip":(0,h.t)("whiteboard.color_palettes.modal.delete_named_palette_tooltip",{palette_name:l})},children:(0,n.jsx)(m.K,{})})]}),i&&(0,n.jsx)(p.XT,{variant:"secondary",disabled:e.isTeamDefault,onClick:()=>{r(b.bF({type:M.type,data:{paletteUuid:e.uuid,paletteName:e.name}}))},htmlAttributes:{"data-testid":"make-palette-team-default-button-"+e.uuid},children:(0,h.tx)("whiteboard.color_palettes.modal.set_default")})]})]})]})}let L=(0,N.Y3)(function(e){return(0,n.jsx)(f.X,{label:"ManageColorPalettesModal",children:(0,n.jsx)(S,{...e})})},"ManageColorPalettesModal")},759943:function(e,t,i){i.d(t,{A:()=>r});var n=i(853505),a=i(750357);let r=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M18 4a2 2 0 0 1 2 2v6.172l-.01.197a2 2 0 0 1-.576 1.217l-5.828 5.828-.146.133a2 2 0 0 1-1.268.453H6l-.204-.01A2 2 0 0 1 4 18V6a2 2 0 0 1 2-2zM6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h6v-5a2 2 0 0 1 2-2h5V6a1 1 0 0 0-1-1zm8 8a1 1 0 0 0-1 1v4.586L18.586 13z"})})})},80616:function(e,t,i){i.d(t,{Z:()=>r});var n=i(853505),a=i(750357);let r=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M10 5a.5.5 0 0 0 0 1h1.5v1.02a6 6 0 1 0 5.875 3.312l.271-.271a1.5 1.5 0 0 0 0-2.122l-.585-.585a1.5 1.5 0 0 0-2.122 0l-.27.27a6 6 0 0 0-2.169-.603V6H14a.5.5 0 0 0 0-1zm5.547 3.16c.494.363.93.8 1.293 1.293l.1-.1a.5.5 0 0 0 0-.707l-.586-.585a.5.5 0 0 0-.708 0zM12 8a5 5 0 1 0 0 10 5 5 0 0 0 0-10m.5 1.5a.5.5 0 0 0-1 0v2.634a1 1 0 1 0 1 0z",clipRule:"evenodd"})})})},99988:function(e,t,i){i.d(t,{K:()=>r});var n=i(853505),a=i(750357);let r=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .496.5h12.008a.5.5 0 0 0 .496-.5v-1A.5.5 0 0 0 18 5zM4.5 6.5a1.5 1.5 0 0 0 1.037 1.427L5.725 10H5a.5.5 0 0 0 0 1h.816l.653 7.181A2 2 0 0 0 8.46 20h7.078a2 2 0 0 0 1.992-1.819L18.184 11H19a.5.5 0 0 0 0-1h-.725l.188-2.073A1.5 1.5 0 0 0 19.5 6.5v-1A1.5 1.5 0 0 0 18 4H6a1.5 1.5 0 0 0-1.5 1.5zm2.965 11.59L6.548 8h10.905l-.918 10.09a1 1 0 0 1-.996.91H8.461a1 1 0 0 1-.996-.91M11 10.5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0zm3 0a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z",clipRule:"evenodd"})})})}}]);

//# debugId=8b250931-6d87-55a5-be2a-3cc6b1b73b1b

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/0ed00e99b8ffee671be6614376affb022e043db9/3990-0eabc1fba1ec8ccb.min.js.map