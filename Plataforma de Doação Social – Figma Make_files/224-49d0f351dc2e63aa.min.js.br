"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f46c4d01-f04e-5823-bc9d-c7dc32e3f9b2")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["224"],{192080:function(e,t,a){a.d(t,{Cq:()=>s,Ht:()=>d,Lj:()=>u,Lo:()=>i,P_:()=>l,Q4:()=>_,Sz:()=>p,Wq:()=>g,eK:()=>n,il:()=>r,l1:()=>o,ti:()=>m,w4:()=>c});let n="seat_requests_page--requestsContainer--9A8oV",s="seat_requests_page--fileBrowserContentContainer--V4K3S",r="seat_requests_page--fileBrowserScrollableContainer--bR9Mi",i="seat_requests_page--avatarColumn--uctuh seat_requests_page--column--CnFU9 admin_settings_page--membersColumn--QLHNy table--column--68Hj-",l="seat_requests_page--seatTypeColumn--fI9ig seat_requests_page--column--CnFU9 admin_settings_page--membersColumn--QLHNy table--column--68Hj-",o="seat_requests_page--requestedColumn--ZeFie seat_requests_page--column--CnFU9 admin_settings_page--membersColumn--QLHNy table--column--68Hj-",d="seat_requests_page--noteColumn---hI1o seat_requests_page--column--CnFU9 admin_settings_page--membersColumn--QLHNy table--column--68Hj-",c="seat_requests_page--dropdownScrollClip--wZ612",u="seat_requests_page--actionBarButtons--mpTgO",m="seat_requests_page--actionBarHasContent--4FgGq",_="seat_requests_page--actionBar--5dx7Z",p="seat_requests_page--nudgedRequested--SlVaI",g="seat_requests_page--avatarWithHandle--Pl6Pu"},269751:function(e,t,a){a.d(t,{Ah:()=>o,EE:()=>n,L$:()=>u,Lk:()=>m,Rf:()=>s,U3:()=>c,UN:()=>i,XX:()=>d,bS:()=>l,lY:()=>p,pC:()=>r,qP:()=>_});let n="change_payment_modal--paymentModal--ltirP",s="change_payment_modal--paymentModalHeader--XzuQG",r="change_payment_modal--paymentModalTitle--XBOfe text--fontPos18--FkHj- text--_fontBase--VaHfk",i="change_payment_modal--buttonRow--9P6O8 modal--buttonRow--QZcDw",l="change_payment_modal--buttonRowLeft---kg12",o="change_payment_modal--closeButton--LJUS-",d="change_payment_modal--errorBanner--arlJR",c="change_payment_modal--fixedHeightContainer--0RPgo",u="change_payment_modal--errorContainer--RZaDU",m="change_payment_modal--formContainer--bnMlV",_="change_payment_modal--buttonContainer--8IXxk",p="change_payment_modal--spinner--568DK"},596522:function(e,t,a){if(a.d(t,{Bz:()=>m,NE:()=>p,Qr:()=>h,WY:()=>f,b1:()=>x,gs:()=>v,jW:()=>_,oh:()=>g,uW:()=>u}),9793==a.j)var n,s=a(612661);var r=a(363240),i=a(590914),l=a(157589),o=a(1128),d=a(731039);if(a(920860),9793==a.j)var c=a(260736);let u="admin_requests_dashboard",m="admin_seat_requests_page",_="admin_request_flyout",p=(0,r.cn)(!1),g=(0,r.cn)(new Set);function h(e,t){let a=e.reduce((e,t)=>{let a=t.billableProductKey;return e[a]=(e[a]??0)+1,e},{});return Object.keys(a).some(e=>(0,s.lm)(t[e])&&t[e]<a[e])}var x=9793==a.j?((n=x||{}).REQUESTED="request",n):null;function f(e){return e?{columnName:"request",isReversed:e===d.rE.OLDEST_FIRST}:{columnName:"",isReversed:!1}}function v(e,t,a,n){return a||void 0===t||t.reason===o.y.COST_MESSAGING_DISABLED?{"data-tooltip":void 0,"data-tooltip-type":void 0}:{"data-tooltip":null===t.price&&t.reason===o.y.AVAILABLE_SEAT?n?(0,i.t)("admin_dashboard.requests.approve.no_cost_associated"):(0,i.t)("admin_dashboard.requests.approve.seat_paid_for"):t.price&&n?(0,i.t)("admin_dashboard.requests.approve.cost_associated",{seatType:(0,l.Wq)(e),seatCost:t.price}):(0,i.t)("admin_dashboard.requests.approve.adds_paid_seat",{seatType:(0,l.Wq)(e)}),"data-tooltip-type":c.fR.TEXT,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0}}},74752:function(e,t,a){a.d(t,{BO:()=>T,Hu:()=>j,gW:()=>b});var n=a(750357),s=a(577851),r=a(273634);a(607906);var i=a(224051),l=a(259946),o=a(555792),d=a(590914);if(9793==a.j)var c=a(119875);var u=a(406389);if(9793==a.j)var m=a(731039);var _=a(404639);if(9793==a.j)var p=a(871567);var g=a(271264),h=a(845277);if(9793==a.j)var x=a(479852);var f=a(248893),v=a(691811);function b(){let e=(0,s.I0)(),t=(0,h.fh)();return"orgAdminSettings"!==t&&"seatRequests"!==t?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(o.XT,{variant:"secondary",onClick:()=>{e(_.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:v.rN.ACTIVITY,activityTabInitialEventOptionId:"activity_log.filter.upgrade_requests_and_activity"}))},htmlAttributes:{"data-testid":"admin-dashboard-view-history-button"},trackingProperties:{trackingDescriptor:p.y.VIEW_HISTORY},children:(0,d.t)("admin_dashboard.requests.view_history")})}function j({planId:e,planType:t,configuredUpgradeRequestSetting:a}){return t===m.YH.TEAM?(0,n.jsx)(y,{}):(0,n.jsx)(I,{orgId:e,configuredUpgradeRequestSetting:a})}function y(){let e=(0,s.I0)(),t=(0,s.v9)(e=>e.teamBilling),a=t.summary.currency,i=t.summary.monthly_subscription?f.Xp.MONTH:f.Xp.YEAR,l=(0,g.f)(r.k.MONETIZATION_EXPANSION);return(0,n.jsx)(o.XT,{htmlAttributes:{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":c.nz},onClick:(0,u.X)({dispatch:e,currency:a,renewalTerm:i}),variant:"secondary",trackingProperties:{trackingDescriptor:p.y.APPROVAL_SETTINGS},trackingOptions:l,children:(0,d.tx)("admin_dashboard.requests.approval_settings")})}function I({orgId:e,configuredUpgradeRequestSetting:t}){let a=(0,s.I0)(),l=(0,i.A9)(e),m=l.data?.currency,_=t===x.Xn.ALL_USERS?(0,u.S)({dispatch:a}):(0,u.X)({dispatch:a,currency:m,renewalTerm:f.Xp.YEAR,isCurfEnabledForMembers:t===x.Xn.MEMBERS}),h=(0,g.f)(r.k.MONETIZATION_EXPANSION);return(0,n.jsx)(o.XT,{htmlAttributes:{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":c.nz},onClick:_,variant:"secondary",trackingProperties:{trackingDescriptor:p.y.APPROVAL_SETTINGS},trackingOptions:h,children:(0,d.tx)("admin_dashboard.requests.approval_settings")})}function T({text:e,showSpinner:t}){return(0,n.jsxs)("div",{...{className:"x78zum5 x6s0dn4 xl56j7k"},children:[(0,n.jsx)("div",{...{0:{className:"x1bpp3o7"},1:{className:"x1bpp3o7 xlshs6z"}}[0|!!t],children:e}),t&&(0,n.jsx)(l.TK,{shouldMatchTextColor:!0,size:"small",className:"x10l6tqk"})]})}},398655:function(e,t,a){a.d(t,{D:()=>d});var n=a(750357),s=a(853505);if(9793==a.j)var r=a(739640);var i=a(363240),l=a(503947),o=a(731039);function d({refreshNonce:e,refreshTabCountNonce:t,viewableBillingGroupIds:a,planType:d,planId:c,managedRequests:u,showAllOrgRequests:m,selectedRequestView:_,processedRequestIds:p,showBillingGroupAdminRequests:g,isOrgAdmin:h}){let[x,f]=(0,i.KO)(l.u),v=m||g,b=v?[d,c,u].toString():[d,c].toString(),j=(0,s.useMemo)(()=>JSON.stringify(v?{refreshNonce:e,refreshTabCountNonce:t,billing_group_ids:u?a:null}:{refreshNonce:e,billing_group_ids:h?[null]:[]}),[e,t,u,a,v,h]),y=(0,o.tl)({planType:d,planId:c,filterParams:j,processedRequestIds:p}),[I,T]=(0,s.useState)(null);return s.useEffect(()=>{if(null!==y&&(T(y.length),u)){let e={...x};e[b]=y.length,f(e)}},[y,b]),null!==I&&(y?.length!==0||m)&&(0,n.jsx)(r.C,{variant:u&&_===o._I.ALL_MANAGED_REQUESTS||!u&&_===o._I.ALL_ORG_REQUESTS?"brandOutline":"defaultFilled","data-testid":"table-row-count-badge",children:I.toString()})||(0,n.jsx)("div",{})}},569620:function(e,t,a){a.d(t,{$:()=>u,M:()=>m});var n=a(853505),s=a(577851);if(9793==a.j)var r=a(193447);var i=a(458780),l=a(590914),o=a(1093);if(9793==a.j)var d=a(804890);var c=a(634408);function u(){let e=(0,s.I0)();return{dispatchSuccess:({approve:t,numRequests:a,asyncUpdate:n})=>{let s=t?(0,l.t)("admin_dashboard.requests.success_approve_seat_changed",{numRequests:a}):(0,l.t)("admin_dashboard.requests.success_deny_multiple",{numRequests:a});t&&n&&(s=(0,l.t)("admin_dashboard.requests.success_approve_seat_changed_async",{numRequests:a})),e(o.R.enqueue({message:s,icon:t?d.B4.CHECK_WITH_CIRCLE:void 0,type:t?"requests-approved":"requests-denied",onDismiss:r.ZT}))},dispatchSuccessWithRequesterName:({requesterName:t})=>{e(o.R.enqueue({message:(0,l.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}),icon:d.B4.CHECK_WITH_CIRCLE,type:"requests-approved",onDismiss:r.ZT}))},dispatchRequestAlreadyHandled:()=>{e(o.R.enqueue({message:(0,l.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:"requests-approved"}))},dispatchProcessingError:({multiple:t})=>{e(o.R.enqueue({message:t?(0,l.t)("admin_dashboard.requests.error_multiple"):(0,l.t)("admin_dashboard.requests.error_single"),error:!0,button:{text:(0,l.t)("admin_dashboard.requests.error_reload"),action:()=>{i.ZP.reload("Admin requests dashboard error")}}}))},dispatchGenericError:()=>{e(o.R.enqueue({message:(0,l.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,l.t)("admin_dashboard.requests.error_reload"),action:()=>{i.ZP.reload("Admin requests dashboard error")}}}))}}}function m(e,t){let a=(0,s.I0)();(0,n.useEffect)(()=>{e&&!t&&a(c.U2({forceRefetch:!0}))},[a,e,t])}},183584:function(e,t,a){a.d(t,{U:()=>f});var n=a(750357),s=a(577851),r=a(451410),i=a(514177),l=a(317429),o=a(224051),d=a(158639),c=a(555792),u=a(590914),m=a(469271),_=a(871567),p=a(926941),g=a(736309),h=a(95238);function x(e){let t,a=r.dd({open:e.open,onClose:e.onClose}),d=(0,s.I0)(),x=(0,o.A9)(e.plan.key.parentId,e.plan.key.type!==g.k9.TEAM),f=(0,s.v9)(e=>e.teamBilling),v=e.plan.key.type===g.k9.TEAM?f.summary.currency:x.data?.currency,b=()=>d(m.hV());return t=!v||e.isELA?e.filteredRowCount!==e.numRequestsToApprove?(0,n.jsx)("p",{children:(0,u.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})}):(0,n.jsx)("p",{children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.numRequestsToApprove})}):(0,n.jsxs)(n.Fragment,{children:[e.filteredRowCount!==e.numRequestsToApprove&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:(0,u.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})}),(0,n.jsx)("br",{})]}),(0,n.jsx)("p",{children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.body")})]}),(0,n.jsx)(i.fC,{manager:a,width:"lg",children:(0,n.jsx)(p.Ui,{name:h.V4.APPROVE_ALL_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId,entryPoint:e.entryPoint},children:(0,n.jsxs)(l.AU,{children:[(0,n.jsx)(l.h4,{children:(0,n.jsx)(l.Dx,{children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.title")})}),(0,n.jsx)(l.uT,{children:t}),(0,n.jsx)(l.$_,{children:(0,n.jsxs)(l.Dj,{children:[(0,n.jsx)(c.XT,{variant:"secondary",onClick:b,trackingProperties:{trackingDescriptor:_.y.CANCEL},children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")}),(0,n.jsx)(c.XT,{variant:"primary",onClick:()=>{b(),e.onConfirm()},trackingProperties:{trackingDescriptor:_.y.APPROVE_ALL},children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.numRequestsToApprove})})]})})]})})})}let f=(0,a(712824).Y3)(function(e){return(0,n.jsx)(d.X,{label:"ApproveAllConfirmationModal",children:(0,n.jsx)(x,{...e})})},"ApproveAllConfirmationModal")},579112:function(e,t,a){a.d(t,{r:()=>eo});var n=a(750357),s=a(853505),r=a(577851),i=a(273634),l=a(45190),o=a(195787),d=a(661193),c=a(1128),u=a(602691),m=a(868002),_=a(488470),p=a(211812),g=a(65181),h=a(619369),x=a(111611),f=a(479852),v=a(10553),b=a(118960),j=a(363240),y=a(555792),I=a(590914),T=a(596522),E=a(74752),S=a(871567),N=a(271264);function A({onClose:e,onApprove:t,onDecline:a,requestId:s}){let r=(0,j.Dv)(T.NE),l=(0,j.Dv)(T.oh),o=!!r||l.has(s),c=(0,N.f)(i.k.MONETIZATION_EXPANSION);return(0,n.jsxs)("div",{className:d.B.wFull.flex.flexColumn.gap8.$,children:[(0,n.jsx)(y.r,{onClick:()=>{t(),e()},disabled:o,trackingProperties:{trackingDescriptor:S.y.APPROVE},trackingOptions:c,children:(0,n.jsx)(E.BO,{text:(0,I.t)("admin_dashboard.request_flyout.approve"),showSpinner:"approving"===r&&l.has(s)})}),(0,n.jsx)(y.r,{onClick:()=>{a(),e()},variant:"secondary",disabled:o,trackingProperties:{trackingDescriptor:S.y.DECLINE},trackingOptions:c,children:(0,n.jsx)(E.BO,{text:(0,I.t)("admin_dashboard.request_flyout.decline"),showSpinner:"declining"===r&&l.has(s)})})]})}a(607906);var w=a(444947),C=a(158639),R=a(818723),k=a(44332),O=a(589937),q=a(836682),L=a(491420),P=a(21686),M=a(274008),D=a(5929),B=a(83946),U=a(594017),G=a(224051),F=a(225095);function V(e){return(0,n.jsx)(C.X,{label:"SeatCostInfo",children:(0,n.jsx)(H,{...e})})}function H({seatType:e,seatCostResult:t,isProrationBillingEnabled:a,planUser:s}){let i=(0,r.I0)(),l=(0,b.I6)().unwrapOr(null),o=t.reason===c.y.AVAILABLE_SEAT,d=o?(0,n.jsx)(B.d,{}):(0,n.jsx)(U.V,{}),u=l?.key.type===f.k9.ORG,m=(0,G.A9)(l?.key.parentId,l?.key.type!==f.k9.TEAM),_=(0,r.v9)(e=>e.teamBilling),p=l?.key.type===f.k9.TEAM?_.summary.currency:m.data?.currency;return(0,n.jsxs)("div",{style:L.sx.flex.itemsCenter.justifyBetween.flexRow.p8.pr16.gap4.wAuto.bRadius5.textBodyMediumStrong.if(o,L.sx.colorBgSelected,L.sx.colorBgSecondary).$,"data-testid":"seat-cost-info",children:[(0,n.jsxs)("div",{style:L.sx.flex.flexRow.itemsCenter.justifyBetween.gap4.$,children:[d,(0,n.jsx)("div",{children:o?u?(0,I.tx)("admin_dashboard.request_flyout.seat_cost.no_cost_for_approval"):(0,I.tx)("admin_dashboard.request_flyout.seat_cost.this_will_use_available_seat",{seatType:(0,P.Wq)(e)}):a&&t.price?(0,I.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval",{seatType:(0,P.Wq)(e),seatCost:t.price}):(0,I.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval_no_price",{seatType:(0,P.Wq)(e)})})]}),!!s.currentSeat&&(0,n.jsx)(D.zx,{onClick:()=>(0,F.Uu)({currency:p,dispatch:i,planUser:{id:s.id,userId:s.user.id,name:s.user.name,handle:s.user.handle,currentSeatType:s.currentSeat},nextSeatType:e,hideFooter:!0}),variant:"link",children:(0,n.jsx)("p",{style:L.sx.textBodyMedium.$,children:(0,I.tx)("admin_dashboard.request_flyout.seat_cost.see_details")})})]})}function W({label:e,value:t,onClick:a}){let s=(0,n.jsx)(q.L,{className:"xh8yej3 xdpxx8g",text:t??"-"});return(0,n.jsxs)("div",{className:d.B.flex.flexColumn.overflowBreakWord.textBodyMedium.$,children:[(0,n.jsx)("div",{className:d.B.colorTextSecondary.$,children:e}),a?(0,n.jsx)(y.CN,{className:"xt0psk2 xh8yej3 x1e9o9zf xt0b8zv",onClick:a,children:s}):s]})}function z({request:e,lastActiveValue:t,billingGroupName:a,currentSeatValue:s}){let i,l=(0,r.I0)(),o=(0,R.fm)((0,k.zL)(e.createdAt)),d=(0,n.jsx)(W,{label:(0,I.t)("admin_dashboard.request_flyout.body.email"),value:e.email,onClick:e.email?t=>{t.stopPropagation(),e.email&&l(M.s4({emailList:[e.email]}))}:void 0}),c=(0,n.jsx)(W,{label:(0,I.t)("admin_dashboard.request_flyout.body.role"),value:e.jobTitle&&(0,R.ZP)(e.jobTitle)}),u=(0,n.jsx)(W,{label:(0,I.t)("admin_dashboard.request_flyout.body.request_sent"),value:o}),m=(0,n.jsx)(W,{label:(0,I.t)("admin_dashboard.request_flyout.body.current_seat"),value:s?(0,P.qx)(s):"-"}),_=(0,R.fm)((0,k.zL)(t)),p=(0,n.jsx)(W,{label:(0,I.t)("admin_dashboard.request_flyout.body.last_active"),value:t?_:"-"});return i=a?[[d,c,p],[(0,n.jsx)(W,{label:(0,I.t)("admin_dashboard.request_flyout.body.billing_group"),value:a}),m,u]]:[[d,m,u],[c,p]],(0,n.jsx)("div",{style:L.sx.flex.gap24.p16.colorBorder.b1.add({borderRadius:"13px"}).$,children:i.map((e,t)=>(0,n.jsx)("div",{style:L.sx.add({width:"calc((100% - 56px)/2)"}).flex.flexColumn.flex1.gap24.$,children:e},`requestInfoColumn${t}`))})}function K({failedToLoadPrices:e}){return(s.useEffect(()=>{e&&(0,w.L9)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"request_flyout"},{forwardToDatadog:!0})},[e]),e)?(0,n.jsx)(O.f,{dataTestId:"pricing-error-banner",color:O.Z.WARNING,padding:8,text:(0,I.tx)("admin_dashboard.request_flyout.price_fetching_error")}):null}function $({request:e,planUser:t,billingGroupName:a,seatCostResult:s,shouldHideSeatCostInfo:r,isProrationBillingEnabled:i,failedToLoadPrices:l}){return(0,n.jsx)(C.X,{label:"Body",children:(0,n.jsxs)("div",{className:d.B.flex.flexColumn.hFull.justifyBetween.gap16.mb8.$,"data-testid":"request-flyout-body",children:[(0,n.jsx)("div",{className:d.B.flex.flexColumn.gap24.$,children:(0,n.jsx)(z,{request:e,billingGroupName:a,lastActiveValue:t.lastActive,currentSeatValue:t.currentSeat})}),(0,n.jsxs)("div",{children:[!r&&!!s&&(0,n.jsx)(V,{seatType:e.billableProductKey,seatCostResult:s,isProrationBillingEnabled:i,planUser:t}),(0,n.jsx)(K,{failedToLoadPrices:l})]})]})})}var Y=a(739640),Z=a(541814),X=a(53022),Q=a.n(X),J=a(659461);let ee="request_flyout--secondaryIcon---cIJb";function et({request:e}){let t=e.name||e.email||(0,I.t)("admin_dashboard.requests.no_name"),a={id:e.userId,name:t,email:e.email??"",imgUrl:e.imgUrl??""};return(0,n.jsxs)("div",{"data-testid":"request-flyout-header",className:d.B.flex.flexColumn.gap16.$,children:[(0,n.jsxs)("div",{className:"request_flyout--avatarContainer--GUy6z",children:[(0,n.jsx)(J.Yt,{size:48,user:a}),e.hasBeenNudged?(0,n.jsx)("div",{className:Q()(ee,"request_flyout--reminderIcon--o-qps"),"data-testid":"seat-requests-flyout-avatar-reminder",children:(0,n.jsx)(Z.F,{style:L.sx.add({rotate:"35deg",marginLeft:"-2px",marginTop:"-2px"}).$})}):(0,n.jsx)("div",{className:Q()(ee,"request_flyout--planIcon--xneVR"),"data-testid":"seat-requests-flyout-avatar-seat-type",children:(0,n.jsx)(F.UV,{type:e.billableProductKey,removeBackgroundColor:!0,size:"16"})})]}),(0,n.jsxs)("div",{className:d.B.flex.flexColumn.$,children:[(0,n.jsxs)("div",{...{className:"x78zum5 x1q0g3np x193iq5w x6s0dn4 xfex06f"},children:[(0,n.jsx)(q.L,{text:t,className:d.B.textHeadingMedium.fontSemiBold.$}),e.orgPermission===f.Gu.GUEST&&(0,n.jsx)(Y.C,{size:"lg",variant:"defaultOutline",children:(0,I.tx)("admin_dashboard.requests.badge.guest")})]}),(0,n.jsx)("div",{className:d.B.textHeadingMedium.fontMedium.$,children:(0,I.tx)("admin_dashboard.request_flyout.requested_a_seat",{seatType:(0,P.Wq)(e.billableProductKey)})})]}),!!e.lastNudgedAt&&(0,n.jsx)("div",{className:"request_flyout--reminder--6lXz2","data-testid":"nudged-request-banner",children:(0,I.tx)("admin_dashboard.requests.reminder_sent",{time:(0,k.uG)(e.lastNudgedAt)})}),e.message&&(0,n.jsx)("div",{style:L.sx.overflowBreakWord.colorBgSecondary.textBodyMedium.colorTextSecondary.pt8.pb8.pr16.pl16.add({borderRadius:"0 13px 13px 13px"}).$,children:e.message})]})}var ea=a(486245);function en(){return(0,n.jsxs)("div",{className:d.B.flex.flexColumn.gap16.$,"data-testid":"request-flyout-loading-skeleton-header",children:[(0,n.jsx)(ea.g4,{style:L.sx.w48.h48.bRadiusFull.$}),(0,n.jsx)(ea.g4,{style:L.sx.add({width:"20%"}).h16.$}),(0,n.jsx)(ea.g4,{style:L.sx.add({width:"40%"}).h24.$})]})}function es(){return(0,n.jsxs)("div",{className:d.B.flex.flexColumn.gap16.wFull.$,"data-testid":"request-flyout-loading-skeleton-body",children:[(0,n.jsx)(ea.g4,{className:d.B.wFull.h32.$}),(0,n.jsx)(ea.g4,{className:d.B.wFull.h200.$})]})}function er(){return(0,n.jsxs)("div",{className:d.B.flex.flexColumn.gap8.$,"data-testid":"request-flyout-loading-skeleton-footer",children:[(0,n.jsx)(ea.g4,{style:L.sx.wFull.h32.$}),(0,n.jsx)(ea.g4,{style:L.sx.wFull.h32.$})]})}let ei=(0,s.forwardRef)((e,t)=>(0,n.jsx)(m.D,{open:e.open,trackingName:e.trackingName,trackingProperties:e.trackingProperties,children:(0,n.jsx)(_.z.Root,{ref:t,open:e.open,onClose:e.onClose,children:e.children})})),el=function({request:e,billingGroups:t,onClose:a,onApprove:m,onDecline:j}){let y,I,T,E,S=(0,r.I0)(),N=(0,b.I6)().unwrapOr(null);if(!N)throw Error("Missing Plan.");let w=N.key.type===f.k9.ORG,C=(0,r.v9)(t=>{let a=t.teamMembersByTeamId[N.key.parentId??""];return a?a[e?.email??""]:void 0}),{calculateCostForSeatTypeIncrease:R,status:k}=(0,c.Y)(N,e),O=R(),q=(0,x.K)({reportErrorsToTeam:i.k.SCALE}),L=(0,u.p)(),[P,M]=(0,s.useState)();(0,s.useEffect)(()=>{async function t(){await S(g.NK({teamId:N?.key.parentId??""}))}async function a(){M(await S(p.__({orgId:N?.key.parentId??"",userId:e?.userId??""})))}return w&&a(),N?.key.type===f.k9.TEAM&&t(),()=>M(null)},[S,w,N?.key.parentId,N?.key.type,e?.userId]);let D=(0,l.DG)(v.s5h,{orgId:N?.key.parentId??"",orgUserIds:P?[P.id]:[]},{enabled:!!P&&t.length>0});if(!e)return(0,n.jsx)(n.Fragment,{});E=w?{id:P?.id??"",user:{id:P?.user.id??"",name:P?.user.name??"",handle:P?.user.handle??""},lastActive:P?.last_seen??void 0,currentSeat:P?P.active_seat_type?.key??h.mI.VIEW:void 0}:{id:C?.team_user?.id??"",user:{id:C?.team_user?.user_id??"",name:C?.name??"",handle:C?.team_user?.user?.handle??""},lastActive:C?.last_active?new Date(1e3*C.last_active).toISOString():void 0,currentSeat:C?C.team_user?.active_seat_type?.key??h.mI.VIEW:void 0};let B=!P||"loading"===D.status,U="errors"===k,G=q||U||c.y.MISSING_CURRENCY===O?.reason||c.y.COST_MESSAGING_DISABLED===O?.reason;if(!E||w&&B)y=(0,n.jsx)(en,{}),I=(0,n.jsx)(es,{}),T=(0,n.jsx)(er,{});else{let s=((e,t)=>{let a=(0,o.Wg)(t.data?.org)?.baseOrgUserMembersById;if(!a)return;let[n]=a,s=e.length>0&&n?e.find(e=>e.id===n.licenseGroupMember?.licenseGroupId)??null:null;return s?.name})(t,D);y=(0,n.jsx)(et,{request:e}),I=(0,n.jsx)($,{request:e,planUser:E,billingGroupName:s,seatCostResult:O,shouldHideSeatCostInfo:G,failedToLoadPrices:U,isProrationBillingEnabled:L}),T=(0,n.jsx)(A,{onClose:a,onApprove:m,onDecline:j,requestId:e.id})}return(0,n.jsx)(_.z.Contents,{children:(0,n.jsxs)("div",{className:d.B.flex.flexColumn.justifyBetween.hFull.p24.gap24.$,children:[(0,n.jsx)(_.z.HiddenTitle,{children:e.id}),y,(0,n.jsxs)("div",{className:d.B.flex.flexColumn.justifyBetween.hFull.gap16.$,children:[I,T]})]})})};function eo(e){let{request:t,billingGroups:a,open:s,onClose:r,onApprove:i,onDecline:l,trackingName:o,trackingProperties:d,flyoutRef:c}=e;return{requestFlyout:(0,n.jsx)(ei,{open:s,onClose:r,trackingName:o,trackingProperties:{...d},ref:c,children:(0,n.jsx)(el,{request:t,billingGroups:a,onClose:r,onApprove:i,onDecline:l})})}}},515963:function(e,t,a){a.d(t,{C:()=>eW});var n=a(750357),s=a(853505),r=a(577851),i=a(870102),l=a(193447),o=a(273634),d=a(363240),c=a(53022),u=a.n(c),m=a(146804),_=a(869366),p=a(45190),g=a(158639),h=a(716843),x=a(228737),f=a(879370),v=a(739842),b=a(44332),j=a(486245),y=a(226304),I=a(836682),T=a(323154),E=a(661193),S=a(590914),N=a(491420),A=a(1093),w=a(804890),C=a(864197),R=a(696817),k=a(358852),O=a(945065),q=a(602691),L=a(21686),P=a(503947),M=a(596522),D=a(731039),B=a(74752),U=a(398655),G=a(569620),F=a(183584),V=a(451410),H=a(514177),W=a(317429),z=a(224051),K=a(555792),$=a(469271),Y=a(871567),Z=a(926941),X=a(271264),Q=a(736309),J=a(95238);function ee(e){let t,a=V.dd({open:e.open,onClose:e.onClose}),s=(0,r.I0)(),i=(0,z.A9)(e.plan.key.parentId,e.plan.key.type!==Q.k9.TEAM),l=(0,r.v9)(e=>e.teamBilling),d=e.plan.key.type===Q.k9.TEAM?l.summary.currency:i.data?.currency,c=()=>s($.hV());t=!d||e.isELA?(0,S.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.requestsToApprove.length}):(0,S.tx)("admin_dashboard.seat_requests.bulk_approve_modal.body");let u=(0,X.f)(o.k.MONETIZATION_EXPANSION);return(0,n.jsx)(Z.Ui,{name:J.V4.BULK_APPROVE_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId},children:(0,n.jsx)(H.fC,{manager:a,width:"lg",children:(0,n.jsxs)(W.AU,{children:[(0,n.jsx)(W.h4,{children:(0,n.jsx)(W.Dx,{children:(0,S.tx)("admin_dashboard.seat_requests.approve_all_modal.title")})}),(0,n.jsx)(W.uT,{children:t}),(0,n.jsx)(W.$_,{children:(0,n.jsxs)(W.Dj,{children:[(0,n.jsx)(K.XT,{variant:"secondary",onClick:c,trackingProperties:{trackingDescriptor:Y.y.CANCEL},trackingOptions:u,children:(0,S.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")}),(0,n.jsx)(K.XT,{variant:"primary",onClick:()=>{c(),e.onConfirm()},trackingProperties:{trackingDescriptor:Y.y.APPROVE},trackingOptions:u,children:(0,S.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.requestsToApprove.length})})]})})]})})})}let et=(0,a(712824).Y3)(function(e){return(0,n.jsx)(g.X,{label:"BulkApproveConfirmationModal",children:(0,n.jsx)(ee,{...e})})},"BulkApproveConfirmationModal");var ea=a(579112),en=a(87509),es=a(662687),er=a(477188),ei=a(1640),el=a(240660),eo=a(619369),ed=a(328403),ec=a(877208),eu=a(111611),em=a(371241),e_=a(658790),ep=a(242802),eg=a(570243),eh=a(479852),ex=a(10553),ef=a(381613),ev=a(260736),eb=a(908637),ej=a(5794),ey=a(223875),eI=a(351678),eT=a(545449),eE=a(119875),eS=a(821308),eN=a(621298),eA=a(595475),ew=a(913408),eC=a(417027);function eR(e){let t=(0,eA.n_)("seen_admin_seat_approval_settings_onboarding"),a=(0,d.Dv)(t),{show:s,isShowing:r,complete:i}=(0,eN.I)({overlay:eC.RHV,priority:(0,eS.w)(eC.RHV)},[a]);return(0,eT.O)(()=>{s({canShow:e=>!e})}),(0,n.jsx)(ew.ZZ,{clickOutsideToHide:!0,description:(0,S.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.description"),emphasized:!0,isShowing:r,onClose:i,primaryCta:{label:(0,S.tx)("general.got_it"),onClick:i,type:"button",ctaTrackingDescriptor:Y.y.GOT_IT},targetKey:eE.nz,title:(0,S.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.title"),trackingContextName:"",userFlagOnShow:"seen_admin_seat_approval_settings_onboarding"})}var ek=a(303501),eO=a(957892);a(607906);var eq=a(1128);function eL({request:e,plan:t,handleRequests:a,isELA:s,isProrationBillingEnabled:r}){let i=(0,d.Dv)(M.NE),l=(0,d.Dv)(M.oh),{calculateCostForSeatTypeIncrease:c}=(0,eq.Y)(t,e),u=e.billableProductKey,m=c(),_=!!i||l.has(e.id),p="approving"===i&&l.has(e.id),g=(0,X.f)(o.k.MONETIZATION_EXPANSION);return p?(0,n.jsx)("div",{...{className:"x78zum5 x6s0dn4 xe8ttls"},children:(0,n.jsx)(ek.T,{size:"sm"})}):(0,n.jsx)(K.Hz,{"aria-label":(0,S.t)("admin_dashboard.requests.approve"),onClick:t=>{t.stopPropagation(),a({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0})},disabled:_,trackingProperties:{trackingDescriptor:Y.y.APPROVE},htmlAttributes:{"data-testid":"approve-button-single",...(0,M.gs)(u,m,s,r)},trackingOptions:g,children:(0,n.jsx)(eO.H,{})})}var eP=a(355002);function eM({request:e,setHighlightedItemId:t}){let a=(0,X.f)(o.k.MONETIZATION_EXPANSION);return(0,n.jsx)(K.Hz,{"aria-label":(0,S.t)("admin_dashboard.requests.details.title"),onClick:a=>{a.stopPropagation(),t(e.id)},trackingProperties:{trackingDescriptor:Y.y.REQUEST_DETAILS,requestId:e.id},trackingOptions:a,children:(0,n.jsx)(eP.M,{})})}var eD=a(19518),eB=a(128517),eU=a(192080);function eG(e){let t=(0,r.I0)(),a=(0,eB.LB)(),s=a?.type===e.type;return(0,n.jsxs)(eD.u,{showingDropdown:s,type:e.type,dispatch:t,isRightAligned:!0,children:[(0,n.jsx)("div",{"data-testid":e.dataTestId,children:e.isDefaultFilter?e.defaultFilterLabel:e.filterLabel}),s&&(0,n.jsx)(f.rh,{dispatch:t,className:eU.w4,style:a.data.position,children:e.renderFilterOptions()})]})}var eF=a(800250);let eV="approving-all-requests",eH="RequestFlyout";function eW(e){return(0,n.jsx)(g.X,{label:"SeatRequestsPage",children:(0,n.jsx)(ez,{...e})})}function ez({plan:e,isOrgAdmin:t,defaultAdminEntryPoint:a}){let c,g=e?.key.type==="team"?D.YH.TEAM:D.YH.ORG,V=e.key.parentId??"",H=(0,ei.Y)(),W=s.useRef(null),z=s.useRef(null),K=(0,q.p)(),Q=(0,X.f)(o.k.MONETIZATION_EXPANSION),ee=(0,r.I0)(),{seatAvailability:eT}=(0,O.g)(e),{Sprig:eE}=(0,h.Z)(),[eS,eN]=(0,s.useState)(!1),[eA,ew]=(0,s.useState)(""),[eC,ek]=(0,s.useState)(null),[eO,eq]=(0,s.useState)(D.rE.NEWEST_FIRST),[eP,eD]=(0,d.KO)(M.NE),eB=(0,s.useRef)(0),[eW,ez]=(0,s.useState)(0),eK=(0,r.v9)(({selectedView:e})=>e),e$=a??M.Bz,{dispatchSuccess:eY,dispatchSuccessWithRequesterName:eZ,dispatchRequestAlreadyHandled:eX,dispatchProcessingError:eQ,dispatchGenericError:eJ}=(0,G.$)(),[e0,e1]=(0,d.KO)(P.u),[e9,e5]=(0,d.KO)(M.oh),[e4,e7]=(0,s.useState)(()=>new Set),[e3,e8]=(0,s.useState)(()=>new Set),[e2,e6]=(0,s.useState)(null),[te,tt]=(0,s.useState)(0),[ta,tn]=(0,s.useState)(0),[ts,tr]=(0,s.useState)(D._I.ALL_MANAGED_REQUESTS),[ti,tl]=(0,s.useState)(ts),[to,td]=(0,s.useState)(null),tc=(0,eg.$4)(),tu=(0,ep.dO)(),tm=g===D.YH.ORG,t_=(0,s.useMemo)(()=>tm?(0,eg.O)(tc,tu,!1).groupsUserIsAdminOf:[],[tc,tu,tm]),tp=(0,s.useMemo)(()=>t_?t_.map(e=>e.id):[],[t_]),tg=(0,s.useMemo)(()=>ts===D._I.ALL_MANAGED_REQUESTS?t?[null,...tp]:tp:null,[ts,tp,t]),th=(0,s.useMemo)(()=>{switch(ti){case D._I.ALL_ORG_REQUESTS:return null;case D._I.ALL_MANAGED_REQUESTS:return t?[null,...tp]:tp;case D._I.ALL_UNASSIGNED_REQUESTS:return t?[null]:[];default:if(!(ti in D._I))return[ti];return null}},[ti,tp,t]),tx=(0,s.useMemo)(()=>JSON.stringify({search_query:eA,billable_product_key:eC,refreshNonce:te,sortTypeNonce:eO,billing_group_ids:th,org_user_permission:to}),[eA,eC,te,eO,th,to]),tf=(0,s.useMemo)(()=>JSON.stringify({billing_group_ids:tg}),[tg]),tv=(0,p.DG)((0,ex.YL7)({planType:g,planId:V,sortOrder:eO===D.rE.NEWEST_FIRST?"desc":"asc",filterParams:tx,firstPageSize:25})),tb=(0,D.tl)({planType:g,planId:V,filterParams:tx,processedRequestIds:e3}),tj=(0,D.tl)({planType:g,planId:V,filterParams:JSON.stringify({refreshNonce:tx,billing_group_ids:tg}),processedRequestIds:e3}),ty=(0,p.DG)((0,ex.qZF)({orgId:V}),{enabled:tm}),tI="loaded"===tv.status,tT=tI&&!!tv.data?.adminDashboardRequests?.isLoadingNextPage,tE=tI&&!!tv.data?.adminDashboardRequests?.hasNextPage(),[tS,tN]=(0,s.useState)({loading:!0,requestId:void 0,request:void 0}),tA=tm&&"loaded"===ty.status&&ty.data?.org?.bigmaEnabledAt&&t,tw=tm&&"loaded"===ty.status&&t?ty.data?.org?.orgSharedSetting?.configuredUpgradeRequestSetting:void 0,tC=(0,D.iv)({isIntendedAudience:tm&&"loaded"===ty.status&&ty.data?.org?.bigmaEnabledAt!==null&&!1===t});(0,G.M)(tm,t);let tR=(0,eu.K)({reportErrorsToTeam:o.k.SCALE}),tk=!tI||tT||tE||tS.loading,tO=tb?.length??0,tq=tj?.length??0,tL=[g,V].toString(),tP=e0[tL],tM=tq?Math.max(tq,0):0,tD=tj&&tP!==tM,tB=tq>0||null===tj&&!!tP;s.useEffect(()=>{if(tD){let e={...e0};e[tL]=tM,e1(e)}},[tD,tL,tM]);let tU=eS&&null===tO;(0,s.useEffect)(()=>{tI&&e6(new Date)},[tI]),(0,s.useEffect)(()=>{let e=(0,e_.BA)("approvalRequestId");e?tN(t=>({...t,requestId:e})):tN(e=>({...e,loading:!1})),(0,e_.Zo)("approvalRequestId")},[]),(0,s.useEffect)(()=>{async function e(e){let t=await (0,em._)(e,ee);t?tN(e=>({...e,request:t,loading:!1})):tN(e=>({...e,loading:!1}))}tS.requestId&&e(tS.requestId)},[tS.requestId,ee]),(0,_.L)(()=>{if(tS.requestId&&tS.request){let e=tS.request.requestableOrgUser?.user?.name??tS.request.requestableTeamUser?.user?.name??"";t0({approve:!0,selectedRequestIds:[tS.requestId],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:D.Fg.EMAIL,successHandler:e?()=>{eZ({requesterName:e}),tN({loading:!1,requestId:void 0,request:void 0})}:eY})}},tk,e=>!e);let tG=(0,s.useMemo)(()=>{let e=new Set(e4);if(!tI||!tv?.data?.adminDashboardRequests)return[];let t=tv.data?.adminDashboardRequests.reduce((t,a)=>{let n=a.id,s=a.request,r=a.user,i=a.userId;if(s.status!==m.OptionalStatus.Loaded||r.status!==m.OptionalStatus.Loaded)return t;let l=s.data,o=r.data;if(!l||!o)return e.has(n)||e.add(n),t;if(!l.billableProductKey)return t;let d=(0,ec.Jl)(l.billableProductKey);if(e.has(n))return t;if("pending"!==l.status)return e.has(n)||e.add(n),t;let c=!!l.lastNudgedAt;if(n===tS.requestId)return e.has(n)||e.add(n),t;let u=l.requestableTeamUser?.currentSeat;return t.push({id:n,createdAt:l.createdAt,updatedAt:l.updatedAt,name:o.name,email:o.email,imgUrl:o.imgUrl,message:l.message&&l.message.trim().length>0?l.message:null,jobTitle:o.profile?.jobTitle??null,userId:i,hasBeenNudged:c,lastNudgedAt:l.lastNudgedAt,billableProductKey:d,currentSeat:{billableProductKey:u?.billableProductKey,billingInterval:u?.billingInterval},orgPermission:l.requestableOrgUser?.permission}),t},[]);return e8(t=>new Set([...t,...new Set(e)])),t.sort((e,t)=>{let a=e.lastNudgedAt??e.createdAt,n=t.lastNudgedAt??t.createdAt;return eO===D.rE.NEWEST_FIRST?n.getTime()-a.getTime():a.getTime()-n.getTime()})},[tI,tv.data,tS.requestId,e4,eO]),tF=s.useCallback(e=>tG.find(t=>t.id===e),[tG]),{highlightedItem:tV,setHighlightedItemId:tH,clearHighlightedItemId:tW}=(0,es.t)(tF,{interactionConfig:[{ref:z,shouldClearHighlight:!1},{ref:W,shouldClearHighlight:!1},{ref:H,shouldClearHighlight:!0}],onHighlight:()=>{z.current?.focus()},onClear:(0,er.c)(eH)}),tz=(0,s.useMemo)(()=>new Set(tG?.filter(e=>[eo.hH.DEVELOPER,eo.hH.EXPERT].includes(e.billableProductKey)&&e.message?.includes("Dev Mode")).map(e=>e.id)),[tG]);(0,_.L)(()=>{let e=(0,e_.BA)("viewRequestId");e&&(tG.find(t=>t.id===e)?tH(e):eX(),(0,e_.Zo)("viewRequestId"))},tk,e=>!e);let tK=(0,s.useMemo)(()=>(0,i.D)(ew,300),[ew]),t$=e=>e===D.M.GUESTS?(0,S.t)("admin_dashboard.requests.guests"):e===D.M.MEMBERS?(0,S.t)("admin_dashboard.requests.members"):(0,S.t)("admin_dashboard.requests.all_users"),tY=ts===D._I.ALL_ORG_REQUESTS&&tc.length>0,tZ=ts===D._I.ALL_MANAGED_REQUESTS&&(t_.length>0&&t||!t&&t_.length>1),tX=(tA||tC)&&(tY||tZ),tQ=s.useCallback(({approve:e,requestId:t,selectionMethod:a=D.Fg.SINGLE,entryPoint:n=e$,successHandler:s=eY})=>{e5(e=>new Set(e).add(t)),eD(e?"approving":"declining");let r=e?eb.e.approveRequests.bind(eb.e):eb.e.denyRequests.bind(eb.e),i=tG.find(e=>e.id===t);r({plan_id:V,plan_type:g,included_request_ids:[t],selection_method:a,entry_point:n,is_proration_billing_enabled:K,is_seat_increase_authorized:(0,M.Qr)(i?[i]:[],eT)}).then(t=>200!==t.status?void eJ():t.data.meta.failed_attempts>0?void eQ({multiple:!1}):void s({approve:e,numRequests:1,asyncUpdate:!1})).catch(()=>{eJ()}).finally(()=>{e5(e=>{let a=new Set(e);return a.delete(t),a}),eD(!1),tn(e=>e+1)})},[e$,eJ,eQ,eY,K,V,g,tG,eT,e5,eD]),tJ=s.useCallback(({approve:e,selectedRequestIds:t,approveAll:a,entryPoint:n=e$})=>{ez(eB.current),eD(a?"approving_all":e?"approving":"declining"),a&&tq&&ee(A.R.enqueue({message:(0,S.t)("admin_dashboard.requests.selected_count_approving",{numSelected:tq}),type:eV,timeoutOverride:1/0,icon:w.B4.SPINNER,preventDismissal:!0,role:"status"}));let s=a||eS,r=new Set(t),i=tG.filter(e=>r.has(e.id)),l={plan_id:V,plan_type:g,entry_point:n,async_processing:e,is_proration_billing_enabled:K,is_seat_increase_authorized:!!a||(0,M.Qr)(i,eT)},o=s?{...l,subtractive:!0,excluded_request_ids:a?[]:tG.map(e=>e.id).filter(e=>!r.has(e)),filter_params:a?tf:tx,timestamp:(e2??new Date).toISOString(),selection_method:a?D.Fg.APPROVE_ALL:D.Fg.BULK_SELECT}:{...l,included_request_ids:t,selection_method:D.Fg.BULK_SELECT,filter_params:tf},d=(t,a,n)=>200!==t?void eJ():a>0?void eQ({multiple:!0}):void eY({approve:e,numRequests:n,asyncUpdate:e}),c=()=>{eD(!1),ez(0),s&&tt(e=>e+1),eS&&eN(!1)};e?eb.e.approveRequests.bind(eb.e)(o).then(t=>{if(d(t.status,t.data.meta.failed_attempts,t.data.meta.successful_attempts),e){let e=t.data.meta.processed_request_ids;e7(t=>new Set([...t,...new Set(e)]))}tn(e=>e+1)}).catch(()=>{eJ()}).finally(()=>{a&&ee(A.R.dequeue({matchType:eV})),c()}):eb.e.denyRequests.bind(eb.e)(o).then(e=>{d(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts),tn(e=>e+1)}).catch(()=>{eJ()}).finally(()=>{c()})},[tf,e$,ee,eJ,eQ,eY,tx,K,e2,V,g,tG,eT,eS,eD,tq]),t0=s.useCallback(({approve:e,selectedRequestIds:t,approveAll:a=!1,shouldProcessAsSingleRequest:n=!1,singleRequestSelectionMethod:s,successHandler:r=eY,sprig:i,isHandlingInFlyout:l=!1})=>{let o=l?M.jW:e$,d="dashDeepLinkEntryPoint"in eK&&eK.dashDeepLinkEntryPoint||o;if(n){let a=s||D.Fg.SINGLE;tQ({approve:e,requestId:t[0],selectionMethod:a,entryPoint:d,successHandler:r})}else tJ({approve:e,selectedRequestIds:t,approveAll:a});i&&n&&i("track",e?"admin-dashboard-request-approved":"admin-dashboard-request-declined"),i&&g===D.YH.TEAM&&!e&&t.some(e=>tz.has(e))&&i("track","admin-dashboard-dev-mode-decline")},[g,eY,e$,tQ,tJ,tz,eK]),{requestFlyout:t1}=(0,ea.r)({request:tV,billingGroups:tc,flyoutRef:z,open:!!tV,onClose:tW,onApprove:()=>t0({approve:!0,selectedRequestIds:tV?[tV.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:D.Fg.SINGLE,sprig:eE,isHandlingInFlyout:!0}),onDecline:()=>t0({approve:!1,selectedRequestIds:tV?[tV.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:D.Fg.SINGLE,sprig:eE,isHandlingInFlyout:!0}),trackingName:eH,trackingProperties:{requestId:tV?.id}}),t9=s.useCallback(e=>{let t=e.name||e.email||(0,S.t)("admin_dashboard.requests.no_name");return(0,n.jsx)(ej.oJ,{entity:{id:e.userId,name:t,email:e.email??void 0,imgUrl:e.imgUrl},badge:e.orgPermission===eh.Gu.GUEST?{color:x.JV.DEFAULT,text:(0,S.t)("admin_dashboard.requests.badge.guest")}:void 0,size:24,defaultText:D.LL,includeUserEmailAddress:!0,className:eU.Wq})},[]),t5=s.useCallback(e=>{if(!(0,eo.Vl)(e.billableProductKey))return(0,n.jsxs)(n.Fragment,{children:[" ",(0,L.Wq)(e.billableProductKey)]});{let t=e.billableProductKey;return(0,n.jsxs)("div",{className:E.B.flex.gap8.itemsCenter.$,children:[(0,n.jsx)(k.UV,{type:t,size:"24"}),(0,L.Wq)(e.billableProductKey)]})}},[]),t4=s.useCallback(e=>(0,n.jsx)("div",{className:e.hasBeenNudged?eU.Sz:void 0,"data-tooltip-type":e.hasBeenNudged?ev.fR.TEXT:void 0,"data-tooltip":(0,S.t)("admin_dashboard.requests.sent_you_a_reminder",{requesterName:e.name??e.email??""}),children:(0,n.jsx)(b.Lt,{capitalize:!0,date:e.lastNudgedAt??e.createdAt})}),[]),t7=e=>e.lastNudgedAt?e.lastNudgedAt.getTime():e.createdAt.getTime(),t3=s.useMemo(()=>[{name:(0,S.t)("admin_dashboard.requests.columns.name"),className:eU.Lo,cellComponent:t9},{name:(0,S.t)("admin_dashboard.requests.columns.seat_type"),className:eU.P_,cellComponent:t5},{name:(0,S.t)("admin_dashboard.requests.columns.requested"),className:eU.l1,cellComponent:t4,sorting_key:M.b1.REQUESTED,getSortValue:t7,sortNumerically:!0},{name:(0,S.t)("admin_dashboard.requests.columns.note"),className:eU.Ht,cellComponent:e=>(0,n.jsx)(I.L,{text:e.message??"",showTooltip:T.s.NEVER,className:E.B.colorTextSecondary.$})}],[t9,t5,t4]),t8=(0,n.jsxs)("div",{className:E.B.flex.columnGap8.pl16.$,children:[tm&&t&&(0,n.jsx)(B.gW,{}),(!tm||t)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(B.Hu,{planId:V,planType:g,configuredUpgradeRequestSetting:tw}),(0,n.jsx)(eR,{})]}),tB&&(0,n.jsx)(R.J,{variant:"primary",onClick:()=>{if(null===tO||null===tq)return;let t=eP?l.ZT:()=>t0({approve:!0,approveAll:!0,selectedRequestIds:[]});if(tq===tO&&tq<1)return void t();ee($.K4({type:F.U,data:{plan:e,numRequestsToApprove:tq,filteredRowCount:tO,isELA:tR,onConfirm:t,entryPoint:e$}}))},innerText:"Approve all",dataTestId:"approve-all-button",disabled:null===tq||!!eP,trackingProperties:{trackingDescriptor:Y.y.APPROVE_ALL},trackingOptions:Q,children:(0,n.jsx)(B.BO,{text:(0,S.t)("admin_dashboard.requests.approve_all"),showSpinner:"approving_all"===eP})})]}),t2=(0,n.jsx)("div",{className:E.B.h32.cursorDefault.selectNone.$,children:(0,n.jsxs)(C.j,{spacing:0,children:[(0,n.jsx)(C.j,{spacing:0,children:[!0,!1].map(e=>(e=>{let a=e?D._I.ALL_MANAGED_REQUESTS:D._I.ALL_ORG_REQUESTS,s=e?en.Y3:en.ut,r=e?(0,S.tx)("admin_dashboard.managed_org_requests.title"):(0,S.tx)("admin_dashboard.all_org_requests.title",{orgName:"loaded"===ty.status?ty.data?.org?.name:"org"});return(0,n.jsxs)("div",{role:"button",tabIndex:0,className:E.B.flex.gap8.itemsCenter.font11.fontMedium.lh16.mr8.py4.px8.if(ts===a,E.B.colorText.bRadius5.colorBgPressed,E.B.colorTextSecondary).$,onClick:()=>{tr(a),tl(a),tn(+(0===ta))},"data-onboarding-key":s,"data-test-id":e?"your-requests-tab":"all-org-requests-tab",children:[r,(0,n.jsx)(U.D,{isOrgAdmin:!!t,managedRequests:e,planId:V,planType:g,processedRequestIds:e3,refreshNonce:te,refreshTabCountNonce:ta,selectedRequestView:ts,showAllOrgRequests:tA??!1,showBillingGroupAdminRequests:tC,viewableBillingGroupIds:t?[null,...tp]:tp})]})})(e))}),(0,n.jsx)(C.m,{}),t8]})}),t6=(0,n.jsxs)(n.Fragment,{children:[!!tA&&tc.length>0&&t2,(0,n.jsxs)(C.j,{padding:{top:4,bottom:8},strokeColor:"default",strokeWidth:{bottom:1},children:[(0,n.jsx)(y.Pl,{onChange:e=>tK((0,D.zD)(e)),query:eA,clearSearch:()=>ew(""),placeholder:(0,S.t)("admin_dashboard.requests.search_requests.placeholder"),maxInputLength:D.cn,resultsCount:tG.length}),(0,n.jsx)(C.m,{}),(tA||tC)&&(0,n.jsx)(eG,{type:D.jH,dataTestId:"user-type-filter",isDefaultFilter:null===to,defaultFilterLabel:(0,S.tx)("admin_dashboard.requests.filter.user_type_default"),filterLabel:(0,S.tx)("admin_dashboard.requests.filter.user_type",{selectedUserTypeFilter:(0,n.jsx)("span",{className:E.B.fontBold.$,children:t$(to)})}),renderFilterOptions:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.kq,{checked:null===to,onClick:()=>td(null),children:(0,S.t)("admin_dashboard.requests.all_users")}),(0,n.jsx)(f.Z0,{}),Object.values(D.M).map(e=>(0,n.jsx)(f.kq,{checked:to===e,onClick:()=>td(e),children:t$(e)},e))]})}),(0,n.jsx)(eG,{type:"UPGRADE_REQUESTS_SEAT_TYPE_DROPDOWN",dataTestId:"seat-type-filter",isDefaultFilter:null===eC,defaultFilterLabel:(0,S.tx)("admin_dashboard.requests.filter.seat_type_default"),filterLabel:(0,S.tx)("admin_dashboard.requests.filter.seat_type",{selectedSeatTypeFilter:(0,n.jsx)("span",{className:E.B.fontBold.$,children:(0,L.Wq)(eC??eo.mI.VIEW)})}),renderFilterOptions:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.kq,{checked:null===eC,onClick:()=>ek(null),children:(0,S.t)("admin_dashboard.requests.filter.seats_all_option")}),(0,n.jsx)(f.Z0,{}),ed.Hs.sort(ec.uE).map(e=>(0,n.jsx)(f.kq,{checked:eC===e,onClick:()=>ek(e),children:(0,L.Wq)(e)},e))]})}),tX&&(0,n.jsx)(eG,{type:D.He,dataTestId:"billing-group-filter",isDefaultFilter:ti===ts,defaultFilterLabel:(0,S.tx)("admin_dashboard.requests.filter.billing_group_default"),filterLabel:(0,S.tx)("admin_dashboard.requests.filter.billing_group",{selectedBillingGroupFilter:(0,n.jsx)("span",{className:E.B.fontBold.$,children:ti===D._I.ALL_ORG_REQUESTS||ti===D._I.ALL_MANAGED_REQUESTS?(0,S.t)("admin_dashboard.requests.from_all"):ti===D._I.ALL_UNASSIGNED_REQUESTS?(0,S.t)("admin_dashboard.requests.from_unassigned"):tc.find(e=>e.id===ti).name})}),renderFilterOptions:()=>{let e=ts===D._I.ALL_ORG_REQUESTS?tc:t_,t=[{key:ts,label:(0,S.t)("admin_dashboard.requests.from_all")}];return tC||t.push({key:D._I.ALL_UNASSIGNED_REQUESTS,label:(0,S.t)("admin_dashboard.requests.from_unassigned")}),(0,n.jsxs)(n.Fragment,{children:[t.map(e=>(0,n.jsx)(f.kq,{checked:ti===e.key,onClick:()=>tl(e.key),children:e.label},e.key)),(0,n.jsx)(f.Z0,{}),(0,n.jsx)(f.kq,{disabled:!0,checked:!1,onClick:l.ZT,children:(0,S.tx)(ts===D._I.ALL_ORG_REQUESTS?"admin_dashboard.requests.billing_groups":"admin_dashboard.requests.your_billing_groups")}),e.map(e=>(0,n.jsx)(f.kq,{checked:ti===e.id,onClick:()=>tl(e.id),children:e.name},e.id))]})}})]})]});return(0,n.jsxs)(Z.Ui,{name:J.V4.UPGRADE_REQUESTS_TABLE,properties:{adminRequestsDashboard:!0,orgId:tm?V:void 0,teamId:g===D.YH.TEAM?V:void 0,entryPoint:"dashDeepLinkEntryPoint"in eK?eK.dashDeepLinkEntryPoint:"",isBillingRemodelEnabled:!0},trackingOptions:Q,children:[(0,n.jsx)(el.Z,{title:(0,S.t)("admin_dashboard.requests.seat_title"),rightActions:!tA||tc.length<1?t8:void 0}),(0,n.jsx)("div",{className:u()(eU.eK,E.B.if(!tA||0===tc.length,E.B.pt4,E.B.pt12).$),children:(0,n.jsx)(ey.Ch,{actionBar:"approving_all"===eP?void 0:t=>tU?(0,n.jsx)("div",{className:E.B.w150.$,children:(0,n.jsx)(j.g4,{className:E.B.h12.w150.$,animationType:j.F4.SHIMMER_ON_MENU})}):(0,n.jsx)("div",{className:eU.Lj,children:(0,n.jsxs)(C.j,{spacing:8,children:[(0,n.jsx)(R.J,{variant:"toolbar-secondary",disabled:!!eP,onClick:eP?l.ZT:()=>t0({approve:!1,selectedRequestIds:t.map(e=>e.id),sprig:eE}),innerText:"Decline",dataTestId:"decline-button-multiple",trackingProperties:{trackingDescriptor:Y.y.DECLINE},trackingOptions:Q,children:(0,n.jsx)(B.BO,{text:(0,S.t)("admin_dashboard.requests.decline"),showSpinner:"declining"===eP})}),(0,n.jsx)(R.J,{variant:"primary",disabled:!!eP,onClick:eP?l.ZT:()=>ee($.K4({type:et,data:{plan:e,requestsToApprove:t,seatAvailability:eT,isELA:tR,calculateCostForSeatTypeBulkIncrease:(e,t)=>void 0,onConfirm:()=>t0({approve:!0,selectedRequestIds:t.map(e=>e.id)})}})),innerText:"Review",dataTestId:"approve-button-multiple",trackingProperties:{trackingDescriptor:Y.y.REVIEW},trackingOptions:Q,children:(0,D.BX)({text:(0,S.t)("admin_dashboard.requests.multi_select.review"),showSpinner:"approving"===eP})})]})}),actionBarClassName:u()(eU.Q4,tU?void 0:eU.ti),columns:t3,disabled:!!eP,emptyContent:(c=0===eA.length&&null===eC&&ti===ts&&null===to?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:E.B.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$,children:(0,S.tx)(tw&&tC?"admin_dashboard.requests.empty.configurable_upgrade_requests":"admin_dashboard.requests.no_requests_to_approve")}),(0,n.jsx)("div",{style:N.sx.add({maxWidth:"500px"}).lh16.cursorDefault.alignCenter.colorTextSecondary.$,children:tw?tw===ef.Xn.MEMBERS?(0,S.tx)("admin_dashboard.configured_upgrade_request_empty_state.members"):(0,S.tx)("admin_dashboard.configured_upgrade_request_empty_state.all_users"):(0,S.tx)("admin_dashboard.requests.when_a_seat_request_needs_to_be_reviewed")})]}):eA.length>0&&null===eC&&ti===ts&&null===to?(0,n.jsx)("div",{className:E.B.lh16.cursorDefault.colorText.$,children:(0,S.tx)("admin_dashboard.requests.empty.no_search_results")}):(0,n.jsx)("div",{className:E.B.lh16.cursorDefault.colorText.$,children:(0,S.tx)("admin_dashboard.requests.empty.no_filter_results",{resetFiltersLink:(0,n.jsx)(v.UU,{trusted:!0,onClick:()=>{ek(null),tl(ts),ew(""),td(null)},children:(0,S.tx)("admin_dashboard.requests.empty.reset_filters")})})}),(0,n.jsx)(C.j,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center",children:c})),getItemKey:e=>e.id,getTotalSelected:tU?void 0:(e,t)=>{let a;return eB.current=a=eS&&tO?Math.max(1,tO-(t.length-e.length)):e.length,a},hasNewScrollContext:!0,highlightState:{itemKey:tV?.id??null,setItemKey:tH},isLoading:tk,itemTypeContext:{itemType:D.jj,getSelectedCountString:e=>tU?"":"approving"===eP?(0,S.t)("admin_dashboard.requests.selected_count_approving",{numSelected:eW}):"declining"===eP?(0,S.t)("admin_dashboard.requests.selected_count_denying",{numSelected:eW}):(0,S.t)("admin_dashboard.requests.selected_count_request",{numSelected:e})},items:tG,minContentWidth:928,onFetchMore:tE?()=>{tI&&tv?.data?.adminDashboardRequests?.loadNext(25)}:void 0,onRowClick:e=>{e.id===tV?.id?tW():tH(e.id)},onSelectedItemsChange:e=>{0===e.length&&eN(!1)},onSetSortState:()=>eq(e=>e===D.rE.NEWEST_FIRST?D.rE.OLDEST_FIRST:D.rE.NEWEST_FIRST),onToggleSelectAll:e=>{eN(!e),tW()},rightActionColumns:[{name:"approve-single-column",className:eF.us,cellComponent:t=>(0,n.jsx)(eL,{request:t,plan:e,numRowsSelected:eB,handleRequests:t0,isELA:tR,isProrationBillingEnabled:K})},{...eI.H5,cellComponent:e=>(0,n.jsx)(eM,{request:e,setHighlightedItemId:tH})}],scrollBarAlwaysVisible:!0,scrollContentRef:W,sortState:(0,M.WY)(eO),stickyContent:t6,unselectableItemKeys:e9})}),t1]})}},821308:function(e,t,a){if(a.d(t,{w:()=>i}),9793==a.j)var n=a(940358);var s=a(417027);let r=[s.LlN,s.igr,s.RHV,s.d0v,s.SeD];function i(e){let t=r.indexOf(e);if(-1===t)return console.warn("Add overlay to ADMIN_DEFAULT_PLUS_OVERLAYS to set relative priority",e),n.b.DEFAULT_MODAL;let a=r.length;return n.b.DEFAULT_MODAL+(a-t)/a}},476387:function(e,t,a){a.d(t,{k:()=>p});var n=a(750357),s=a(577851),r=a(115908),i=a(875533),l=a(971565),o=a(590914),d=a(469271),c=a(926941),u=a(712824),m=a(68634);let _=(0,u.Y3)(function(e){return(0,n.jsx)(c.Ui,{name:"Enable AI Features Modal",properties:{planId:e.planId,planType:e.planType},children:(0,n.jsx)(m.P6,{title:(0,o.t)("admin_settings.ai.features_toggle.modal.header"),maxWidth:440,minWidth:440,fixedTop:!1,onConfirm:e.onEnable,confirmText:(0,o.t)("admin_settings.ai.features_toggle.modal.button"),children:(0,n.jsx)("div",{children:(0,o.tx)("admin_settings.ai.features_toggle.modal.description")})})})},"EnableAiFeaturesModal");function p(e){let t=(0,s.I0)();return(0,n.jsxs)(r.eB,{variant:"brand","data-testid":e.testId,children:[(0,n.jsx)(i.v,{title:(0,o.t)("admin_settings.ai.banner.title"),children:(0,n.jsx)("span",{style:{marginRight:8},children:(0,o.tx)("admin_settings.ai.banner.description")})}),(0,n.jsx)(l.r,{href:"#",onClick:()=>{t(d.K4({type:_,data:{onEnable:()=>{e.onEnable()},planId:e.planId,planType:e.planType}}))},children:(0,o.tx)("admin_settings.ai.features_toggle.enable_ai")})]})}},102931:function(e,t,a){let n;a.d(t,{F:()=>i});var s=a(471776),r=a(712824);function i(){return n??=(0,r.Y3)(s.Z.createLazyComponent(()=>Promise.all([a.e("1259"),a.e("7424"),a.e("9392"),a.e("6481"),a.e("1402"),a.e("313"),a.e("1779"),a.e("6985"),a.e("6761"),a.e("4126"),a.e("6006"),a.e("8925"),a.e("114"),a.e("5522"),a.e("6635"),a.e("1780"),a.e("3990"),a.e("1889"),a.e("8247"),a.e("224"),a.e("9268"),a.e("6811"),a.e("125")]).then(a.bind(a,95425)).then(e=>e.UpdateTeamDescriptionModal),(0,r.NQ)("UpdateTeamDescriptionModal")))}},868002:function(e,t,a){a.d(t,{D:()=>l});var n=a(750357),s=a(273634),r=a(498869),i=a(926941);function l(e){return(0,n.jsx)(r.SV,{boundaryKey:e.trackingName,team:e.team??s.k.SCALE,fallback:r.NY.NONE_I_KNOW_WHAT_IM_DOING,children:(0,n.jsx)(i.Ui,{name:e.trackingName,enabled:e.open,properties:e.trackingProperties,children:e.children})})}},123733:function(e,t,a){a.d(t,{P:()=>h});var n=a(750357),s=a(577851);if(9793==a.j)var r=a(810973);if(9793==a.j)var i=a(5929);if(9793==a.j)var l=a(771790);var o=a(574059),d=a(484299),c=a(661193),u=a(590914),m=a(864197);if(9793==a.j)var _=a(950918);var p=a(469271),g=a(118960);function h(e){let t=(0,s.I0)(),a=(0,g.lE)(),h=(0,g.b_)(a).unwrapOr(!1),x=(0,n.jsxs)(r.r,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",children:[" ",(0,u.tx)("resource_connection.request_modal.learn_more")," "]});return(0,n.jsxs)(m.j,{width:"fill-parent",height:"fill-parent",direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:16,padding:32,children:[(0,n.jsx)(d.oG,{src:(0,o.o1)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:150}),(0,n.jsx)("div",{className:c.B.textHeadingMedium.$,children:(0,u.t)("connected_projects_table.collaborate_in_a_connected_project")}),(0,n.jsx)("div",{className:c.B.textBodyLarge.$,style:{width:"508px",textAlign:"center"},children:h?(0,u.tx)("resource_connection.admin_ui.create_a_connected_project_body_for_permissioned_user_v3"):(0,u.tx)("resource_connection.admin_ui.connected_projects_help_you_collaborate_and_share_resources_with_external_teams",{learnMore:x})}),h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.zx,{iconPrefix:(0,n.jsx)(l.g,{}),variant:"primary",onClick:()=>{t(p.K4({type:_.E,data:{entryPoint:e.entryPoint}}))},children:(0,u.t)("resource_connection.admin_ui.connect_project")}),x]}),(0,n.jsx)("div",{className:c.B.h100.$})]})}},795160:function(e,t,a){a.d(t,{c:()=>w});var n=a(750357),s=a(853505),r=a(577851),i=a(810973),l=a(115908),o=a(875533),d=a(5929),c=a(645778),u=a(492342),m=a(53022),_=a.n(m),p=a(574059),g=a(45190),h=a(158639),x=a(484299),f=a(661193),v=a(590914),b=a(270961),j=a(950918),y=a(469271),I=a(121142),T=a(464687),E=a(10553),S=a(118960),N=a(832004);let A="connected_projects_tab_header--headerContainer--1gZ8S";function w(){return(0,n.jsx)(h.X,{label:"ConnectedProjectsTabHeader",children:(0,n.jsx)(C,{})})}function C(){let e=(0,r.I0)(),t=(0,S.lE)(),a=(0,S.I6)().unwrapOr(null),m=(0,S.b_)(t).unwrapOr(!1),h=a?.tier,w=a?.connectionCount??0,C=(0,T.e)(a?.key,()=>{e(y.K4({type:j.E,data:{entryPoint:b.UB.CONNECTED_PROJECT_ADMIN_UI}}))}),R=(0,n.jsx)(i.r,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",children:(0,v.tx)("resource_connection.request_modal.learn_more")}),k=(0,g.DG)(E.ByV,{name:"seen_connected_projects_org_member_banner"}),O=s.useMemo(()=>"loaded"!==k.status||!!k.data?.currentUser?.userFlagByName,[k]),q=(0,u.BZ)().fc_initial_onboarding_enabled&&!O?(0,n.jsx)("div",{className:_()(f.B.pt10.$,A),children:(0,n.jsx)(l.oV,{variant:"brand",icon:(0,n.jsx)(c.d,{style:{"--color-icon":"var(--color-icon-brand)"}}),onDismiss:()=>{e(I.v({seen_connected_projects_org_member_banner:!0}))},children:(0,n.jsx)(o.v,{children:(0,v.tx)("resource_connection.connected_projects_tab.connected_projects_help_you_collaborate",{learnMore:R})})})}):(0,n.jsx)(n.Fragment,{});return m?(0,n.jsxs)("div",{className:A,children:[(0,n.jsx)("div",{className:"connected_projects_tab_header--contentContainer--sLKLJ",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:f.B.textBodyLarge.$,children:(0,v.tx)("resource_connection.admin_ui.create_a_connected_project_to_collaborate_with_external_teams_without_being_charged_for_their_seats",{learnMore:R})}),(0,n.jsxs)("div",{className:"connected_projects_tab_header--buttonContainer--gr7f8",children:[(0,n.jsx)("div",{children:(0,n.jsx)(d.zx,{onClick:C,children:(0,v.t)("resource_connection.admin_ui.connect_project")})}),(0,n.jsx)("div",{className:f.B.colorTextSecondary.$,children:a&&h&&w?a.unlimitedConnectionsEnabled||a.testingOnlyUnlimitedConnectionsEnabled?(0,v.tx)("resource_connection.admin_ui.unlimited_connections",{numConnections:w}):N.T[h]-w>0?(0,v.tx)("resource_connection.admin_ui.using_num_of_connections",{numConnections:w,maxConnections:N.T[h]}):(0,v.tx)("resource_connection.admin_ui.maxed_out_connections",{maxConnections:N.T[h],planTier:(0,N.j)(h)}):null})]})]})}),(0,n.jsx)(x.oG,{src:(0,p.o1)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:115,height:80})]}):q}},488470:function(e,t,a){a.d(t,{z:()=>I});var n=a(750357),s=a(853505),r=a(63493),i=a(10936),l=a(410802),o=a(317429),d=a(29260),c=a(53022),u=a.n(c),m=a(106702),_=a(792330),p=a(581045),g=a(929448),h=a(143681),x=a(661193),f=a(590914);let v=(0,s.createContext)(null);function b(){let e=(0,s.useContext)(v);if(!e)throw Error("missing FlyoutContext for flyout! does the current component have a Flyout.Root parent?");return e}function j(){return b().close}function y(){let e=j();return(0,n.jsx)("div",{className:u()(x.B.absolute.flex.itemsCenter.justifyCenter.$,"flyout--close---Do2o"),children:(0,n.jsx)(l.h,{onClick:()=>e("button"),"aria-label":(0,f.t)("modal.close"),children:(0,n.jsx)(d.t,{})})})}let I={Root:(0,s.forwardRef)((e,t)=>{let a=(0,s.useMemo)(()=>({ref:t,close:e.onClose}),[e.onClose,t]);return(0,n.jsx)(v.Provider,{value:a,children:(0,n.jsx)(m.M,{initial:!1,children:e.open?(0,n.jsx)(s.Fragment,{children:e.children},"contents"):null})})}),Contents:function({children:e,...t}){let{close:a,ref:l}=b(),o=(0,h.l)(l);(0,s.useEffect)(()=>{let e=o.current;if(!e)return;let t=e=>{"Escape"===e.key&&(e.preventDefault(),a("escape"))};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[a,o]);let[d,c]=(0,_.oO)(),m=(0,p.c)("translateX(100%)");return(0,s.useEffect)(()=>{let e;return d?m.set("none"):(m.set("translateX(100%)"),e=setTimeout(c,600)),()=>{clearTimeout(e)}},[d]),(0,n.jsx)(r.L,{children:(0,n.jsx)(i.f,{...t,className:u()(x.B.fixed.top0.right0.bottom0.left0.zIndexModal.colorText.eventsNone.$,t.zIndexOverrideClassName),ref:o,children:(0,n.jsx)("div",{className:u()(x.B.my0.mr0.mlAuto.top0.wFull.eventsAuto.$,"flyout--contents--bO7GT"),children:(0,n.jsxs)(g.E.div,{className:x.B.hFull.elevation400.colorBg.flex.flexColumn.$,style:{transform:m,...d?{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1)"}:{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1), visibility 0s 500ms",visibility:"hidden"}},onTransitionEnd:e=>{"transform"!==e.propertyName||d||c()},children:[(0,n.jsx)(y,{}),e]})})})})},Header:function(e){return(0,n.jsx)("div",{className:u()(x.B.minH40.bb1.colorBorder.bSolid.flex.itemsCenter.selectNone.flexShrink0.overflowHidden.$,"flyout--header--g1Hgg"),children:e.children})},HiddenTitle:o.Tv,Title:function(e){return(0,n.jsx)(i._,{className:x.B.textBodyMediumStrong.pl16.pr4.wFull.noWrap.ellipsis.overflowHidden.$,children:e.children})},Body:function(e){let{height:t,...a}=e;return(0,n.jsx)("div",{className:u()(x.B.overflowAuto.if("fill"===e.height,x.B.hFull).$,"flyout--body--ZgZ6X"),"data-testid":"flyout-body",children:a.children})},useClose:j}},662687:function(e,t,a){a.d(t,{t:()=>l});var n=a(853505);if(9793==a.j)var s=a(406866);var r=a(621223);let i=9793==a.j?["Enter"," "]:null;function l(e,t={}){let[a,o]=(0,n.useState)(null),d=(0,r.e)(t),c=(0,n.useRef)(),u=(0,n.useCallback)(e=>{o(null),c.current??=e},[]),m=(0,n.useMemo)(()=>{if(a)return e(a)},[a,e]),_=a&&!m;return(0,n.useEffect)(()=>{if(!a&&c.current){let e=t.onClear;e?.(c.current),c.current=void 0}},[a,t.onClear]),(0,n.useEffect)(()=>{a&&!_&&d.current.onHighlight?.()},[_,a,d]),(0,n.useEffect)(()=>{_&&u("item-missing")},[_,u]),(0,n.useEffect)(()=>{let e=d.current?.interactionConfig;if(!a||!e)return;let t=t=>{let a=new Map;e.forEach(e=>{e.ref.current&&a.set(e.ref.current,e.shouldClearHighlight)});let n=(0,s.O_)(t.target);for(;n;){let e=a.get(n);if("boolean"==typeof e)return e;n=n.parentElement}return!1},n=e=>{t(e)&&u("other-interaction")},r=e=>{i.includes(e.key)&&t(e)&&u("other-interaction")},l=e=>{t(e)&&setTimeout(()=>u("other-interaction"),0)};return document.body.addEventListener("pointerdown",n,{capture:!0}),document.body.addEventListener("keydown",r,{capture:!0}),document.body.addEventListener("input",l,{capture:!0}),()=>{document.body.removeEventListener("pointerdown",n,{capture:!0}),document.body.removeEventListener("keydown",r,{capture:!0}),document.body.addEventListener("input",l,{capture:!0})}},[a,u,d]),{highlightedItem:m,setHighlightedItemId:o,clearHighlightedItemId:u}}},477188:function(e,t,a){a.d(t,{c:()=>o});var n=a(853505),s=a(273634),r=a(444947),i=a(926941),l=a(271264);function o(e){let{properties:t}=(0,i.gx)(),a=(0,l.f)(s.k.MONETIZATION_EXPANSION);return(0,n.useCallback)(n=>{(0,r.L9)("admin_flyout_closed",{...t,flyout_id:e,reason:n},a)},[t,e,a])}},1640:function(e,t,a){a.d(t,{J:()=>i,Y:()=>l});var n=a(750357),s=a(853505);let r=(0,s.createContext)(null);function i(e){return(0,n.jsx)(r.Provider,{value:e.layoutRef,children:e.children})}function l(){let e=(0,s.useContext)(r);if(!e)throw Error("useLayoutRef must be used within LayoutRefProvider");return e}},406389:function(e,t,a){a.d(t,{X:()=>ep,S:()=>eg});var n=a(750357),s=a(853505),r=a(577851),i=a(640144),l=a(850340),o=a(612661),d=a(273634),c=a(451410),u=a(514177),m=a(317429),_=a(810973),p=a(912707),g=a(607906),h=a(444947),x=a(903132),f=a(158639),v=a(632959),b=a(498869),j=a(589937),y=a(661193),I=a(555792),T=a(590914),E=a(1093),S=a(804890),N=a(864197),A=a(889835),w=a(328403),C=a(479852),R=a(920860),k=a(248893),O=a(602691);C.Lz.STUDENT,C.Lz.STARTER;let q=w.Hs.dict(()=>"-");var L=a(871567),P=a(926941),M=a(23234),D=a(619369),B=a(111611),U=a(118960),G=a(95238),F=a(734753),V=a(712824),H=a(5794),W=a(13333),z=a(923785),K=a(758513),$=a(924732),Y=a(491420),Z=a(358852),X=a(21686),Q=a(405037),J=a(267195),ee=a(260736);function et({billableProductKey:e,upgradeApprovalSetting:t,isELA:a,isProrationBillingEnabled:s,isProvisionalAccessEnabled:r}){let i=(0,X.OF)(t),l=(0,X.G0)(t,a,s,r),o=(0,X.ou)(t,a);return(0,n.jsx)(z.Option,{htmlAttributes:{"data-testid":"upgrade-approval-settings-dropdown-option","data-tooltip":o,"data-tooltip-hide-immediately":"","data-tooltip-max-width":"200px","data-tooltip-show-immediately":"","data-tooltip-show-left":"","data-tooltip-text-left":"","data-tooltip-type":ee.fR.TEXT},value:`${e}##${t}`,disabled:!!o,children:(0,n.jsxs)(K.JX,{...{className:"x1iorvi4 xjkvuk6 x163pfp xy13l1i"},children:[(0,n.jsx)("div",{children:i}),(0,n.jsx)("div",{className:"x126k92a xkrz9af x1p6yuv4",children:l})]})})}let ea=[i.UpgradeApprovalSettings.MANUAL_APPROVAL,i.UpgradeApprovalSettings.INSTANT_APPROVAL_IF_AVAILABLE_SEATS,i.UpgradeApprovalSettings.INSTANT_APPROVAL];function en({priceString:e,billableProductKey:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:r,isELA:i,shouldHidePrice:l,isProrationBillingEnabled:o,isProvisionalAccessEnabled:d}){let c=(0,s.useId)(),u=(0,X.er)(t),m=ea.map(e=>(0,n.jsx)(et,{billableProductKey:t,upgradeApprovalSetting:e,isELA:i,isProrationBillingEnabled:o,isProvisionalAccessEnabled:d},`${t}_${e}`));return(0,n.jsxs)(K.JX,{gap:8,"data-testid":`auto-approval-settings-selector-${t}`,children:[(0,n.jsx)(N.j,{direction:"horizontal",horizontalAlignItems:"space-between",verticalAlignItems:"start",children:(0,n.jsxs)(N.j,{direction:"horizontal",horizontalAlignItems:"space-between",children:[(0,n.jsxs)(N.j,{direction:"horizontal",children:[(0,n.jsx)(Z.UV,{type:t,size:"24"}),(0,n.jsx)("label",{htmlFor:c,className:y.B.textBodyMediumStrong.$,children:u})]}),(0,n.jsx)(es,{shouldHidePrice:l,priceString:e,seatType:t})]})}),(0,n.jsxs)(z.Root,{value:`${t}##${a}`,onChange:e=>{let[t,a]=e.split("##");r(t,a)},children:[(0,n.jsx)(z.ManuallyLabeledTrigger,{id:c,width:"fill",size:"lg",children:(0,X.OF)(a)}),(0,n.jsx)(z.Container,{children:m.flatMap((e,t)=>t<m.length-1?[e,(0,n.jsx)(z.Separator,{},`divider-${t}`)]:e)})]})]})}function es({shouldHidePrice:e,seatType:t,priceString:a}){let s=e?(0,T.t)("general.whats_included_aria_label",{seatType:(0,J.ss)(t)}):(0,T.t)("general.price_per_month",{priceString:a}),r=(0,n.jsx)("div",{"data-testid":`${t}-price`,style:Y.sx.noWrap.colorTextSecondary.$,children:e?(0,T.tx)("general.whats_included"):(0,T.tx)("general.price_per_month",{priceString:a})});return(0,n.jsx)($.Y,{type:"listbox",text:r,popoverContent:(0,n.jsx)("div",{style:Y.sx.flex.flexColumn.gap8.$,children:(0,n.jsx)(Q.S,{seatType:t,spacing:8})}),ariaLabel:s})}let er=i.UpgradeApprovalSettings.INSTANT_APPROVAL_IF_AVAILABLE_SEATS;function ei(e){let t=(0,r.I0)(),{currency:a,renewalTerm:i}=e,p=c.dd({open:e.open,onClose:e.onClose}),g=(0,B.K)({reportErrorsToTeam:d.k.SCALE}),h=(0,O.p)(),f=(0,U.I6)(),[b]=(0,x.Eh)(f),j=!!b.data?.campfireProvisionalAccessEnabled,N=(0,M.Mg)(),V=N.data;if(s.useEffect(()=>{"errors"===N.status&&console.error("orgManagesSeatsViaScimQueryResult error",N.errors)},[N]),"loaded"!==b.status){let e=Error("disabled"===b.status?"Plan fetching disabled":"Error fetching plan");throw(0,v.Jz)(d.k.MONETIZATION_EXPANSION,e),e}let W=b.data;if(!W){let e=Error("No Plan found");throw(0,v.Jz)(d.k.MONETIZATION_EXPANSION,e),e}let{billableProductKeyContractPrices:z,status:K}=function(e,t,a){let n=(0,A.C6)(e.key,w.Hs,{renewalTerm:a,unit:k.Xp.MONTH}),[s]=(0,x.Eh)(n),r=(0,O.p)(),i="disabled"===s.status?Error("Missing contract rate args."):"errors"===s.status?Error("Error while fetching pricing."):void 0;if(i&&(0,v.Jz)(d.k.MONETIZATION_EXPANSION,i),i||!t)return{billableProductKeyContractPrices:q,status:s.status};let{data:l}=s;if(null===l||!r)return{billableProductKeyContractPrices:q,status:s.status};let c=new R.Lr(t);return{billableProductKeyContractPrices:w.Hs.dict(e=>{if(!(0,o.Rw)(l[e]))return c.formatMoney(l[e].amount,{showCents:!1})}),status:s.status}}(W,a,i),[$,Y]=(0,s.useState)(w.Hs.dict(e=>{switch(e){case D.hH.EXPERT:return W.upgradeApprovalSettingsExpert??er;case D.hH.DEVELOPER:return W.upgradeApprovalSettingsDeveloper??er;case D.hH.COLLABORATOR:return W.upgradeApprovalSettingsCollaborator??er;case D.hH.CONTENT:return W.upgradeApprovalSettingsContent??er;default:(0,l.vE)(e)}})),Z=(0,s.useCallback)(async()=>{if(!W.key.type||!W.key.parentId)throw Error("Missing plan key type or parentId.");await F.g.updateUpgradeApprovalSettings(W.key.type,W.key.parentId,$),p.props?.close({source:"button"}),t(E.R.enqueue({message:(0,T.t)("plan_settings.auto_approval_settings.approval_settings_applied"),icon:S.B4.CHECK_WITH_CIRCLE}))},[$,t,p.props,W.key.parentId,W.key.type]),X=(0,s.useCallback)((e,t)=>{Y(a=>({...a,[e]:t}))},[]),Q=g||!a||"errors"===K||!h;return(0,n.jsx)(P.Ui,{name:G.V4.AUTO_APPROVAL_SETTINGS_MODAL,properties:{planType:W.key.type,orgId:W.key.type===C.k9.ORG?W.key.parentId:void 0,teamId:W.key.type===C.k9.TEAM?W.key.parentId:void 0},children:(0,n.jsx)(u.fC,{manager:p,width:480,children:(0,n.jsxs)(m.AU,{allowOverflow:!0,children:[(0,n.jsx)(m.uT,{children:(0,n.jsxs)("div",{className:y.B.pt32.pb8.px8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header",children:[(0,n.jsx)(H.Kn,{entity:{...W,id:W?.id??void 0},shape:"CIRCLE",size:48,className:y.B.mb16.$}),(0,n.jsx)("div",{className:y.B.textHeadingMedium.mb8.$,children:e.isCurfEnabledForMembers?(0,T.tx)("plan_settings.auto_approval_settings.title.curf_enabled_for_members"):(0,T.tx)("plan_settings.auto_approval_settings.title")}),(0,n.jsxs)("span",{children:[(0,n.jsx)("span",{className:y.B.textBodyMedium.colorTextSecondary.preWrap.$,children:g?e.isCurfEnabledForMembers?(0,T.tx)("plan_settings.auto_approval_settings_subtitle_ela_and_curf_enabled_for_members"):(0,T.tx)("plan_settings.auto_approval_settings_subtitle_ela"):e.isCurfEnabledForMembers?(0,T.tx)("plan_settings.auto_approval_settings.subtitle_curf_members"):(0,T.tx)("plan_settings.auto_approval_settings.subtitle")}),(0,n.jsx)(_.r,{href:"https://help.figma.com/hc/articles/4414038570007",newTab:!0,children:(0,T.tx)("plan_settings.auto_approval_settings.learn_about_seat_management_options")})]}),(0,n.jsxs)("div",{className:y.B.mt24.flex.flexColumn.gap24.mb8.$,children:[Object.keys($).map(e=>{let t=z[e];if((0,o.Rw)(t))return null;let a=$[e];return(0,o.Rw)(a)?null:(0,n.jsx)(en,{billableProductKey:e,isELA:g,isProrationBillingEnabled:h,isProvisionalAccessEnabled:j,planName:W.name,priceString:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:X,shouldHidePrice:Q},e)}),!!e.isCurfEnabledForMembers&&(0,n.jsx)(ed,{}),V&&!e.isCurfEnabledForMembers&&(0,n.jsx)(eo,{}),(0,n.jsx)(el,{failedToLoadPrices:"errors"===K})]})]})}),(0,n.jsx)(m.$_,{children:(0,n.jsxs)(m.Dj,{children:[(0,n.jsx)(I.XT,{variant:"secondary",onClick:()=>p.props?.close({source:"button"}),trackingProperties:{trackingDescriptor:L.y.CANCEL},children:(0,T.tx)("plan_settings.auto_approval_settings.cancel")}),(0,n.jsx)(I.XT,{variant:"primary",onClick:Z,trackingProperties:{trackingDescriptor:W.key.type?W.key.type===C.k9.ORG?L.y.SAVE_FOR_ORGANIZATION:L.y.SAVE_FOR_TEAM:L.y.SAVE},children:W.key.type?W.key.type===C.k9.ORG?(0,T.tx)("plan_settings.auto_approval_settings.save_for_plan.organization"):(0,T.tx)("plan_settings.auto_approval_settings.save_for_plan.team"):(0,T.tx)("plan_settings.auto_approval_settings.save_for_plan.no_plan")})]})})]})})})}function el({failedToLoadPrices:e}){return(s.useEffect(()=>{e&&(0,h.L9)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"seat_approval_settings_modal"},{forwardToDatadog:!0})},[e]),e)?(0,n.jsx)(j.f,{dataTestId:"pricing-error-badge",color:j.Z.WARNING,padding:8,text:(0,T.tx)("plan_settings.auto_approval_settings.pricing_error")}):null}function eo(){return(0,n.jsx)(P.Ui,{name:G.V4.SCIM_INFO_BADGE,children:(0,n.jsx)(j.f,{dataTestId:"scim-info-badge",color:j.Z.INFORMATION,padding:8,text:(0,n.jsxs)(N.j,{direction:"vertical",spacing:4,children:[(0,n.jsx)("p",{...g.NQ(p.w.textBodyMediumStrong),children:(0,T.tx)("plan_settings.auto_approval_settings.scim_badge.title")}),(0,n.jsx)("p",{children:(0,T.tx)("plan_settings.auto_approval_settings.scim_badge.subtitle")})]})})})}function ed(){return(0,n.jsx)(P.Ui,{name:G.V4.CURF_MEMBER_INFO_BADGE,children:(0,n.jsx)(j.f,{dataTestId:"curf-member-only-info-badge",color:j.Z.INFORMATION,padding:8,text:(0,n.jsxs)(N.j,{direction:"vertical",spacing:4,children:[(0,n.jsx)("p",{className:y.B.textBodyMediumStrong.$,children:(0,T.tx)("plan_settings.auto_approval_settings.curf_badge.title")}),(0,n.jsxs)("p",{children:[" ",(0,T.tx)("plan_settings.auto_approval_settings.curf_badge.subtitle")]})]})})})}let ec=(0,V.Y3)(function(e){return(0,n.jsx)(f.X,{label:"AutoApprovalSettingsModal",children:(0,n.jsx)(b.SV,{boundaryKey:"AutoApprovalSettingsModal",fallback:b.NY.DEFAULT_FULL_PAGE,hasCustomWASMBuild:!1,children:(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)(W.Y,{hiddenTitle:"Auto Approval Settings",estimatedWidth:480,estimatedHeight:577}),children:(0,n.jsx)(ei,{...e})})})})});var eu=a(5929);let em=(0,V.Y3)(function(e){let t=(0,U.I6)().unwrapOr(null),a=c.dd({open:e.open,onClose:e.onClose});return(0,n.jsx)(P.Ui,{name:"Auto Approval Settings Modal (CURF All Users)",children:(0,n.jsx)(u.fC,{manager:a,width:480,children:(0,n.jsxs)(m.AU,{children:[(0,n.jsx)(m.uT,{children:(0,n.jsxs)("div",{className:y.B.pt32.px8.pb8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header",children:[(0,n.jsx)(H.Kn,{entity:{...t,id:t?.id??void 0},shape:"CIRCLE",size:48,className:y.B.mb16.$}),(0,n.jsx)("div",{className:y.B.textHeadingMedium.mb8.$,children:(0,T.tx)("plan_settings.curf_auto_approval_settings_modal.title")}),(0,n.jsx)("span",{className:y.B.textBodyMedium.colorTextSecondary.$,children:(0,T.tx)("plan_settings.curf_auto_approval_settings_modal.description")})]})}),(0,n.jsx)(m.$_,{children:(0,n.jsx)(m.Dj,{children:(0,n.jsx)(eu.zx,{variant:"primary",onClick:()=>a.props?.close({source:"button"}),children:(0,T.tx)("plan_settings.curf_auto_approval_settings_modal.got_it")})})})]})})})},"CurfAllUsersAutoApprovalSettingsModal");var e_=a(469271);function ep({dispatch:e,currency:t,renewalTerm:a,isCurfEnabledForMembers:n}){return()=>{e(e_.K4({type:ec,data:{currency:t,renewalTerm:a,isCurfEnabledForMembers:n}}))}}function eg({dispatch:e}){return()=>{e(e_.K4({type:em,data:{}}))}}},755304:function(e,t,a){let n;a.d(t,{a:()=>S});var s=a(750357),r=a(853505),i=a(577851),l=a(451410),o=a(514177),d=a(317429),c=a(492342),u=a(158639),m=a(589937),_=a(558089),p=a(661193),g=a(590914),h=a(926941),x=a(479852),f=a(576028),v=a(734753),b=a(865880),j=a(712824),y=a(5794),I=a(342738);function T(e){return(0,s.jsx)(u.X,{label:"AssetTransferAdminListModal",children:(0,s.jsx)(E,{...e})})}function E(e){let t=(0,i.I0)(),a=l.dd({open:e.open,onClose:e.onClose}),n=(0,I.BA)(e.entryPoint),[u,j]=r.useState();r.useEffect(()=>{if((0,c.BZ)().can_transfer_admin_list)v.g.getTransferAdmins(e.planType,e.planId,e.resourceType,e.resourceIdOrKey).then(({data:e})=>{j(e.meta.map(e=>({id:e.id,name:e.name,email:e.email,imgUrl:e.img_url})))});else{if(e.planType===x.k9.ORG)return void f.uU.getOrgAdmins({orgId:e.planId}).then(({data:e})=>{j(e.meta)});e.planType===x.k9.TEAM&&b.j.getTeamAdmins({teamId:e.planId}).then(({data:e})=>{j(e.meta)})}},[e.planType,e.planId,e.resourceType,e.resourceIdOrKey,t]);let T=e.planName??(0,g.t)("general.fallback_team_name");return(0,s.jsx)(h.Ui,{name:"Asset Transfer Admin List Modal",children:(0,s.jsx)(o.fC,{manager:a,width:"lg",children:(0,s.jsxs)(d.AU,{children:[(0,s.jsx)(d.h4,{children:(0,s.jsx)(d.Dx,{children:(0,g.tx)("asset_transfers.editor_admin_list_modal.admins_at_entity",{entity:T})})}),(0,s.jsxs)(d.uT,{scrolling:"manual",children:[(0,s.jsx)(m.f,{color:m.Z.INFORMATION,text:n?(0,g.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_project_to_an_external_organization"):(0,g.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_team_to_an_external_organization")}),(0,s.jsx)(_.l,{className:"asset_transfer_admin_list_modal--scrollContainer--POwiO",children:(0,s.jsx)("div",{className:"asset_transfer_admin_list_modal--contentContainer--xIiiL",children:(()=>{if(u){let e=u.map(e=>(0,s.jsx)("div",{className:p.B.py8.$,children:(0,s.jsx)(y.oJ,{entity:e,includeUserEmailAddress:!0,showIsMe:!1,hideFallbackInitial:!1},e.id)},e.id));return(0,s.jsx)("ul",{children:e})}})()})})]})]})})})}function S(){return n??=(0,j.Y3)(T,"AssetTransferAdminListModal")}},418798:function(e,t,a){a.d(t,{g:()=>w});var n=a(750357),s=a(853505),r=a(577851),i=a(451410),l=a(514177),o=a(317429),d=a(5929),c=a(578242),u=a(574059),m=a(158639),_=a(484299),p=a(259946),g=a(661193),h=a(590914),x=a(1093),f=a(832004),v=a(469271),b=a(926941),j=a(464687),y=a(479852),I=a(118960),T=a(260736),E=a(233089),S=a(712824),N=a(770185);function A(e){let t=(0,r.I0)(),a=()=>{t(v.hV())},m=(0,I.I6)().unwrapOr(null),S=i.dd({...e,onClose:a}),[A,w]=s.useState(!1),C=e.resourceConnectionInvite.hostPlan,R=e.resourceConnectionInvite.connectingPlan,k=(0,j.e)(m?.key,()=>{E.m.approveResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{w(!1),a(),t(x.R.enqueue({message:(0,h.t)("resource_connection.visual_bell.connection_request_approved")}))}).catch(e=>{w(!1),a(),"Connecting plan has reached active connection and outgoing invite limit"===e.message?t(x.R.enqueue({message:m?.key.type===y.k9.TEAM?(0,h.t)("resource_connection.visual_bell.org_at_limit"):(0,h.t)("resource_connection.visual_bell.team_at_limit"),error:!0})):"Connecting plan cannot have external collaboration controls enabled"===e.message?t(x.R.enqueue({message:(0,h.t)("resource_connection.visual_bell.org_must_disable_ecc"),error:!0})):"Host settings"===e.message?t(x.R.enqueue({message:(0,h.t)("resource_connection.visual_bell.host_settings",{hostPlanName:C.name}),error:!0})):t(x.R.enqueue({message:(0,h.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},e.resourceConnectionInvite.id);return m?(0,n.jsx)(b.Ui,{name:"Project Connection Confirm Modal",properties:{folderId:e.resourceConnectionInvite.resourceId},children:(0,n.jsx)(l.fC,{manager:S,width:"lg",children:(0,n.jsxs)(o.AU,{children:[(0,n.jsx)(o.h4,{children:(0,n.jsx)(o.Dx,{children:(0,h.tx)("resource_connection.confirm_modal.connect_with_host_plan",{hostPlanName:C.name})})}),(0,n.jsxs)(o.uT,{padding:0,children:[(0,n.jsx)(_.oG,{src:(0,u.o1)("79f17ef7df0c5ed50af97e6c5e98651536c94352"),alt:"Connected projects logo",className:g.B.maxWFull.$}),(0,n.jsxs)("div",{className:g.B.flex.flexColumn.pl16.pr16.pt16.pb0.maxWFull.$,children:[(0,n.jsx)("p",{className:g.B.$,children:(0,h.tx)("resource_connection.confirm_modal.in_a_connected_project_anyone_you_invite_can_edit",{connectingPlanName:(0,n.jsx)("span",{className:g.B.fontSemiBold.$,children:R.name})})}),(0,n.jsx)("div",{className:N.rA,children:(0,n.jsx)("div",{className:N.qE})}),(0,n.jsxs)("div",{className:N.gP,children:[(0,n.jsxs)("div",{className:N.nK,children:[(0,n.jsx)("p",{className:N.zq,children:(0,h.t)("resource_connection.project_name")}),(0,n.jsx)("p",{children:e.resourceConnectionInvite.resourceName})]}),(0,n.jsxs)("div",{className:N.nK,children:[(0,n.jsx)("p",{className:N.zq,children:(0,h.t)("resource_connection.host")}),(0,n.jsx)("p",{children:C.name})]}),(0,n.jsxs)("div",{className:N.nK,children:[(0,n.jsx)("p",{className:N.zq,children:(0,h.t)("resource_connection.invited_by")}),(0,n.jsx)("p",{children:e.resourceConnectionInvite.hostInviter?.name})]}),(0,n.jsxs)("div",{className:N.nK,children:[(0,n.jsxs)("div",{className:N.XB,children:[(0,n.jsx)("p",{className:N.zq,children:(0,h.t)("resource_connection.available_projects")}),(0,n.jsx)("div",{...!m?.tier?{}:{"data-tooltip":(0,h.t)("resource_connection.available_projects_tooltip",{connectedProjectLimit:f.T[m.tier],planType:(0,f.j)(m.tier)??""}),"data-tooltip-type":T.fR.TEXT,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-show-below":!0},children:(0,n.jsx)(c.X,{style:{"--color-icon":"var(--color-icon-secondary)"}})})]}),(0,n.jsx)("p",{children:m?m?.unlimitedConnectionsEnabled||m?.testingOnlyUnlimitedConnectionsEnabled?(0,h.t)("resource_connection.unlimited"):(f.T[m.tier]-(m?.connectionCount??0)).toString():""})]})]}),(0,n.jsx)("div",{className:N.rA,children:(0,n.jsx)("div",{className:N.qE})})]}),(0,n.jsxs)("div",{className:N.dK,children:[(0,n.jsx)("a",{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",target:"_blank",className:g.B.mr8.$,children:(0,n.jsx)(d.zx,{variant:"link",onClick:e=>e.stopPropagation(),children:(0,h.tx)("resource_connection.request_modal.learn_more")})}),(0,n.jsxs)("div",{className:g.B.flex.gap8.itemsCenter.$,children:[(0,n.jsx)(d.zx,{variant:"secondary",onClick:()=>{E.m.denyResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{w(!1),a(),t(x.R.enqueue({message:(0,h.t)("resource_connection.visual_bell.connection_request_denied")}))}).catch(e=>{w(!1),console.error("Error denying resource connection invite",e),t(x.R.enqueue({message:(0,h.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},children:(0,h.tx)("resource_connection.confirm_modal.decline")}),A?(0,n.jsx)(d.zx,{disabled:!0,children:(0,n.jsx)(p.jz,{})}):(0,n.jsx)(d.zx,{onClick:k,children:(0,h.tx)("resource_connection.connect")})]})]})]})]})})}):(0,n.jsx)(n.Fragment,{})}let w=(0,S.Y3)(function(e){return(0,n.jsx)(m.X,{label:"ResourceConnectConfirmModal",children:(0,n.jsx)(A,{...e})})},"ResourceConnectConfirmModal")},108854:function(e,t,a){a.d(t,{F:()=>d,n:()=>o});var n=a(853505),s=a(577851),r=a(45190),i=a(404639),l=a(10553);function o(e){let t=(0,r.DG)(l.Ngd,{id:e??""},{enabled:!!e}),a=(0,s.I0)();n.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team||a(i.fv({view:"recentsAndSharing"}))},[t,a])}function d(e){let t=(0,r.DG)(l.Ngd,{id:e??""},{enabled:!!e}),a=(0,s.I0)();n.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team?.hasPermission||a(i.fv({view:"recentsAndSharing"}))},[t,a])}},552034:function(e,t,a){if(a.d(t,{P4:()=>l,QG:()=>r,zd:()=>i}),9793==a.j)var n=a(408014);if(9793==a.j)var s=a(806520);function r(e){return e&&(0,n.i)(s.ww,e)||s.ww.OVERVIEW}function i(e){return e&&(0,n.i)(s.Ge,e)||s.Ge.ABANDONED_DRAFTS}function l(e,t,a){return e===s.mb.BILLING?r(t):e===s.mb.CONTENT?a.showResourceConnectionInviteModal||a.showResourceConnectionFlyout?s.Ge.CONNECTED_PROJECTS:i(t):t}},162233:function(e,t,a){a.d(t,{Q:()=>o});var n=a(853505),s=a(577851);if(9793==a.j)var r=a(670712);var i=a(637521),l=a(469271);function o(e,t,a,o,d,c){let u=(0,s.I0)();return n.useCallback(()=>{void 0!==t&&(e===i.Kv.MEMBERS&&t.team.org_id?u(l.K4({type:(0,r.n)(),data:{teamId:t.team.id,notifyOnSuccess:!0,initialView:0}})):u(l.K4({type:i.vs,data:{tab:e,teamSettingsProps:t,canAdmin:a,canEdit:o,canView:d,entryView:c}})))},[t,e,u,a,o,d,c])}},109923:function(e,t,a){a.d(t,{NO:()=>L,PD:()=>C});var n=a(750357),s=a(853505),r=a(577851),i=a(739640),l=a(363240),o=a(704516),d=a(224051),c=a(45190),u=a(581370),m=a(498869),_=a(240473),p=a(590914),g=a(731039),h=a(503947),x=a(628839),f=a(313680),v=a(634408),b=a(926941),j=a(348715),y=a(570243),I=a(479852),T=a(10553),E=a(185667),S=a(277413),N=a(260736);let A="admin_notifications_count_badge--yellowIcon--mrTI3";var w=a(492156);function C(e){let{getConfig:t}=(0,u.it)("exp_all_admin_request_dash"),a=(0,c.DG)(T.qZF,{orgId:e.planId},{enabled:e.planType===g.YH.ORG}),r=!!("loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&t().get("enabled",!1)&&!!e.isOrgAdmin,d=(0,g.iv)({isIntendedAudience:!!(e.planType===g.YH.ORG&&"loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&!1===e.isOrgAdmin}),m=e.isOrgAdmin?[null,...e.managedBillingGroups??[]]:e.managedBillingGroups,_=(0,c.DG)(T.GI1,{planType:e.planType,planId:e.planId,filterParams:r||d?JSON.stringify({billing_group_ids:m}):e.isOrgAdmin?JSON.stringify({billing_group_ids:[null]}):JSON.stringify({billing_group_ids:[]})}),x="loaded"===_.status&&_.data.adminDashboardRequestsTotalCount.status===o.OptionalStatus.Loaded&&("loaded"===a.status||e.planType===g.YH.TEAM)?_.data.adminDashboardRequestsTotalCount.data?.rowCount:void 0,f=x??0,[v,b]=(0,l.KO)(h.u),j=r?[e.planType,e.planId,!0].toString():[e.planType,e.planId].toString();s.useEffect(()=>{if(x){let e={...v};e[j]=f,b(e)}return()=>{let e={...v};delete e[j],b(e)}},[e.isDataLoaded,x,j]);let y=(v[j]??0)+(e.billingStatusCount||0)+(e.taxStatusCount||0);if(y<1)return null;let I="defaultFilled";return(e.billingStatusCount||e.taxStatusCount)&&(I="warningFilled"),void 0!==x&&y>0&&e.isDataLoaded?(0,n.jsx)(i.C,{"aria-label":(0,p.t)("sidebar.admin_notifications_count",{adminNotificationsCount:y}),variant:I,"data-testid":"admin-notifications-badge",children:y.toString()}):null}function R(e){let t=function(e,t){let a=(0,d.A9)(e.id),n=(0,y.$4)(),r=s.useMemo(()=>(0,j.F8)(a.data),[a.data]),i=a.data?.invoices,l=(0,j.BY)(r?{planKey:{parentId:e.id,type:I.k9.ORG},nextRenewalDate:r}:null);return s.useMemo(()=>{let e=(0,x.ZL)({invoices:i??[],licenseGroups:n,renewalConfirmed:l,userId:t.user_id,renewalAt:r});return+!!e?.notification},[i,r,l,n,t.user_id])}(e.org,e.orgUser);return(0,n.jsx)(C,{isOrgAdmin:!1,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:e.groupsUserIsAdminOf?e.groupsUserIsAdminOf.map(e=>e.id):[],taxStatusCount:void 0,isDataLoaded:void 0!==e.invoices})}function k(e){let t=function(e){let t=(0,d.A9)(e.id),a=(0,j.vO)(e),n=s.useMemo(()=>(0,j.F8)(t.data),[t.data]),r=t.data?.invoices;return s.useMemo(()=>{if("loaded"!==t.status||!r||"loading"===a.status)return 0;let s=0;a.data?.show&&!a.data?.confirmed&&s++;let i=(0,x.WY)({invoices:r,org:e,renewalAt:n});return i?.notification&&s++,s},[r,e,t.status,a.data,a.status,n])}(e.org),a=(0,y.O)(e.licenseGroups,e.orgUser.user_id,!1).groupsUserIsAdminOf.map(e=>e.id);return void 0!==e.taxIdVerificationStatus&&void 0!==e.invoices?(0,n.jsx)(C,{isOrgAdmin:!0,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:a,taxStatusCount:0,isDataLoaded:void 0!==e.invoices}):null}function O(e,t,a,n,s,r){if(!n||!(0,E.wE)(n))return null;if(r){if(!s)return null;let{groupsUserIsAdminOf:e}=(0,y.O)(a,t.user_id,r),{groupsToReview:i}=(0,y.hj)(e,n);if(0===i.length)return null}return{tooltipData:"",iconStyle:(0,E.vl)(n)?"admin_notifications_count_badge--redIcon--f5d7D":A,iconType:(0,E.vl)(n)?"warning":"notice"}}function q(e){return e!==I.v4.UNVERIFIED?null:{tooltipData:(0,p.t)("billing_status.tax_id.invalid"),iconStyle:A,iconType:"notice"}}function L(e){return(0,n.jsx)(m.SV,{boundaryKey:"OrgAdminBillingStatusBadge",fallback:(0,n.jsx)("div",{}),children:(0,n.jsx)(M,{...e})})}function P(e){let t=(0,r.I0)(),a=(0,y.$4)(),i=e.invoices&&(0,E.qQ)(e.invoices),l=e.org.bigma_enabled&&e.orgUser.license_admin&&e.orgUser.permission!==I.Gu.ADMIN,o=(0,c.DG)(T.dRO,{orgId:e.org.id}),d="loaded"===o.status?o.data.org?.taxIdVerificationStatus:null;s.useEffect(()=>{i&&l&&t(v.U2({forceRefetch:!1}))},[t,e.org.id,i,l]);let u=(()=>{switch(e.highlightType){case E.SR.BILLING_STATUS:return O(e.org,e.orgUser,a,e.invoices,i,l);case E.SR.TAX_ID_STATUS:return q(d);default:return O(e.org,e.orgUser,a,e.invoices,i,l)||q(d)}})();if(!u)return null;let m=`${u.iconStyle} ${e.inlineIcon?"admin_notifications_count_badge--inline--zXJtP":""} ${e.alignTop?"admin_notifications_count_badge--multiLineIcon--6rRw0":""}`,p={};e.showTooltip&&(p["data-tooltip-type"]=N.fR.TEXT,p["data-tooltip"]=u.tooltipData,p["data-tooltip-show-below"]=!0,p["data-tooltip-timeout-delay"]=50,p["data-tooltip-max-width"]=117);let g=(0,n.jsx)(_.n,{className:`admin_notifications_count_badge--warningSvg--DQVcp ${m}`,svg:w.Z,useOriginalSrcFills_DEPRECATED:!0,...p}),h=e.showTooltip?(0,n.jsx)(f.b,{className:m,dataTooltipType:p["data-tooltip-type"],dataTooltip:p["data-tooltip"],dataTooltipShowBelow:p["data-tooltip-show-below"],dataTooltipTimeout:p["data-tooltip-timeout-delay"],dataTooltipMaxWidth:p["data-tooltip-max-width"]}):(0,n.jsx)(f.b,{className:m}),x="warning"===u.iconType?g:h;return(0,b.bC)(x,"Org Admin Billing Status Badge",{orgId:e.org.id,isCurrentUserLicenseAndNotOrgAdmin:l})}function M(e){let t=(0,r.I0)(),a=e.orgUser.permission===I.Gu.ADMIN,i=(0,y.US)(),l=(0,y.$4)(),{groupsUserIsAdminOf:o}=(0,y.O)(l,e.orgUser.user_id,!a),u=(0,d.A9)(e.org.id),m="loaded"===u.status?u.data?.invoices??[]:void 0;s.useEffect(()=>{t(v.U2({forceRefetch:!1}))},[t,e.org.id]);let _=o[0]?.id,p=e.org.bigma_enabled&&i&&!!_,h=(0,S.d3)(e.org.id).data??[],x=e.org.bigma_enabled&&h.length>0,f=a||p||x,b=(0,g.iv)({isIntendedAudience:e.org.bigma_enabled&&!a}),j=(0,c.DG)(T.dRO,{orgId:e.org.id},{enabled:a}),E="loaded"===j.status?j.data.org?.taxIdVerificationStatus:void 0;return f?a?(0,n.jsx)(k,{planType:g.YH.ORG,planId:e.org.id,orgUser:e.orgUser,licenseGroups:l,taxIdVerificationStatus:E,invoices:m,isSelected:e.isSelected,org:e.org}):p?b?(0,n.jsx)(R,{invoices:m,groupsUserIsAdminOf:o,isSelected:e.isSelected,planId:e.org.id,planType:g.YH.ORG,orgUser:e.orgUser,org:e.org}):(0,n.jsx)(P,{invoices:m,showTooltip:!1,org:e.org,orgUser:e.orgUser}):null:null}},637521:function(e,t,a){a.d(t,{Kv:()=>tb,vs:()=>tS});var n,s=a(750357),r=a(853505),i=a(577851),l=a(527986),o=a(115908),d=a(875533),c=a(894546);a(607906);var u=a(342534),m=a(365448),_=a(696200),p=a(498869),g=a(259946),h=a(590914),x=a(659461),f=a(205433),v=a(45190),b=a(479852),j=a(10553),y=a(750077),I=a(850340),T=a(53022),E=a.n(T),S=a(879370),N=a(240473),A=a(225094),w=a(404639),C=a(469271),R=a(931747),k=a(128517),O=a(242802),q=a(218048),L=a(20023),P=a(317627),M=a(260736),D=a(67475),B=a(5794),U=a(274461),G=a(178922),F=a(914997);let V=(0,G.x2)("restricted_edu_tooltip",function(e){let{text:t,title:a}=e;return(0,s.jsxs)("span",{className:F.fL,children:[(0,s.jsx)("span",{style:{fontWeight:600},children:a})," ",t]})},e=>({title:e.getAttribute("data-tooltip-title"),text:e.getAttribute("data-tooltip-text")})),H="members_list_row--column--KU3pQ",W="members_list_row--permissionsColumnModal--IUmGz members_list_row--column--KU3pQ",z="members_list_row--roleRowWithRequestsModal--3zp0s members_list_row--_membersListRowGridWithRequestsBase--j-08Q",K="members_list_row--acceptDenyText--x-YlV text--fontPos13--5OfL8 text--_fontBase--VaHfk blue_link--blueLink--4ER8T",$="members_list_row--fixedContextMenu--OqYVE",Y="members_list_row--select--u4vOf members_list_row--column--KU3pQ",Z="members_list_row--dropdownIcon--hww0f",X="members_list_row--avatarWithHandle--3heXs";var Q=a(931645),J=a(939697),ee=a(140769);let et="team-member-list-row-dropdown";function ea(e){let t=(0,i.I0)(),a=(0,O.XU)(),n=(0,R.g)(),l=(0,k.LB)(),o=(0,r.useMemo)(()=>{let t=e.team?.team;return t?{teamName:t.name,isCurrentUserTeamOwner:t.isOwner,canMakeTeamMemberAdmin:t.canAdmin,canEditTeamMemberRole:(0,q.NZ)(e.teamRole,!!t.canAdmin,!!t.canEdit)}:null},[e.team,e.teamRole]),d=r.useRef(null),c=()=>l&&l.type===et&&l.data.roleId===e.teamRole.id,u=()=>{t((0,L.c_)({role:e.teamRole}))},m=a=>{(0,I.q8)(e.teamRole.resource_type===b._g.TEAM,"MembersListRow is only for team roles");let n=()=>t((0,P.xI)({role:e.teamRole,level:a}));a===y.V5.OWNER?t((0,C.K4)({type:U.z,data:{resourceType:e.teamRole.resource_type,resourceName:o?.teamName||"",newOwnerName:e.teamRole.user.handle,onConfirmTransfer:n}})):n()},_=(a,n)=>{e.isModal&&t(C.hV()),t(w.fv({view:"user",userId:n.id,userViewTab:D.l.INTERNAL_PROFILE}))},p=(t,n)=>{let r;return e.teamRole.pending||(r=_),(0,s.jsx)(B.oJ,{className:e.isModal?"members_list_row--avatarWithHandleModal--70YMs admin_settings_page--avatarWithHandle--I9dou ellipsis--ellipsis--70pHK":X,defaultFallbackAvatarSvg:e.teamRole.pending?Q.Z:void 0,defaultText:"--",enabled:e.teamRole.pending,entity:t,includeUserEmailAddress:n,initializableEntityProperties:["handle","name","email"],onClick:r,overrideHandle:n?t.handle||t.name||t.email:void 0,showIsMe:e.teamRole.user_id===a.id,size:24})},g=e.teamRole.pending?((e,t)=>{let a=n?.usersByEmail[e.user.email]||{};return{...a,...e.user,id:e.user.id,email:a?.email??t??e.user.email}})(e.teamRole,e.emailLg):e.teamRole.user;return(0,s.jsxs)("div",{className:E()({"members_list_row--roleRowWithRequests--anKUF members_list_row--_membersListRowGridWithRequests--4YlUT members_list_row--_membersListRowGridWithRequestsBase--j-08Q":!e.isModal,[z]:e.isModal}),"data-testid":"members-list-row",children:[e.isModal&&(0,s.jsx)("div",{className:"members_list_row--nameColumnModal--ZIaCu members_list_row--column--KU3pQ",children:p(g,!0)}),!e.isModal&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"members_list_row--nameColumn--K0xL7 members_list_row--column--KU3pQ members_list_row--_hideWhenNarrow--f8qpB",children:p(g,!1)}),(0,s.jsx)("div",{className:"members_list_row--nameAndEmailColumn--UhuPj members_list_row--column--KU3pQ members_list_row--_showWhenNarrow--hX3a3",children:p(g,!0)}),(0,s.jsx)("div",{className:"members_list_row--emailColumn--tpeqB members_list_row--column--KU3pQ members_list_row--_hideWhenNarrow--f8qpB",children:(0,s.jsx)(A.x,{truncate:!0,children:g.email})}),(0,s.jsx)("div",{})]}),(0,s.jsxs)("div",{className:e.isModal?W:H,children:[(()=>{if(e.isEduRestrictedLg)return(0,s.jsx)(N.n,{className:"members_list_row--warningIcon--k99og","data-tooltip":V,"data-tooltip-max-width":250,"data-tooltip-offset-y":10,"data-tooltip-text":(0,h.t)("team_view.upgrade.to_continue_editing_they_need_to_verify_their_education_status_at_www_figma_com_education_apply"),"data-tooltip-timeout-delay":50,"data-tooltip-title":(0,h.t)("team_view.upgrade.can_only_view",{teamMember:"handle"in e.teamRole.user?e.teamRole.user.handle:e.teamRole.user.email??""}),"data-tooltip-type":M.fR.SPECIAL,dataTestId:"restricted-edu-user-tooltip",svg:ee.Z})})(),(()=>{let n,r=[],i=!1;if(e.teamRole.user_id!==a.id||o?.isCurrentUserTeamOwner)if(!o?.canEditTeamMemberRole)return(0,s.jsx)("span",{className:"members_list_row--nonDropdownPadding--VY9hb",children:(0,q.$8)(e.teamRole.level)});else o?.isCurrentUserTeamOwner&&!e.teamRole.pending&&r.push(y.V5.OWNER),o?.canMakeTeamMemberAdmin&&r.push(y.V5.ADMIN),r.push(y.V5.EDITOR),r.push(y.V5.VIEWER),i=e.teamRole.pending;else r.push(e.teamRole.level);let _=-24*Math.max(0,r.indexOf(e.teamRole.level));return c()&&l.data&&l.data.position&&(n={...l.data.position},n.top+=_),(0,s.jsxs)("div",{ref:d,children:[(0,s.jsxs)("div",{className:Y,onClick:()=>(a=>{if(c())t(w.kp());else{if(!d.current)return;let n=d.current?.getBoundingClientRect(),s=n.bottom+a>window.innerHeight,r=window.innerHeight-n.bottom;t(w.SP({type:et,data:{roleId:e.teamRole.id,position:{top:s?"auto":n.top,bottom:s?r:"auto",left:n.left-28,right:"auto"}}}))}})(120+_),children:[(0,s.jsx)("span",{children:(0,q.$8)(e.teamRole.level)}),(0,s.jsx)(N.n,{svg:J.Z,className:Z})]}),c()&&(0,s.jsxs)(S.Lt,{className:$,style:n,children:[r.map(t=>(0,s.jsx)(S.kq,{onClick:e.teamRole.level!==t?()=>m(t):void 0,checked:e.teamRole.level===t,children:(0,q.$8)(t)},t)),(0,s.jsx)(S.Z0,{}),i&&(0,s.jsx)(S.Wx,{onClick:u,children:(0,h.tx)("file_browser.team.resend_invite")}),(0,s.jsx)(S.Wx,{onClick:()=>m(y.V5.NONE),children:e.teamRole.user_id!==a.id||o?.isCurrentUserTeamOwner?(0,h.tx)("file_browser.team.remove_confirm"):(0,h.tx)("file_browser.team.leave_confirm")})]})]})})()]})]})}var en=a(444947),es=a(520039);let er="team-pending-member-role-request-dropdown";function ei(e){let t=(0,i.I0)(),a=(()=>{let e=(0,i.v9)(e=>e.dropdownShown);return e&&e?.type===er?e:null})(),n=r.useRef(null),[l,o]=r.useState(e.request.level),d=(0,i.v9)(t=>e.request.teamId&&t.roles.byTeamId[e.request.teamId]?t.roles.byTeamId[e.request.teamId][e.request.user.id]:null),c=r.useMemo(()=>d?[y.V5.EDITOR]:[y.V5.VIEWER,y.V5.EDITOR],[d]),u={id:e.request.user.id,img_url:e.request.user.imgUrl,handle:e.request.user.handle,name:e.request.user.name??"",email:e.request.user.email??""},m=r.useMemo(()=>-24*Math.max(0,c.indexOf(l)),[l,c]),_=r.useMemo(()=>{let e;return a&&a.data&&a.data.position&&(e={...a.data.position},e.top+=m),e},[a,m]),p={request_id:e.request.id,team_id:e.request.teamId,type:l,response:"accept",source:"TeamPendingMembersRow"};return(0,s.jsxs)("div",{className:z,children:[(0,s.jsx)("div",{className:H,children:(0,s.jsx)(B.oJ,{entity:u,initializableEntityProperties:["handle","name","email"],size:24,className:X,onClick:(e,a)=>{t(w.fv({view:"user",userId:a.id,userViewTab:D.l.INTERNAL_PROFILE}))},overrideHandle:u.handle||u.name||u.email,defaultText:"--"})}),(0,s.jsxs)("div",{className:E()(H,"members_list_row--flexRight--5-Dxx"),children:[(0,s.jsx)("span",{onClick:()=>{p.response="deny",(0,en.L9)("permission_request_responded",p),t(es.Ok({requestId:e.request.id}))},className:K,role:"button",tabIndex:-1,children:(0,h.tx)("file_browser.team.dismiss")}),(0,s.jsx)("span",{onClick:()=>{(0,en.L9)("permission_request_responded",p),t(es.oP({requestId:e.request.id,level:l,teamId:e.request.teamId,email:e.request.user.email??"",user:u}))},className:K,role:"button",tabIndex:-1,children:(0,h.tx)("file_browser.team.approve")})]}),(0,s.jsx)("div",{className:W,children:(0,s.jsxs)("div",{ref:n,children:[(0,s.jsxs)("div",{className:Y,role:"button",tabIndex:0,onClick:()=>{c.length>1&&(s=>{if(a)t(w.kp());else{let a=n&&n.current&&n.current.getBoundingClientRect(),r=a?.bottom??0+s>window.innerHeight,i=window.innerHeight-(a?.bottom??0);t(w.SP({type:er,data:{requestId:e.request.id,position:{top:r?"auto":a?.top,bottom:r?i:"auto",left:a?.left??-28,right:"auto"}}}))}})(120+m)},children:[(0,s.jsx)("span",{children:(0,q.$8)(l)}),c.length>1&&(0,s.jsx)(N.n,{svg:J.Z,className:Z})]}),a&&a.data.requestId===e.request.id&&c.length>1&&(0,s.jsx)(S.Lt,{className:$,style:_,children:c.map(e=>(0,s.jsx)(S.kq,{onClick:l!==e?()=>{o(e),t(w.kp())}:void 0,checked:l===e,children:(0,q.$8)(e)},e))})]})})]})}function el({teamRoleRequests:e}){let t=e?.team?.pendingTeamRoleRequests??[];return 0===t.length?null:(0,s.jsxs)(s.Fragment,{children:[t.map(e=>(0,s.jsx)(ei,{request:e},e.id)),(0,s.jsx)("div",{className:"members_list_row--pendingRequestDividerModal--AZYYO members_list_row--pendingRequestDivider--Xr02a"})]})}function eo(e){let t=(0,v.mU)((0,j.gav)({teamId:e.teamId})),a=(0,v.mU)((0,j.C13)({teamId:e.teamId})),n=(0,v.mU)((0,j.Do2)({teamId:e.teamId})),[l,o,d]=(0,f.j)([t,a,n]),c=r.useMemo(()=>l?.team?.roles.reduce((e,t)=>{let a=!!l?.team?.studentTeamAt;return e[ed({id:t.id,user_id:t.userId,pending:t.pending})]=function(e,t){let a={id:t.id,created_at:t.createdAt.toISOString(),updated_at:t.updatedAt.toISOString(),level:t.level,resource_type:b._g.TEAM,resource_id_or_key:t.resourceId,hasValidEduGracePeriod:!!t.eduGracePeriod?.isValid,isStudent:!!t.user?.studentValidatedAt,isStudentTeam:e};return t.pending?{...a,user_id:null,pending:!0,pendingEmail:t.pendingEmail,user:{id:t.user?.id??"",email:t.pendingEmail??void 0}}:{...a,user_id:t.userId,pending:!1,pendingEmail:null,user:{id:t.user?.id??"",email:t.user?.email??"",img_url:t.user?.imgUrl??"",handle:t.user?.handle??""}}}(a,t),e},{})??{},[l]),u=(0,i.v9)(t=>t.teamMembersByTeamId[e.teamId]||{}),m=(()=>{let e={};return Object.values(u).forEach(t=>{t.team_role&&(e[t.team_role.id]=t)}),e})(),_=(()=>{let e=[],t={},a=new Set;Object.values(c).forEach(n=>{if(n.pending)return void e.push(n);t[n.user.id]=n,a.add(n.user?.email)});let n=e.filter(e=>!a.has(e.user?.email));return Object.values(t).concat(...n).sort((e,t)=>!0===e.pending&&!0===t.pending?e.user.email.toLowerCase()<t.user.email.toLowerCase()?-1:1:!0===e.pending?1:!0===t.pending||e.user.handle.toLowerCase()<t.user.handle.toLowerCase()?-1:1)})(),p=!_.some(e=>e.level===y.V5.OWNER||e.level===y.V5.ADMIN);return 0===_.length?(0,s.jsx)("div",{children:(0,h.tx)("file_browser.team.no_members")}):(0,s.jsxs)("div",{children:[(0,s.jsx)(el,{teamRoleRequests:d}),_.map(t=>(0,s.jsx)("div",{className:"members_list--memberRowForModal--uihIq",children:(0,s.jsx)(ea,{teamId:e.teamId,teamMember:m[t.id],teamRole:t,teamIsOrphaned:p,isModal:!0,team:o,isEduRestrictedLg:(e=>{let t=c[ed(e)];return!!t&&!!t.isStudentTeam&&t.level!==y.V5.VIEWER&&!e.pending&&!t.level&&!(t.isStudent||t.hasValidEduGracePeriod)})(t),emailLg:(e=>{let t=c[ed(e)];return t?.user?.email??null})(t)},`team-role-${t.id}`)},t.id))]})}function ed(e){return e.pending?`pending-${e.id}`:e.user_id??""}var ec=a(129237),eu=a(966369),em=a(926941),e_=a(388798),ep=a(68480),eg=a(892243),eh=a(655724),ex=a(64099),ef=a(806520),ev=a(712824),eb=a(678201),ej=a(155969);function ey(e){return(0,s.jsxs)("div",{className:"mobile_settings_tool_bar--fixedToolbar--o97b0",style:{width:e.width},children:[(0,s.jsx)("div",{className:"mobile_settings_tool_bar--tabContainer--OHjSY",children:e.tabs}),(0,s.jsx)(m.ol,{dispatch:e.dispatch,customStyle:{position:"static",marginTop:"8px",marginRight:"15px",marginLeft:"auto"}})]})}var eI=a(172040),eT=a(296109),eE=a(661193),eS=a(672650),eN=a(752212);function eA(e){let t=(0,i.v9)(e=>e.roles||{});return(0,eS.gX)(e.team)&&e.canAdmin?(0,s.jsx)("div",{className:eE.B.font12.lh16.pt8.pr32.pb16.pl4.colorText.$,children:(0,h.tx)("file_browser.team_settings_modal.paid_status_explanation_no_link")}):(0,s.jsx)("div",{className:"team_settings_modal--membersHeader---XnW4",children:(0,s.jsxs)(A.x,{color:"secondary",fontSize:12,children:[e.team.name,(0,h.tx)("file_browser.team_settings_modal.members_tab_header",{numMembers:(0,eN.qd)(t,e.team.id).length})]})})}var ew=a(5929),eC=a(403706),eR=a(35558),ek=a(704516),eO=a(903132),eq=a(710706),eL=a(342738),eP=a(755304),eM=a(102931),eD=a(792787),eB=a(843440),eU=a(404756),eG=a(871567),eF=a(919601),eV=a(473884),eH=a(749354),eW=a(73838),ez=a(864638),eK=a(118960),e$=a(17599),eY=a(790312),eZ=a(800375),eX=a(509707),eQ=a(53651),eJ=a(972921),e0=a(151279),e1=a(586570),e9=a(370669),e5=a(864493),e4=a(859340),e7=a(833038),e3=a(663791),e8=a(739842),e2=a(733791),e6=a(864197),te=a(476387),tt=a(121749),ta=a(865880),tn=a(68634);let ts=(0,ev.Y3)(function(){let e=(0,i.I0)(),t=(0,eN.V7)(),a=(0,v.DG)((0,j.a2g)({teamId:t})),n=a.data?.team,r=!n,l=!!n?.studentTeamAt&&!n?.isAiDataSharingEnabled,o=!!n?.aiFeaturesDisabledAt,d=async a=>{try{await ta.j.updateAiFeaturesDisabled({teamId:t,aiFeaturesDisabled:!a});let n=a?(0,h.t)("admin_settings.ai.enable_success"):(0,h.t)("admin_settings.ai.disable_success");e(e2.l.flash(n))}catch{e(e2.l.error((0,h.t)("file_browser.file_browser_actions.team_update_error")))}},c=async a=>{try{await ta.j.updateAiDataSharing({teamId:t,enabled:a}),(0,en.L9)("ai_data_sharing_toggled",{team_id:t,enabled:a}),e(e2.l.flash((0,h.t)("admin_settings.ai.data_sharing.update_success")))}catch(t){e(e2.l.error((0,h.t)("admin_settings.ai.data_sharing.update_error")))}},u=null;return o&&(u=(0,s.jsx)(e6.j,{children:(0,s.jsx)(te.k,{onEnable:()=>d(!0),planId:t,planType:b.k9.TEAM,testId:"ai-settings-ai-enabled-button"})})),(0,s.jsx)(tn.xm,{title:(0,s.jsx)(e6.j,{width:"hug-contents",padding:{left:8},children:(0,s.jsx)(A.x,{fontWeight:"medium",children:(0,h.tx)("admin_settings.ai.section_title")})}),onClose:()=>{e(C.eI())},fixedTop:!0,children:r?(0,s.jsx)(e6.j,{padding:64,children:(0,s.jsx)(g.jz,{testId:"ai-settings-spinner"})}):(0,s.jsxs)(e6.j,{direction:"vertical",padding:{top:20,left:16,right:16,bottom:16},spacing:16,children:[u,(0,s.jsxs)(e6.j,{horizontalAlignItems:"space-between",verticalAlignItems:"start",children:[(0,s.jsxs)(e6.j,{direction:"vertical",spacing:4,children:[(0,s.jsx)(A.x,{fontWeight:"medium",children:(0,h.tx)("admin_settings.ai.data_sharing.label")}),(0,s.jsx)(A.x,{color:"secondary",children:(0,h.tx)("admin_settings.ai.data_sharing.description.team",{learnMoreLink:(0,s.jsx)(e8.UU,{href:tt.y.aiDataSharing,target:"_blank",trusted:!0,children:(0,s.jsx)(A.x,{children:(0,h.tx)("general.learn_more")})})})})]}),(0,s.jsx)(e3.r,{label:(0,s.jsx)(s.Fragment,{}),checked:n.isAiDataSharingEnabled,onChange:c,disabled:l,htmlAttributes:{"data-testid":"ai-settings-ai-enabled-switch","data-tooltip":l?(0,h.t)("admin_settings.ai.data_sharing.disabled_for_student_teams"):void 0,"data-tooltip-type":M.fR.TEXT,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-tip-align-right":!0}})]})]})})},"TEAM_AI_SETTINGS_MODAL"),tr="settings_view--blueLink--4Ym-t blue_link--blueLink--4ER8T",ti="settings_view--redLink--jZ8r5 blue_link--blueLink--4ER8T",tl="settings_view--section--JPcLY",to="settings_view--sectionHeader--K7YLQ text--fontPos13--5OfL8 text--_fontBase--VaHfk",td="settings_view--upgradeBanner--BidNa",tc="settings_view--upgrageBannerIcon--Wd1pN",tu="settings_view--upgradeBannerBody--iifqn",tm="settings_view--blueLinkForBanner--AZYy- settings_view--blueLink--4Ym-t blue_link--blueLink--4ER8T",t_="settings_view--accessIcon--pzLpa";var tp=a(167894),tg=a(551954),th=a(640547);function tx(e){let t=(0,i.I0)(),a=(0,eF.Fg)(),n=e.team,l=(0,i.v9)(e=>(0,ez.getPermissionsState)(e)),o=n.org_id?l.orgById[n.org_id]:null,d=(0,r.useMemo)(()=>({teamId:n.id,orgId:n.org_id,canAdmin:(0,ez.canAdminTeam)(n.id,l),description:n.description||"",communityProfileHandle:n.community_profile_handle,communityProfileId:n.community_profile_id}),[n,l]),[c]=(0,eW.aM)((0,j.cNd)({teamId:e.team.id})),[u]=(0,eO.Eh)(c),m=(0,r.useMemo)(()=>{if("loaded"!==u.status||!u.data.team)return null;let t=u.data.team;return{teamId:e.teamId,orgId:t?.orgId,canAdmin:t?.canAdmin,description:t?.description||"",communityProfileId:t?.communityProfile?.id||null,communityProfileHandle:t?.communityProfile?.profileHandle??null}},[u,e.teamId]),_=(0,eH.lT)({oldValue:d,newValue:m,label:eH.NL.TeamSettingsView.teamInfo,enableShadowRead:!1,enableFullRead:(0,eV.XP)(eV.mU.GROUP_7),contextArgs:{teamId:e.teamId}}),p=u?.data?.team?.plan?.tier,g=(0,r.useMemo)(()=>{if("loaded"!==u.status||!u.data.team||!u.data.team.currentPlanUser)return null;let e=u.data.team.currentPlanUser;return{isProOrStudentTeam:p===b.Lz.PRO||p===b.Lz.STUDENT,isStudentTeam:p===b.Lz.STUDENT,canAdminOrg:!!e&&(0,eK.l1)(e,b.WM.ADMIN),isOrgGuest:e?.key.type===b.JC.ORG_USER&&e?.permission===b.WM.GUEST}},[u,p]),x=!g?.isOrgGuest,f=g?.canAdminOrg||_?.canAdmin&&!_?.orgId,y=!!(0,i.v9)(e=>(0,e$._)(e)),I=(0,e4.Lj)(!!u.data?.team?.canEdit,(0,eK._1)(u.data?.team?.plan??null)),T=e.billing.summary.annual_subscription,E=e.billing.summary.monthly_subscription,S=!!T&&!T.canceled_at,R=!!E&&!E.canceled_at,k=!_?.orgId&&!g?.isProOrStudentTeam&&_?.canAdmin,O=r.useMemo(()=>{if("loaded"===u.status&&u.data)return u.data.team?.workspace},[u]),q=u.data?.team&&(0,ek.unwrap)(u.data.team)?.hasActiveProjectConnection,L=(0,v.DG)(j.bEh,{teamId:n.id}),P=L.data?.team?.pendingAssetTransferRequest,D=P&&{id:P.id,source_user_email:P.sourceUser?.email,destination_user_email:P.destinationUser?.email,is_transfer_copy:P.isTransferCopy}||void 0,B=(0,v.DG)((0,j.$_z)({})),U=(0,ek.unwrap)(B.data?.personalDraftToPlanDraftLocation),G=U?.planParentId===n.id&&U?.status==="started";if("loaded"!==u.status)return null;let F=()=>{if(!g?.isProOrStudentTeam)return void t((0,C.K4)({type:eq.n,data:{teamId:_?.teamId,upsellSource:eg.V.TEAM_SETTINGS_MODAL,openCheckoutInNewTab:!0,onDone:()=>{t(C.h0({type:"TEAM_SETTINGS_MODAL"}))}}}));t(eU.s3({openInNewTab:!0,upsellSource:eg.V.TEAM_SETTINGS_VIEW,entryPoint:eY.x1.PRO_TEAM_SETTINGS_MODAL}))};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:tl,children:[(0,s.jsx)("div",{className:to,children:(0,h.tx)("file_browser.team_settings.team_name")}),(0,s.jsx)("div",{children:n.name}),_?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tr,onClick:()=>{t((0,C.K4)({type:(0,eB.A)(),data:{team:n}}))},children:(0,h.tx)("file_browser.team_settings.change_name")})})]}),(_?.canAdmin||_?.description)&&(0,s.jsxs)("div",{className:tl,children:[(0,s.jsx)("div",{className:to,children:(0,h.tx)("file_browser.about")}),(0,s.jsx)("div",{children:_?.description}),_?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tr,onClick:()=>{t((0,C.K4)({type:(0,eM.F)(),data:{team:n}}))},children:_?.description?(0,h.tx)("file_browser.team.change_description"):(0,h.tx)("file_browser.team.add_a_description")})})]})]}),_?.canAdmin&&n.org_access!==b.Zn.SECRET&&(0,s.jsxs)("div",{className:tl,children:[(0,s.jsx)("div",{className:to,children:(0,h.tx)("file_browser.team_settings_modal.community_profile")}),(0,s.jsx)("div",{children:_?.communityProfileHandle?(0,h.t)("file_browser.team_settings.team_community_handle",{communityProfileHandle:_?.communityProfileHandle}):""}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tr,onClick:()=>{t((0,C.K4)({type:eJ.Bh,data:{teamId:_?.teamId,profileId:_?.communityProfileId||"",profileHandle:_?.communityProfileHandle||""}}))},children:_?.communityProfileHandle?(0,h.t)("file_browser.team_settings.change_profile_handle"):(0,h.t)("file_browser.team_settings.set_profile_handle")})}),_?.communityProfileHandle&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tr,onClick:()=>{_?.communityProfileId&&_?.communityProfileHandle&&t((0,C.K4)({type:e0.p,data:{dispatch:t,profileId:_?.communityProfileId,handle:_?.communityProfileHandle}}))},children:(0,h.tx)("file_browser.team_settings.delete_profile")})}),_?.communityProfileHandle&&_?.orgId&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tr,onClick:()=>{_?.communityProfileId&&t((0,C.K4)({type:eQ.b,data:{profileId:_?.communityProfileId||"",profileHandle:_?.communityProfileHandle||"",emptyStateText:(0,h.t)("file_browser.team_settings.community_restricted_handles",{communityProfileHandle:_?.communityProfileHandle||""})}}))},children:(0,h.tx)("file_browser.team_settings.manage_restricted_commenters")})})]}),(0,s.jsxs)("div",{className:tl,children:[(0,s.jsx)("div",{className:to,children:_?.orgId?(0,h.tx)("file_browser.team_settings.shared"):(0,h.tx)("file_browser.team_settings_modal.libraries")}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tr,onClick:()=>{t((0,C.K4)({type:eX.yT,data:{teamId:_?.teamId,entrypoint:eZ.nh.TEAMS_SETTINGS_VIEW_TEAM_LIBRARIES}}))},children:(0,h.tx)("file_browser.team_settings.view_team_libraries")})}),y&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tr,onClick:()=>{t((0,C.K4)({type:eX.IH,data:{entrypoint:eZ.nh.TEAMS_SETTINGS_VIEW_TEAM_FONTS}}))},children:(0,h.tx)("file_browser.team_settings.view_team_fonts")})}),I&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tr,onClick:()=>{t((0,C.K4)({type:e7.P,data:{showMakeDefaultButton:!0,entryPoint:"team settings",theme:"dark"===a?"dark":"light"}}))},children:(0,h.tx)("file_browser.team_settings.view_team_figjam_palettes")})})]}),_?.orgId!=null&&n.org_access&&(0,s.jsxs)("div",{className:tl,children:[(0,s.jsx)("div",{className:to,children:(0,h.tx)("file_browser.settings.access")}),(0,s.jsxs)("div",{children:[(()=>{let e=n.sharing_audience_control?n.sharing_audience_control:n.org_access?n.org_access===b.Zn.PUBLIC&&"edit"===n.default_permission?b.I1.ORG_EDIT:n.org_access===b.Zn.PUBLIC?b.I1.ORG_VIEW:void 0:b.I1.INVITE_ONLY,t=(0,s.jsx)(N.n,{className:t_,svg:tg.Z});return(e===b.I1.ORG_EDIT||e===b.I1.ORG_VIEW)&&o?t=(0,s.jsx)("div",{className:t_,children:(0,s.jsx)(N.n,{svg:th.Z})}):(e===b.I1.WORKSPACE_EDIT||e===b.I1.WORKSPACE_VIEW)&&(t=(0,s.jsx)("div",{className:t_,children:(0,s.jsx)(eR.e,{})})),(0,s.jsxs)("div",{className:"settings_view--accessDescription--33gk5",children:[t,(0,s.jsx)("div",{children:(0,e9.Cq)(b._g.TEAM,o,O||null,e)})]})})(),_?.canAdmin&&o&&(0,s.jsx)("span",{role:"button",tabIndex:0,className:"settings_view--editAccessLink--HleHW modal--blueLink--Mcac6 blue_link--blueLink--4ER8T",onClick:()=>{t((0,C.K4)({type:e5.hs,data:{team:n,goBack:()=>{t((0,C.eI)())}}}))},children:(0,h.tx)("team_view.team_permissions_modal.change")})]}),!_?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)(A.x,{color:"secondary",children:(0,h.tx)("file_browser.team_settings.team_admins_and_owners_can_change")})})]}),k&&(0,s.jsxs)("div",{className:tl,children:[(0,s.jsx)("div",{className:to,children:(0,h.tx)("admin_settings.ai.section_title")}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tr,onClick:()=>{t((0,C.K4)({type:ts}))},children:(0,h.tx)("admin_settings.ai.manage_settings_link")})})]}),g?.isProOrStudentTeam&&!g?.isStudentTeam&&_?.canAdmin&&(0,s.jsxs)("div",{className:tl,children:[(0,s.jsx)("div",{className:to,children:(0,h.tx)("settings_table.plan_and_billing")}),(0,s.jsx)("div",{children:(0,h.tx)("file_browser.team_settings_modal.admin_console_billing_nudge")}),(0,s.jsx)("button",{className:tr,onClick:()=>{t(w.fv({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:ef.mb.BILLING})),t((0,C.eI)())},children:(0,h.tx)("file_browser.team_settings_modal.admin_console_billing_button")})]}),x&&(0,s.jsxs)("div",{className:tl,children:[(0,s.jsx)("div",{className:to,children:(0,h.tx)("file_browser.team_settings.transfer")}),(0,s.jsxs)("div",{children:[D&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,h.tx)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:D.source_user_email,destinationUserEmail:D.destination_user_email})}),f&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:ti,onClick:()=>{D&&t(C.K4({type:(0,eD.$)(),data:{pending:D,canRevokeProjectTransfer:!0,isTransferTeam:!0}}))},children:(0,h.tx)("file_browser.folder_settings.revoke")})})]}),!D&&f&&(q?(0,h.tx)("file_browser.team_settings.transfer_teams_without_active_connected_projects"):(0,h.tx)("file_browser.team_settings.transfer_team_link_to_an_external_organization",{transferTeamLink:(0,s.jsx)(ew.zx,{variant:"link",onClick:()=>{t((0,C.K4)({type:(0,eL.Mz)(),data:{teamId:n.id,entryPoint:eL.ts.ORG_TEAM_SETTINGS}}))},disabled:G,htmlAttributes:{"data-tooltip":G?(0,h.t)("file_browser.drafts_to_move.we_re_migrating_some_files_right_now_try_again_in_a_few_minutes"):void 0,"data-tooltip-type":M.fR.TEXT,"data-tooltip-max-width":G?200:void 0},children:(0,h.tx)("file_browser.team_settings.transfer_team")})})),!D&&!f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,h.tx)("file_browser.team_settings.only_org_name_admins_can_select_an_external_organization_to_manage_this_team",{orgName:o?.name})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tr,onClick:()=>{t((0,C.K4)({type:(0,eP.a)(),data:{planId:n.org_id||n.id,planType:n.org_id?b.k9.ORG:b.k9.TEAM,planName:n.name,entryPoint:eL.ts.ORG_TEAM_SETTINGS,resourceType:"team",resourceIdOrKey:n.id}}))},children:(0,h.tx)("file_browser.team_settings.see_who_can_help_with_transfers")})})]})]})]}),!g?.isProOrStudentTeam&&!_?.orgId&&_?.canAdmin&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:tl,children:[(0,s.jsx)("div",{className:to,children:(0,h.tx)("team_view.settings_table.delete_team")}),(0,s.jsx)("div",{children:(0,h.tx)("team_view.settings_table.delete_team_description")}),(0,s.jsx)("div",{children:(0,s.jsx)(eC.h,{className:G?"settings_view--greyedOutLink--5ROMc blue_link--blueLink--4ER8T":ti,onClick:()=>{var e;return e=S||R,void t((0,C.K4)({type:e1.d,data:{team:n,subscriptionStatus:e}}))},disabled:G,htmlAttributes:{"data-tooltip":G?(0,h.t)("file_browser.drafts_to_move.we_re_migrating_some_files_right_now_try_again_in_a_few_minutes"):void 0,"data-tooltip-type":M.fR.TEXT,"data-tooltip-max-width":G?200:void 0},children:(0,h.tx)("file_browser.team_settings.delete_team")})})]}),(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)(N.n,{className:tc,svg:tp.Z}),(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("strong",{children:(0,h.tx)("upgrade.ready_to_go_beyond_free_plan")}),(0,s.jsxs)("div",{children:[(0,h.tx)("upgrade.more_features"),(0,s.jsx)(em.XT,{className:tm,onClick:F,trackingProperties:{trackingDescriptor:eG.y.UPGRADE,upsellSource:eg.V.TEAM_SETTINGS_MODAL},children:(0,h.tx)("upgrade.view_plans")})]})]})]})]}),g?.isProOrStudentTeam&&_?.canAdmin&&(0,s.jsxs)("div",{className:td,children:[(0,s.jsx)(N.n,{className:tc,svg:tp.Z}),(0,s.jsx)("div",{className:tu,children:(0,s.jsxs)("div",{children:[(0,h.tx)("file_browser.team_settings_modal.upgrade_to_organization"),(0,s.jsx)(em.XT,{className:tm,onClick:F,trackingProperties:{trackingDescriptor:eG.y.UPGRADE_TO_ORGANIZATION,upsellSource:eg.V.TEAM_SETTINGS_MODAL},children:(0,h.tx)("file_browser.team_settings_modal.upgrade")})]})})]})]})}var tf=a(289980);let tv=(0,eT.Bw)();var tb=((n=tb||{}).SETTINGS="SETTINGS",n.MEMBERS="MEMBERS",n);let tj=(0,ec.u4)(async(e,{teamId:t,canViewTeam:a})=>{await eh.dI.promise,t&&a&&(0,ep._C)(t,e)});function ty(e){let t={MEMBERS:(0,h.t)("file_browser.team_settings_modal.members_tab"),SETTINGS:(0,h.t)("file_browser.team_settings_modal.settings_tab")},a=r.useRef(null),{setToolbarWidth:n}=e;r.useEffect(()=>{if(a){let e=a.current?.offsetWidth;e&&n(e)}},[n]);let i=e.team.org_id,o=i?[(0,s.jsx)("div",{className:"team_settings_modal--settingsHeader--hWwov",children:t.SETTINGS},"SETTINGS")]:(0,l.We)(Object.entries(t).map(([t,a])=>{if("SETTINGS"===t&&e.canEditTeam||"MEMBERS"===t)return(0,s.jsx)(tv,{tab:t,mobileNavTabTitle:a,selectedTab:e.selectedTab,onClick:()=>e.setTab(t),children:a},t)}));return e.isMobile?(0,s.jsx)(ey,{tabs:o,dispatch:e.dispatch,width:"100vw"}):(0,s.jsxs)("div",{className:"team_settings_modal--settingsModalToolbarFixedContainer--0eD0L",style:{minWidth:e.contentWidth},ref:a,children:[(0,s.jsx)(eI.u,{containerClassName:`${i?"team_settings_modal--toolBarSettingsOnly--SYGmm team_settings_modal--toolBarContainer--V7RIn":"team_settings_modal--toolBarContainerFullWidth--AtwZz team_settings_modal--toolBarContainer--V7RIn"} team_settings_modal--borderRadius--g1OEP`,tabs:o}),(0,s.jsx)(m.ol,{dispatch:e.dispatch,className:i?"team_settings_modal--settingsOnlyCloseButton--r5llz":"team_settings_modal--settingsCloseButton--gs2fm",onClose:()=>tE(e.dispatch,e.team,e.viewOnClose)})]})}let tI="TEAM_SETTINGS_MODAL";function tT({onRetry:e}){let t=(0,p.zj)();return(0,s.jsxs)(o.mQ,{variant:"warn",children:[(0,s.jsx)(d.v,{title:(0,h.t)("general.root_error_boundary_title"),children:t.error?.message}),(0,s.jsx)(c.z,{onClick:e,children:(0,h.t)("auth.try_again")})]})}let tE=(e,t,a)=>{e(w.fv(a))},tS=(0,ev.Y3)(function(e){let t=(0,i.I0)(),a=r.useRef(null),[n,l]=r.useState(-1),o=e_.t.useTrackingContext({trigger:eg.V.TEAM_SETTINGS_MODAL}),{canAdmin:d,canEdit:c,canView:m,entryView:p}=e,h=e.teamSettingsProps,f=(0,i.v9)(e=>e.teams[h.team.id]),v=(0,i.v9)(e=>e.avatarEditorState);if(r.useEffect(()=>{t(eu.oD())},[t]),r.useEffect(()=>{f&&t(tj({teamId:f.id,canViewTeam:m??!1}))},[m,t,f]),!f)return null;let b=u.K1,j=b?window.innerWidth:Math.min(.7*window.innerWidth,650),y=b?window.innerWidth:Math.max(j,n),I=d?(0,s.jsx)(eb.eL,{entity:f,entityType:ex.p.TEAM,avatarEditorState:v,size:80,dispatch:t,avatarSvg:tf.Z,svgSizeRatio:.6}):(0,s.jsx)(x.Ir,{team:f,size:80,avatarSvg:tf.Z,svgSizeRatio:.6});return(0,s.jsx)(em.Ui,{name:"Team Settings Modal",properties:{teamId:f.id,...o},children:(0,s.jsxs)(ej.A2,{popStack:!0,size:y,height:b?window.innerHeight:.8*window.innerHeight,className:b?"team_settings_modal--fullScreenModal--YlHPu team_settings_modal--modal--DykEt modal--modal--2VSSd modal--modalShadow--ucS5o modal--modalBare--Kg4QV":"team_settings_modal--modalNoPadding--S8-Re team_settings_modal--modal--DykEt modal--modal--2VSSd modal--modalShadow--ucS5o modal--modalBare--Kg4QV",modalRef:a,onHide:()=>tE(t,f,p),children:[(0,s.jsx)(ty,{selectedTab:e.tab,setTab:e=>{t(C.cU({type:tI,data:{tab:e,canAdmin:d,canEdit:c,canView:m,teamSettingsProps:h,entryView:p}}));let n="team"===p.view?{view:"team",teamId:f.id,teamViewTab:"SETTINGS"===e?ef.xB.SETTINGS:ef.xB.MEMBERS}:p;t(w.fv(n));let s=a.current;s&&(s.scrollTop=0)},dispatch:t,isMobile:b,contentWidth:j,setToolbarWidth:l,team:f,viewOnClose:p,canEditTeam:c??!1}),(0,s.jsxs)("div",{className:"team_settings_modal--modalBody--mdOlB",children:[(0,s.jsx)("div",{className:"team_settings_modal--avatarContainer--Q1Rdp",children:I}),"SETTINGS"===e.tab&&(0,s.jsx)(em.Ui,{name:"Team Settings",children:(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{...{className:"x1bpp3o7"},children:(0,s.jsx)(g.TK,{})}),children:(0,s.jsx)("div",{className:"team_settings_modal--settingsContainer--o6OYj",children:(0,s.jsx)(tx,{teamId:h.team.id,team:f,billing:h.billing})})})}),"MEMBERS"===e.tab&&(0,s.jsxs)("div",{className:"team_settings_modal--membersContainer--SaAwn",children:[(0,s.jsx)(eA,{team:f,canAdmin:d}),(0,s.jsx)(_.U,{boundaryKey:"members-list",loadingFallback:(0,s.jsx)("div",{...{className:"x1bpp3o7"},children:(0,s.jsx)(g.TK,{})}),errorFallback:e=>(0,s.jsx)(tT,{onRetry:e}),children:(0,s.jsx)(eo,{teamId:f.id})})]})]})]})})},tI,ev.Et.YES)},470791:function(e,t,a){a.d(t,{M:()=>c});var n=a(750357),s=a(158639),r=a(590914),i=a(868907),l=a(798870),o=a(983027),d=a(70132);function c(e){return(0,n.jsx)(s.X,{label:"UnavailableView",children:(0,n.jsx)(u,{...e})})}function u(e){let t=(e=>{switch(e){case l.Hy.PROJECT:return(0,r.t)("file_browser.project");case l.Hy.TEAM:return(0,r.t)("file_browser.team");case l.Hy.WORKSPACE:return(0,r.t)("file_browser.workspace");case l.Hy.LICENSE_GROUP:return(0,r.t)("file_browser.billing_group");default:return(0,r.t)("file_browser.unavailable_view_resource")}})(e.resourceType),a=(e=>{switch(e){case l.Hy.PROJECT:return(0,r.t)("file_browser.project_capitalized");case l.Hy.TEAM:return(0,r.t)("file_browser.team_capitalized");case l.Hy.WORKSPACE:return(0,r.t)("file_browser.workspace_capitalized");case l.Hy.LICENSE_GROUP:return(0,r.t)("file_browser.billing_group_capitalized");default:return(0,r.t)("file_browser.unavailable_view_resource_capitalized")}})(e.resourceType),s=(0,n.jsxs)("div",{className:"unavailable_view--unavailableViewContainer--PkdUF",children:[(0,n.jsx)("div",{className:"unavailable_view--header--RP-J5 text--fontPos18--FkHj- text--_fontBase--VaHfk",children:(0,r.tx)("file_browser.unavailable_view_resource_not_found",{capitalizedResourceNoun:a})}),(0,n.jsx)("div",{className:"unavailable_view--detailText--eOfm9 text--fontPos14--QJNQC text--_fontBase--VaHfk",children:(0,r.tx)("file_browser.unavailable_view_text",{resourceNoun:t})}),(0,n.jsx)(o.NuxOnboardingOverlay,{entryPoint:d.HY.FileBrowserUnavailableView})]});return(0,n.jsx)(i.S,{content:s})}},282581:function(e,t,a){a.d(t,{a:()=>s});var n,s=9793==a.j?((n=s||{}).AdminUpgradeEmail="admin_upgrade_email",n.UnknownDeeplink="unknown_deeplink",n):null},371241:function(e,t,a){a.d(t,{_:()=>h,k:()=>x});var n=a(853505),s=a(577851);if(9793==a.j)var r=a(408014);var i=a(704516),l=a(962515),o=a(590914),d=a(1093);if(9793==a.j)var c=a(731039);if(9793==a.j)var u=a(282581);var m=a(658790),_=a(10553),p=a(908637);let g=9793==a.j?{approvalRequestId:"approvalRequestId",entryPoint:"entryPoint"}:null;async function h(e,t,a){try{let n=await (0,l.Yj)(_.Zaw,{requestId:e}),s=(0,i.unwrap)(n.accountTypeRequest);if(!s){a&&a("notFound"),f(t,(0,o.t)("admin_dashboard.requests.not_found"));return}if("pending"!==s.status){a&&a("alreadyHandled"),t(d.R.enqueue({message:(0,o.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:s?.status==="approved"?"requests-approved":"requests-denied"}));return}return s}catch(e){a&&a("unknownFetchError"),f(t)}}function x(){let e=(0,s.I0)(),[t,a]=(0,n.useState)(!1),[i,l]=(0,n.useState)();(0,n.useEffect)(()=>{async function t(t){let n=await h(t,e);n?l(n):a(!0)}let n=(0,m.BA)(g.approvalRequestId);n&&((0,m.Zo)(g.approvalRequestId),t(n))},[e]),(0,n.useEffect)(()=>{async function n(t){let n=(0,m.BA)(g.entryPoint),s=(0,r.i)(u.a,n||"")??u.a.UnknownDeeplink,i=(0,r.i)(c.YH,t.planType)||c.YH.TEAM;try{let a=await p.e.approveRequests({plan_id:t.planId,plan_type:i,selection_method:c.Fg.DEEPLINK,included_request_ids:[t.id],entry_point:s});if(200===a.status){let a=t.requestableOrgUser?.user?.name??t.requestableTeamUser?.user?.name??"";v(e,a)}else f(e)}catch(t){f(e)}finally{a(!0),(0,m.Zo)(g.entryPoint)}}i&&!t&&n(i)},[i,e,t])}let f=(e,t)=>{e(d.R.enqueue({message:t||(0,o.t)("admin_dashboard.requests.error_generic"),error:!0}))},v=(e,t)=>{let a=t?(0,o.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}):(0,o.t)("admin_dashboard.requests.success_approve_multiple",{numRequests:1});e(d.R.enqueue({message:a,type:"requests-approved"}))}},121749:function(e,t,a){a.d(t,{y:()=>n});let n=9793==a.j?{aiFeatures:"https://help.figma.com/hc/articles/17725942479127",aiDataSharing:"https://figma.com/ai/our-approach",figmaApproachToAi:"https://figma.com/ai/our-approach"}:null},412981:function(e,t,a){a.d(t,{Dj:()=>m,EE:()=>c,Fg:()=>u});var n=a(853505),s=a(903132),r=a(10553),i=a(73838),l=a(672650),o=a(98583),d=a(750077);function c(e){let[t]=(0,s.aM)((0,r.v0v)({teamId:e}));return(0,n.useMemo)(()=>t.transform(e=>(0,o.hb)(e)),[t])}function u(e){let[t]=(0,s.aM)((0,r.$rW)({teamId:e}));return(0,n.useMemo)(()=>t.transform(e=>(0,o.TU)(e)??[]),[t])}function m({teamId:e,teamPermissions:t,initialValue:a}){let s=i.t1.Team.useValue(e).data,r=(0,n.useCallback)(e=>a?a:!(0,l.e3)(s)&&e?d.V5.EDITOR:d.V5.VIEWER,[a,s]),[o,c]=(0,n.useState)(()=>r(!!t?.canEdit));return(0,n.useEffect)(()=>{c(r(!!t?.canEdit))},[t?.canEdit,r]),{default:r(!!t?.canEdit),inviteLevel:o,setInviteLevel:c}}},261245:function(e,t,a){a.d(t,{h:()=>g});var n=a(853505),s=a(577851);if(9793==a.j)var r=a(850340);var i=a(45190),l=a(195787),o=a(590914),d=a(1093);if(9793==a.j)var c=a(418798);var u=a(469271);if(9793==a.j)var m=a(479852);var _=a(10553),p=a(118960);function g(e){var t;let[a,g]=(0,n.useState)((t=e||"",/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))?e:void 0),h=(0,s.I0)(),x=(0,p.ZG)("useOpenResourceConnectionReviewModal").unwrapOr(null),f=(0,i.DG)(_.iqk,{resourceConnectionInviteId:a},{enabled:!!a}),v=(0,n.useMemo)(()=>{let e=(0,l.Wg)(f.data?.resourceConnectionInvite);return e&&{resourceConnectionInvite:{...e,resourceName:e.projectLimitedInfo?.name||"",hostInviter:{name:e.hostInviterPublic?.name||"",imgUrl:e.hostInviterPublic?.userPublicImgUrl||null},hostPlan:{name:e.hostPlanName,imgUrl:e.hostPlanImageUrl,type:e.hostPlanType},connectingPlan:{name:e.connectingPlanName,type:e.connectingPlanType}}}},[f]);return(0,n.useCallback)(()=>{if(a&&v&&x&&v?.resourceConnectionInvite.connectingPlanId===x.key.parentId){if(v?.resourceConnectionInvite.status===m.VS.PENDING)h(u.K4({type:c.g,data:v}));else{let e=(e=>{switch(e){case m.VS.APPROVED:return(0,o.t)("resource_connection.visual_bell.already_approved");case m.VS.DENIED:return(0,o.t)("resource_connection.visual_bell.already_denied");case m.VS.REVOKED:return(0,o.t)("resource_connection.visual_bell.already_revoked");case m.VS.PENDING:return;default:(0,r.vE)(e)}})(v?.resourceConnectionInvite.status);e&&h(d.R.enqueue({message:e}))}g(void 0)}},[v,h,x,a])}},561261:function(e,t,a){a.d(t,{Bf:()=>u,zk:()=>c});var n=a(850340),s=a(273634),r=a(632959),i=a(750077),l=a(867893),o=a(300941);let d=(0,l.sB)(i.OH,e=>({id:e.camel(),pending:e.camel(),user_id:e.camel(),level:e.camel(),resource_id_or_key:e.rename("resourceId"),resource_type:e.camel(),created_at:e.camel().custom({toLiveGraph:e=>new Date(e),toSinatra:e=>e.toISOString()}),updated_at:e.camel().stringToDate(),realtime_token:e.drop(),org_user:e.drop(),team_user:e.drop(),user:e.drop()}));function c(e,t){(e.pending||null===e.userId)&&((0,r.Jz)(s.k.FRONTEND_PLATFORM,Error("toSinatraConfirmedRole received a pending or null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,n.q8)(!1,"toSinatraConfirmedRole received a pending or null user_id"));let a=d.toSinatra(e),i=o.y.toSinatra(t);return{...a,pending:!1,user_id:a.user_id||"",resource_type:a.resource_type,user:i}}function u(e,t){e.pending&&null===e.userId||((0,r.Jz)(s.k.FRONTEND_PLATFORM,Error("toSinatraPendingRole received a non-pending or non-null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,n.q8)(!1,"toSinatraPendingRole received a non-pending or non-null user_id"));let a=d.toSinatra(e);return{...a,pending:!0,user_id:null,resource_type:a.resource_type,user:t}}(0,l.uc)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.uc)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.uc)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.uc)((e,t,a)=>[e()(d),t(d)(),a(d)()])},300941:function(e,t,a){a.d(t,{y:()=>s});var n=a(867893);let s=(0,n.ij)()(e=>({id:e.camel(),name:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),handle:e.camel(),img_url:e.camel(),email:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),description:e.camel(),org_id:e.drop(),appData:e.drop(),auto_open_in_desktop:e.drop(),backup_codes:e.drop(),can_sell_on_community:e.drop(),cmty_buyer_tos_accepted_at:e.drop(),cmty_seller_capabilities:e.drop(),color_profile:e.drop(),community_beta_at:e.drop(),community_blocked_at:e.drop(),community_commenting_blocked_at:e.drop(),community_profile_handle:e.drop(),community_profile_id:e.drop(),community_purchasing_blocked_at:e.drop(),created_at:e.drop(),debug_session_expires_at:e.drop(),delete_user_loading:e.drop(),dev_tokens:e.drop(),drafts_folder_id:e.drop(),email_validated_at:e.drop(),experiment_assignments:e.drop(),external_restricted_org_id:e.drop(),google_sso_only:e.drop(),has_content_from_other_plans:e.drop(),has_passed_visual_compliance:e.drop(),hub_file_publishing_blocked_at:e.drop(),job_title:e.drop(),job_title_source:e.drop(),keyboard_layout:e.drop(),locale:e.drop(),mfa_setup_token:e.drop(),mouse_scroll_to_zoom:e.drop(),oauth_tokens:e.drop(),password_token:e.drop(),personal_drafts_folder_id:e.drop(),phone_number:e.drop(),phone_token:e.drop(),plans:e.drop(),plugin_publishing_blocked_at:e.drop(),profile:e.drop(),realtime_token:e.drop(),realtime_token_inactive:e.drop(),right_click_drag_to_pan:e.drop(),saml_sso_only:e.drop(),screenreader_enabled:e.drop(),sharing_restricted:e.drop(),signup_locale:e.drop(),stripe_account_status:e.drop(),student_validated_at:e.drop(),temp_phone:e.drop(),track_tags:e.drop(),two_factor_app_enabled:e.drop(),two_factor_secret_loaded:e.drop(),unsubscribed_at:e.drop(),usage_purpose:e.drop(),utc_offset:e.drop()}));(0,n.uc)((e,t,a)=>[e()(s),t(s)(),a(s)()]),(0,n.uc)((e,t,a)=>[e()(s),t(s)(),a(s)()])},849231:function(e,t,a){a.d(t,{j:()=>r});var n=a(377064),s=a(681768);let r=new class{constructor(){this.AssetTransferSchemaValidator=(0,n.PP)(),this.OrgTeamTransfersSchemaValidator=(0,n.PP)()}getAssetTransfer(e){return this.AssetTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/${e.selectedAssetTransferRequest}`))}getOrgTeamTransfers(e){return this.OrgTeamTransfersSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/org_team_transfers/${e.orgId}`))}deleteAssetTransferRequest(e){return s.ZP.del(`/api/asset_transfer/${e.id}`)}approveAssetTransferRequest(e){return s.ZP.put(`/api/asset_transfer/${e.id}/approve`,{remove_collaborators:e.removeCollaborators})}}},983027:function(e,t,a){a.r(t),a.d(t,{NuxOnboardingOverlay:()=>v});var n=a(750357),s=a(853505),r=a(363240),i=a(545449),l=a(158639),o=a(869394),d=a(621298),c=a(240213),u=a(13021),m=a(237335),_=a(940358),p=a(728548),g=a(72656),h=a(98331),x=a(6323),f=a(417027);function v(e){return(0,n.jsx)(l.X,{label:"NuxOnboardingOverlay",children:(0,n.jsx)(b,{...e})})}function b(e){let t=(0,r.Dv)(c.z7),a=!!(0,m.p)("not_gen_0"),l=(0,r.Dv)(u.T3),v=(0,r.Dv)(u.ke),b=(0,r.Dv)(x.IS),j=(0,r.Dv)(u.nA),{show:y,complete:I,isShowing:T}=(0,d.I)({overlay:f.muD,priority:_.b.HIGH_PRIORITY_MODAL},[l,v,t,j]),E=s.useCallback(()=>{y({canShow:(e,t,a,n)=>!b&&function({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:a,isSamlSsoOnly:n}){return a?!n&&!(e&&["student","educator"].includes(e)):!(0,h.X)({jobTitle:e,emailValidatedAt:t})}({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:a,isSamlSsoOnly:n})})},[y,b]);if((0,i.O)(()=>{E()}),(0,o.B)(T),!T)return null;let{trackingContextName:S,testId:N}=t.data?{trackingContextName:"K12 Org Job Title Modal",testId:"NuxOnboardingOverlay-K12"}:a?{trackingContextName:"Gen1 Welcome Modal",testId:"NuxOnboardingOverlay-Gen1"}:{trackingContextName:"Gen 0 NUX",testId:"NuxOnboardingOverlay-Gen0"};return(0,n.jsx)(p.R,{isShowing:T,userFlagOnShow:"welcome_onboarded",testId:N,children:(0,n.jsx)(g.v,{isGen1:a,trackingContextName:S,entryPoint:e.entryPoint,isShowing:T,dismissModal:I})})}},611141:function(e,t,a){a.d(t,{X:()=>p,Y:()=>x});var n=a(750357),s=a(363240),r=a(545449),i=a(590914),l=a(621298),o=a(595475),d=a(940358),c=a(913408),u=a(421177),m=a(382455),_=a(417027);let p="sc_team_creation_modal_onboarding_key",g="seen_sharing_clarity_team_creation_modal_overlay",h=(0,o.n_)(g);function x(){let e=(0,s.Dv)(h),{show:t,isShowing:a,complete:o}=(0,l.I)({overlay:_.Y2h,priority:d.b.DEFAULT_MODAL},[e]);return(0,r.O)(()=>{t({canShow:e=>!e})}),(0,n.jsx)(c.ZZ,{arrowPosition:m.xI.LEFT_TITLE,description:(0,n.jsx)("p",{children:(0,i.tx)("rcs.sharing_clarity.team_creation_modal_description")}),disableHighlight:!0,emphasized:!0,isShowing:a,onClose:o,targetKey:p,title:(0,i.tx)("rcs.sharing_clarity.team_creation_modal_title"),trackingContextName:"Sharing Clarity Team Creation Modal Onboarding",userFlagOnShow:g,zIndex:u.c.MODAL})}},830851:function(e,t,a){a.d(t,{u8:()=>et,d3:()=>ea});var n=a(750357),s=a(853505),r=a(577851),i=a(527986),l=a(825012),o=a(923785),d=a(944365),c=a(204665),u=a(492342),m=a(444947),_=a(330837),p=a(45190),g=a(158639),h=a(739842),x=a(259946),f=a(240473),v=a(661193),b=a(590914),j=a(581294),y=a(966369),I=a(469271),T=a(926941),E=a(748387),S=a(397739),N=a(242802),A=a(753392),w=a(133645),C=a(479852),R=a(10553),k=a(761050),O=a(218048),q=a(98583),L=a(118960),P=a(410237),M=a(372908),D=a(750077),B=a(826250),U=a(157973),G=a(712824),F=a(617758),V=a(5794),H=a(611141),W=a(68634),z=a(370669),K=a(854758),$=a(792241),Y=a(469287);let Z="team_creation_modal--sectionHeader--jloPt text--fontPos11--rO47d text--_fontBase--VaHfk",X="team_creation_modal--flexRow--2tqdV";var Q=a(112242);function J(e){let t=(0,r.I0)(),a=(0,r.v9)(e=>e.currentUserOrgId)??"",g=(0,r.v9)(e=>e.orgById)[a],O=(0,N.xJ)(),q=(0,r.v9)(e=>e.orgDomains),[P,G]=s.useState(!0);(0,s.useEffect)(()=>{(0,m.L9)("team_creation_started",{user_id:O?.id??"",org_id:a})},[]),(0,s.useEffect)(()=>{t(y.oD())},[t]);let F=(0,p.DG)((0,R.ChP)({orgId:a})),K=(0,L.Rt)("TeamCreationModal"),Y=(0,L.N1)(K).unwrapOr(!1),J=(0,s.useMemo)(()=>{if("loaded"===F.status){let e=F.data.org?.workspaces?.filter(e=>e.canCreateTeam)??[];return(0,i.aV)(e,"name"),e}return[]},[F]),ea=(0,s.useMemo)(()=>{if("loaded"===F.status){let e=F.data.currentUser.baseOrgUser?.workspaceUsers?.filter(e=>e.isMainWorkspace);return e&&e.length>0?e[0].workspaceId:M.F}return null},[F]),en=e.workspaceId,es=J.find(e=>e.id===en),er=es&&es.orgAccess===C.Zn.SECRET?C.Zn.PRIVATE:C.Zn.PUBLIC,ei=es&&es.orgAccess===C.Zn.SECRET?z.x_.INVITE_ONLY:z.x_.ORG,el=(0,s.useMemo)(()=>("loading"!==F.status&&G(!1),"loaded"===F.status)?F.data.currentUser.baseOrgUser:null,[F]),[eo,ed]=s.useState(0),[ec,eu]=s.useState(er);(0,s.useEffect)(()=>{eu(er)},[er]);let em=C.Ze.EDIT,[e_,ep]=s.useState(D.V5.EDITOR),[eg,eh]=s.useState(e?.workspaceId??ea),ex=(0,L.I6)(),ef=ex.transform(e=>e.planRecordId).unwrapOr(null),ev=(0,A.R)(ef),eb=(0,w.n)(ef),ej=s.useCallback(e=>{let t=J.find(t=>t.id===e);if(eb&&t)return{id:t.id,name:t.name,canView:t.canView}},[J,eb]),[ey,eI]=s.useState(ej(eg));(0,s.useEffect)(()=>{eh(e=>e??ea),eI(ej(eg))},[ea,eg,ej]);let eT=(0,r.v9)(e=>e.autocomplete),eE=!!eT.errorMessage,eS=(0,E.N1)(eT.tokens),[eN,eA]=s.useState(z.CG.VIEW),[ew,eC]=s.useState(B.X_.ORG_BROWSABLE),[eR,ek]=s.useState(ei);(0,s.useEffect)(()=>{ek(ei)},[ei]);let[eO,eq]=s.useState(""),[eL,eP]=s.useState(""),eM=ex.transform(e=>e.tier===C.Lz.ENTERPRISE).unwrapOr(!1)&&J.length>0;(Y||ea===M.F)&&J.length>0&&(J=J.concat({id:M.F,name:(0,b.t)("team_creation.unassigned_workspace"),canCreateTeam:!0,orgAccess:C.Zn.PUBLIC,imgUrl:null,canView:!0}));let eD=(0,s.useId)(),eB=(0,u.BZ)().fpl_textarea_migration?(0,n.jsx)(l.g,{onChange:eP,value:eL,placeholder:(0,b.t)("team_creation.optional"),id:eD}):(0,n.jsx)(h.Sc,{className:"team_creation_modal--descriptionInput--0e-6Y",type:"textarea",onChange:e=>eP(e.target.value),value:eL,placeholder:(0,b.t)("team_creation.optional"),id:eD}),eU=e=>(0,n.jsx)("div",{className:"team_creation_modal--workspaceIcon--ij9I-",children:e&&e.id!==M.F?(0,n.jsx)(V.zf,{entity:e,size:16}):(0,n.jsx)(f.n,{svg:Q.Z})}),eG=(0,n.jsxs)(o.Root,{value:eg??M.F,onChange:e=>eh(e??M.F),children:[(0,n.jsx)(o.Trigger,{label:(0,n.jsx)(d.N,{children:(0,b.t)("team_creation.workspace")}),size:"lg",width:"fill",children:(0,n.jsx)("div",{className:"team_creation_modal--workspaceSelectorTrigger--diQOG",id:"create-team-modal-workspace-selector",children:(0,n.jsxs)("div",{className:X,children:[(0,n.jsx)("div",{children:eU(J.find(e=>e.id===eg))}),(0,n.jsx)("div",{children:J.find(e=>e.id===eg)?.name??""})]})})}),(0,n.jsx)(o.Container,{children:J.map(e=>(0,n.jsx)(o.Option,{value:e.id,children:(0,n.jsxs)("div",{className:X,children:[eU(e),e.name]})},e.id))})]}),eF=(0,s.useId)(),eV=(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(h.Sc,{autoFocus:!0,className:"team_creation_modal--teamNameInputSC--6TjIX","data-testid":"team_creation_modal_title",id:eF,maxLength:B.zO,minLength:1,onChange:e=>eq(e.target.value),placeholder:(0,b.t)("team_creation.writer_s_guild_placeholder"),required:!0,value:eO})});function eH(){let{onSubmitReturnToPrevView:a=!0}=e,n=e_??D.V5.EDITOR,s=(0,U.vc)(eT);t((0,S.$Y)({teamName:eO,orgAccess:ec,workspaceId:eg??void 0,dontRedirect:!a,inviteEmails:s.emails,userGroupIds:ev?s.userGroups:[],defaultPermission:em,description:eL,sharingAudienceControl:et(eR,eN),orgBrowsable:eR===z.x_.INVITE_ONLY&&ew===B.X_.ORG_BROWSABLE,hidden:eR===z.x_.INVITE_ONLY&&ew===B.X_.HIDDEN,inviteLevel:n})),e.afterSubmit&&e.afterSubmit(),t(I.eI())}function eW(){t(I.eI()),t(j.mc())}return(0,n.jsx)(T.Ui,{name:"Team Creation",children:(0,n.jsx)(W.xm,{title:1===eo?(0,b.t)("team_creation.add_people_to_team_name",{teamName:eO}):(0,b.t)("team_creation.org_modal_title_sc"),onClose:eW,maxWidth:480,children:(0,n.jsxs)("div",{className:v.B.m16.$,children:[0===eo?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.XP,{className:Z,htmlFor:eF,children:(0,b.t)("team_creation.name")}),eV,(0,n.jsx)(c.XP,{className:Z,htmlFor:eD,children:(0,b.t)("team_creation.team_description")}),eB,eM&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:Z,children:(0,b.t)("team_creation.workspace")}),eG]}),(0,n.jsx)("div",{className:Z,children:(0,b.t)("team_creation.who_has_access")}),(0,n.jsx)(H.Y,{}),(0,n.jsx)(z.tn,{resourceType:C._g.TEAM,value:eR,onChange:ek,org:g,audienceAccessLevel:eN,workspace:ey,dataOnboardingKey:H.X}),(0,n.jsx)("div",{className:Z,children:(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("legend",{children:eR===z.x_.INVITE_ONLY?(0,b.t)("team_creation.visibility"):null}),eR===z.x_.INVITE_ONLY?(0,n.jsx)(z.VZ,{selectedDiscoverability:ew,setSelectedDiscoverability:eC}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(z.KS,{label:(0,b.t)("team_creation.what_they_can_do"),selectedPermissionsLevel:eN,setSelectedPermissionsLevel:eA}),(0,n.jsx)("div",{className:"team_creation_modal--subtitle--7B6wl text--fontPos11--rO47d text--_fontBase--VaHfk",children:eN===z.CG.VIEW?(0,b.t)("team_creation.can_view_and_comment"):(0,b.t)("team_creation.can_create_and_edit_files")})]})]})})]}):P?(0,n.jsx)("div",{className:"team_creation_modal--modalSecondStep--rM1iU",children:(0,n.jsx)("div",{className:"team_creation_modal--loadingState--DcOCg",children:(0,n.jsx)(x.jz,{})})}):(0,n.jsx)("div",{children:(0,n.jsx)(ee,{permissionLevel:em,currentOrgId:a,currentOrgUser:el,inviteLevel:e_,onInviteLevelChange:ep,planRecordId:ef,userGroupsEnabled:ev,userGroupByIdFromTokens:eS})}),(0,n.jsxs)("div",{className:"team_creation_modal--bottomRow--oi76A",children:[(0,n.jsx)("div",{className:"team_creation_modal--footer--E9aS5 team_creation_modal--subtitle--7B6wl text--fontPos11--rO47d text--_fontBase--VaHfk",children:(0,b.tx)("team_creation.step_number_of_max_steps",{currentStep:eo+1,maxSteps:2})}),(0,n.jsxs)("div",{className:"team_creation_modal--buttons--8WHkN",children:[(0,n.jsx)(h.pJ,{onClick:eW,children:(0,b.tx)("project_creation.cancel")}),(0,n.jsx)(h.RS,{onClick:function(){if(0===eo)ed(1);else{var e;let a=g&&g.domain_capture&&q.domains.length>0?(0,U.vc)(eT).emails.filter(e=>(0,_.Jh)(e)&&!(0,k.nv)(q.domains,e)):[];a.length>0?(e=a,g?.invite_whitelist_guest_invite_setting==null&&e.length>0&&t(I.K4({type:$.E,data:{emails:e,onConfirm:()=>{eH()},popStack:!0,orgName:g.name}}))):eH()}},disabled:0===eo&&0===eO.trim().length||1===eo&&eE,children:0===eo?(0,b.tx)("general.continue"):(0,b.tx)("team_creation.create_team")})]})]})]})})})}function ee(e){let t=(0,r.I0)(),a=(0,r.v9)(e=>e.contacts),s=(0,r.v9)(e=>e.orgDomains),i=(0,r.v9)(e=>e.orgById),l=(0,r.v9)(e=>e.dropdownShown),o=(0,r.v9)(e=>e.autocomplete),d=(0,N.xJ)(),c=e.currentOrgId?i[e.currentOrgId]:null,m=(0,Y.TY)(c||null),_=t=>{let a=e.currentOrgId?i[e.currentOrgId]:null;return(0,q.r9)(t,a,s)},p=e=>{let t=(0,u.BZ)().team_creation_restricted_guests_err_ui&&c?.invite_whitelist_guest_invite_setting!=null;return(0,q.yH)(e,a.usersByEmail[e]||e,c,s,d.email,t?(0,b.t)("team_creation.restricted_against_adding_external_users"):null)},g=[D.V5.ADMIN,D.V5.EDITOR,D.V5.VIEWER],h=t=>(0,P.Qf)(t,a.usersByEmail,d,[],e.currentOrgId,null,null,{inviteLevel:e.inviteLevel,source:"team-invite-bar"}),x=t=>(0,P.Dm)(t,a.usersByEmail,d,[],e.planRecordId,{inviteLevel:e.inviteLevel,source:"team-invite-bar"},{resourceType:C._g.TEAM,resourceIdOrKey:void 0});return e.inviteLevel&&e.onInviteLevelChange?(0,n.jsx)(F.x,{SearchResultComponent:e.userGroupsEnabled?K.VM:K.ay,TokenComponent:e.userGroupsEnabled?K.k7:K.EZ,autocomplete:o,dispatch:t,dropdownKey:"permissions-invite-dropdown",dropdownShown:l,getSearchResults:e.userGroupsEnabled?x:h,getSelectText:O.h1,getTokenIdentifier:K._o,getTokenPopover:e.userGroupsEnabled?t=>(0,K.z)(t,e.userGroupByIdFromTokens):void 0,inviteLevel:e.inviteLevel,joinLinkShown:!1,onInviteLevelChange:e.onInviteLevelChange,options:g,placeholderText:e.userGroupsEnabled?(0,b.t)("user_groups.add_emails_names_or_user_groups"):(0,b.t)("team_creation.add_a_name_or_email"),searchResultDisabled:e.userGroupsEnabled?K.Yb:void 0,searchResultToken:e.userGroupsEnabled?m:_,shouldAutoFocus:!0,validateToken:p,validateTokensAsEmail:!0}):(0,n.jsx)(F.x,{SearchResultComponent:e.userGroupsEnabled?K.VM:K.ay,TokenComponent:e.userGroupsEnabled?K.k7:K.EZ,autocomplete:o,dispatch:t,dropdownShown:l,getSearchResults:e.userGroupsEnabled?x:h,getTokenIdentifier:K._o,getTokenPopover:e.userGroupsEnabled?t=>(0,K.z)(t,e.userGroupByIdFromTokens):void 0,inviteLevel:e.permissionLevel,joinLinkShown:!1,placeholderText:e.userGroupsEnabled?(0,b.t)("user_groups.add_emails_names_or_user_groups"):(0,b.t)("team_creation.add_a_name_or_email"),searchResultDisabled:e.userGroupsEnabled?K.Yb:void 0,searchResultToken:e.userGroupsEnabled?m:_,shouldAutoFocus:!0,validateToken:p})}function et(e,t){if(e===z.x_.ORG)if(t===z.CG.EDIT)return C.I1.ORG_EDIT;else return C.I1.ORG_VIEW;if(e===z.x_.WORKSPACE)if(t===z.CG.EDIT)return C.I1.WORKSPACE_EDIT;else return C.I1.WORKSPACE_VIEW;return C.I1.INVITE_ONLY}let ea=(0,G.Y3)(function(e){return(0,n.jsx)(g.X,{label:"TeamCreationModal",children:(0,n.jsx)(J,{...e})})},"TEAM_CREATION_MODAL",G.Et.YES)},864493:function(e,t,a){a.d(t,{Y_:()=>C,hs:()=>w});var n=a(750357),s=a(853505),r=a(577851),i=a(317429),l=a(451410),o=a(514177),d=a(492342),c=a(158639),u=a(739842),m=a(259946),_=a(590914),p=a(581294),g=a(469271),h=a(926941),x=a(397739),f=a(412981),v=a(133645),b=a(479852),j=a(118960),y=a(826250),I=a(712824),T=a(830851),E=a(370669),S=a(134951),N=a(374218);function A(e){let t=(0,r.I0)(),a=(0,f.EE)(e.team.id).data,s=a&&a.workspace?{id:a.workspace.id,name:a.workspace.name,canView:a.workspace.canView}:void 0,d=()=>{t(g.hV()),t(p.mc())},c=l.dd({...e,onClose:d});return(0,n.jsx)(h.Ui,{name:"Team Access Modal",properties:{resourceType:b._g.TEAM,resourceId:e.team.id},children:(0,n.jsx)(o.fC,{manager:c,width:"lg",children:(0,n.jsxs)(i.AU,{children:[(0,n.jsx)(i.h4,{children:e.goBack?(0,n.jsx)(S.i,{title:(0,_.t)("team_view.team_permissions_modal.access_settings"),onClick:e.goBack}):(0,n.jsx)(i.Dx,{children:(0,_.tx)("team_view.team_permissions_modal.access_settings")})}),(0,n.jsx)(i.uT,{children:a?a.org&&(0,n.jsx)(C,{team:e.team,org:a.org,teamSharingSettings:a.teamSharingSettings,hideModal:d,workspace:s}):(0,n.jsx)(m.jz,{className:N.V_})})]})})})}let w=(0,I.Y3)(function(e){return(0,n.jsx)(c.X,{label:"TeamAccessModal",children:(0,n.jsx)(A,{...e})})},"TeamAccessModal");function C(e){let t=(0,j.I6)().transform(e=>e.planRecordId).unwrapOr(null),a=(0,v.n)(t),i=(0,r.I0)(),l=s.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===b.I1.ORG_EDIT||t===b.I1.ORG_VIEW?E.x_.ORG:t===b.I1.WORKSPACE_EDIT||t===b.I1.WORKSPACE_VIEW?E.x_.WORKSPACE:E.x_.INVITE_ONLY},[e.teamSharingSettings]),o=s.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.orgBrowsable,a=e.teamSharingSettings&&e.teamSharingSettings.hidden;if(t);else if(a)return y.X_.HIDDEN;return y.X_.ORG_BROWSABLE},[e.teamSharingSettings]),c=s.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===b.I1.ORG_EDIT||t===b.I1.WORKSPACE_EDIT?E.CG.EDIT:(t===b.I1.ORG_VIEW||b.I1.WORKSPACE_VIEW,E.CG.VIEW)},[e.teamSharingSettings]),[m,p]=s.useState(l()),[g,h]=s.useState(o()),[f,I]=s.useState(c()),S=m===E.x_.INVITE_ONLY?g&&(0,n.jsx)("div",{className:(0,d.BZ)().audience_selector_fpl_radio?"":N.UH,children:(0,n.jsx)(E.VZ,{selectedDiscoverability:g,setSelectedDiscoverability:h})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.KS,{selectedPermissionsLevel:f,setSelectedPermissionsLevel:I}),(0,n.jsx)("div",{className:N.Oc,children:f===E.CG.VIEW?(0,_.t)("team_creation.can_view_and_comment"):(0,_.t)("team_creation.can_create_and_edit_files")})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:N.tR,children:(0,_.t)("team_creation.who_has_access")}),(0,n.jsx)(E.tn,{resourceType:b._g.TEAM,value:m,onChange:p,org:e.org,audienceAccessLevel:f,workspace:a?e.workspace:void 0}),(0,n.jsx)("div",{className:N.tR,children:m===E.x_.INVITE_ONLY?(0,_.t)("team_creation.visibility"):(0,_.t)("team_creation.what_they_can_do")}),S,(0,n.jsxs)("div",{className:N.P2,children:[(0,n.jsx)(u.pJ,{onClick:e.goBack||e.hideModal,children:(0,_.tx)("project_creation.cancel")}),(0,n.jsx)(u.RS,{onClick:()=>{let t=m===E.x_.INVITE_ONLY&&g===y.X_.ORG_BROWSABLE,a=m===E.x_.INVITE_ONLY&&g===y.X_.HIDDEN,n=(0,T.u8)(m,f);if(i((0,x.RY)({team:e.team,sharingAudienceControl:n,orgBrowsable:t,hidden:a})),e.goBack)return void e.goBack();e.hideModal()},children:(0,_.tx)("team_view.team_permissions_modal.save")})]})]})}},192724:function(e,t,a){a.d(t,{D7:()=>d,Q$:()=>r,Rt:()=>i,Rz:()=>u,V$:()=>c,Zf:()=>m,lD:()=>l,nq:()=>s,pn:()=>o});var n,s=((n=s||{}).NAME_SELF="Name Step",n.HOW_DO_YOU_PLAN_TO_USE_FIGMA="How do you plan to use Figma Step",n.WHAT_DO_YOU_DO="What Do You Do Step",n.WHAT_DO_YOU_DO_V2="What Do You Do Role Step",n.WHERE_OR_HOW_DO_YOU_WORK="Where Or How Do You Work Step",n.WHAT_TYPE_OR_LEVEL_OF_SCHOOL="What Type Or Level Of School Step",n.HOW_MANY_PEOPLE_WORK_IN_ORGANIZATION="How Many People Work At Your Organization Step",n.INVITE_COLLABORATORS="Invite Collaborators Step",n.HAVE_USED_WHITEBOARDS_BEFORE="Have You Used Digital Whiteboarding Tools Before Step",n.HAVE_USED_FIGMA_PRODUCTS_BEFORE="Have You Used Figma Products Before Step",n.CHOOSE_PLAN="Choose Plan Step",n.CHOOSE_PRODUCT="Choose Product Step",n.WHAT_DO_YOU_WANT_TO_MAKE_FIRST="What Do You Want To Make First Step",n.WHICH_SEAT_WOULD_YOU_LIKE="Which Seat Would You Like Step",n);let r=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step","Invite Collaborators Step","Have You Used Figma Products Before Step","Choose Plan Step","Choose Product Step"],i=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step","Invite Collaborators Step","Have You Used Digital Whiteboarding Tools Before Step","Choose Plan Step"],l=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step"],o=r.filter(e=>"Choose Product Step"!==e),d=r.filter(e=>"Choose Plan Step"!==e),c=["Name Step","What Do You Do Role Step","Have You Used Figma Products Before Step"],u=["Name Step","What Do You Do Role Step","Have You Used Figma Products Before Step"],m=["What Do You Do Step"]},620756:function(e,t,a){a.d(t,{q:()=>g});var n=a(750357),s=a(853505),r=a(577851),i=a(451410),l=a(514177),o=a(317429),d=a(5929),c=a(424969),u=a(739842),m=a(590914),_=a(225094),p=a(469271);function g(e){let t=(0,r.I0)();return(0,n.jsx)(h,{...e,open:!0,onClose:()=>t(p.eI())})}function h(e){let{title:t,subtitle:a,initialName:g,maxLength:h,onRename:x,placeholder:f,submitText:v,allowEmptyString:b}=e,j=(0,r.I0)(),[y,I]=s.useState(g),T=t??(0,m.t)("resource_rename_modal.title",{initialName:g}),E=i.dd({open:e.open,onClose:e.onClose}),S=()=>{j(p.eI())},N=()=>!b&&""===y.trim()||y.trim()===g.trim(),A=()=>{N()||(x(y),S())};return(0,n.jsx)(l.fC,{manager:E,width:"md",children:(0,n.jsxs)(o.AU,{children:[(0,n.jsx)(o.h4,{children:(0,n.jsx)(o.Dx,{children:T})}),(0,n.jsxs)(o.uT,{scrolling:"manual",children:[a,(0,n.jsx)(u.Sc,{autoFocus:!0,className:"resource_rename_modal--input--ov5oE",maxLength:h,placeholder:f,onChange:e=>I(e.currentTarget.value),value:y,onKeyDown:e=>{e.keyCode===c.sr.ENTER&&(e.preventDefault(),A())}}),h&&(0,n.jsx)("div",{className:"resource_rename_modal--lengthCount--GJVWI",children:(0,n.jsx)(_.x,{color:"secondary",children:(0,m.tx)("resource_rename_modal.lengthCount",{currentLength:y.length,maxLength:h})})})]}),(0,n.jsx)(o.$_,{children:(0,n.jsxs)(o.Dj,{children:[(0,n.jsx)(d.zx,{onClick:S,variant:"secondary",children:(0,m.tx)("resource_rename_modal.cancel")}),(0,n.jsx)(d.zx,{variant:"primary",disabled:N(),onClick:A,children:v})]})})]})})}},351678:function(e,t,a){a.d(t,{H5:()=>g,WR:()=>m,_h:()=>u,jC:()=>p});var n=a(750357);if(9793==a.j)var s=a(211839);if(9793==a.j)var r=a(921988);var i=a(355002),l=a(555792),o=a(590914),d=a(871567),c=a(800250);function u({children:e}){return(0,n.jsx)("div",{className:c.nf,children:e})}function m({dataOnboardingKey:e,children:t}){let{getTriggerProps:a,manager:i}=s.H9(),{isOpen:u}=i;return(0,n.jsxs)(s.fC,{manager:i,"data-testid":"multi-select-list-menu",children:[(0,n.jsx)("div",{className:u?void 0:c.wS,children:(0,n.jsx)(l.Hz,{...a(),"aria-label":(0,o.t)("multi_select_list.more"),"data-testid":"multi-select-list-menu-cell-icon","data-onboarding-key":e,trackingProperties:{trackingDescriptor:d.y.MORE},children:(0,n.jsx)(r.O,{})})}),(0,n.jsx)(s.W2,{children:t})]})}function _({children:e}){return(0,n.jsx)("div",{className:c.us,"data-testid":"multi-select-list-icon-column",children:e})}function p(){return(0,n.jsx)(l.Hz,{"aria-label":(0,o.t)("multi_select_list.manage"),trackingProperties:{trackingDescriptor:d.y.MANAGE},children:(0,n.jsx)(i.M,{})})}let g={name:"chevron-right",className:c.us,cellComponent:(e,{isClickable:t})=>(0,n.jsx)(_,{children:t?(0,n.jsx)(p,{}):null})}},797122:function(e,t,a){a.d(t,{GU:()=>m,HK:()=>f,c5:()=>h,oV:()=>x});var n=a(492342),s=a(363240),r=a(551916),i=a(607496),l=a(377897),o=a(631808),d=a(864638),c=a(127734);let u=(0,l.cg)(e=>{if("loaded"!==e.orgTeams.status)return r.IE.loading();let t=e.orgTeams.teams.filter(t=>t.org_id===e.currentUserOrgId);return r.IE.loaded(t)}),m=(0,s.ks)(u,({target:e})=>{let t=e.getStore();return(!t.getState().orgTeams.status||(0,n.BZ)().fb_org_teams_refetch)&&t.dispatch(i.U2({})),()=>{t.dispatch(i.Ux())}}),_=(0,l.cg)(e=>(0,d.getPermissionsStateMemoized)(e)),p=(0,s.cn)(e=>{let t=e(m),a=e(_);return t.transform(e=>e.filter(e=>(0,o.kn)(e,a)))}),g=(0,s.cn)(e=>e(p).transform(e=>(0,c.yl)(e))),h=(0,s.xu)(e=>(0,s.cn)(t=>t(g).transform(t=>t[e]??0))),x=(0,s.cn)(e=>e(p).transform(e=>e.filter(e=>null===e.workspace_id||void 0===e.workspace_id))),f=(0,s.ks)(u,({target:e})=>{let t=e.getStore();return(!t.getState().orgTeams.status||(0,n.BZ)().fb_org_teams_refetch)&&t.dispatch(i.U2({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!1})),()=>{t.dispatch(i.Ux())}})},495999:function(e,t,a){a.d(t,{t:()=>o});var n=a(750357),s=a(659461),r=a(260736),i=a(634433);let l=s.DZ.MEDIUM20;function o(e){let t=e.users.slice(0,e.numAvatarsToDisplay),a=e.users.slice(e.numAvatarsToDisplay);1===a.length&&t.push(a.pop());let o=a.slice(0,25).map(e=>e.handle).join("\n");return(0,n.jsxs)("div",{className:"avatars_pile--viewersList--nTprK",children:[e.totalNum-t.length>0&&(0,n.jsx)("div",{className:"avatars_pile--horizontalPileNumber--GSn9C avatars_pile--baseNumber--r5ge-","data-tooltip-type":r.fR.TEXT,"data-tooltip":o,children:e.totalNum-t.length}),t.reverse().map(t=>(0,n.jsx)("div",{className:"avatars_pile--avatar--xeS4e",children:(0,n.jsx)(i.qr,{user:t,children:(0,n.jsx)(s.Yt,{user:t,size:e.avatarSize?e.avatarSize:l})})},t.id))]})}},473098:function(e,t,a){a.d(t,{S:()=>o});var n=a(853505);if(9793==a.j)var s=a(777173);if(9793==a.j)var r=a(275393);if(9793==a.j)var i=a(543572);if(9793==a.j)var l=a(513766);let o=({children:e,id:t,inheritId:a,inherit:o=!0})=>{void 0!==a&&(o=a);let d=(0,n.useContext)(s.p),c=(0,n.useContext)(r.p),[u,m]=(0,i.N)(),_=(0,n.useRef)(null),p=d.id||c;if(null===_.current){let e;(!0==(!0===(e=o))||"id"===e)&&p&&(t=t?p+"-"+t:p),_.current={id:t,group:!0===o&&d.group||(0,l.A)()}}let g=(0,n.useMemo)(()=>({..._.current,forceRender:u}),[m]);return n.createElement(s.p.Provider,{value:g},e)}},275393:function(e,t,a){a.d(t,{p:()=>n});let n=(0,a(853505).createContext)(null)},513766:function(e,t,a){a.d(t,{A:()=>s});let n=e=>!e.isLayoutDirty&&e.willUpdate(!1);function s(){let e=new Set,t=new WeakMap,a=()=>e.forEach(n);return{add:n=>{e.add(n),t.set(n,n.addEventListener("willUpdate",a))},remove:n=>{var s;e.delete(n),null==(s=t.get(n))||s(),t.delete(n),a()},dirty:a}}}}]);

//# debugId=f46c4d01-f04e-5823-bc9d-c7dc32e3f9b2

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/7f92b7787fb4b613ac87e4a632d32326643e4040/224-49d0f351dc2e63aa.min.js.map